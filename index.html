<!DOCTYPE html><html><head><meta charset="utf-8"><title>Advanced Coding Interview Patterns.md</title><style>@charset "UTF-8";@import 'https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.css';code{color:#c7254e;background-color:#f9f2f4;border-radius:4px}code,kbd{padding:2px 4px}kbd{color:#fff;background-color:#333;border-radius:3px;box-shadow:inset 0 -1px 0 rgba(0,0,0,.25)}kbd kbd{padding:0;font-size:100%;box-shadow:none}pre{display:block;margin:0 0 10px;word-break:break-all;word-wrap:break-word;color:#333;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0}.pre-scrollable{max-height:340px;overflow-y:scroll}table{background-color:transparent}th{text-align:left}.table{width:100%;max-width:100%;margin-bottom:20px}.table>thead>tr>th{padding:8px;line-height:1.4285714;border-top:1px solid #ddd}.table>thead>tr>td,.table>tbody>tr>th,.table>tbody>tr>td,.table>tfoot>tr>th,.table>tfoot>tr>td{padding:8px;line-height:1.4285714;vertical-align:top;border-top:1px solid #ddd}.table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ddd}.table>caption+thead>tr:first-child>th,.table>caption+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>td,.table>thead:first-child>tr:first-child>th,.table>thead:first-child>tr:first-child>td{border-top:0}.table>tbody+tbody{border-top:2px solid #ddd}.table .table{background-color:#fff}.table-condensed>thead>tr>th,.table-condensed>thead>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tbody>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>tfoot>tr>td{padding:5px}.table-bordered,.table-bordered>thead>tr>th,.table-bordered>thead>tr>td,.table-bordered>tbody>tr>th,.table-bordered>tbody>tr>td,.table-bordered>tfoot>tr>th,.table-bordered>tfoot>tr>td{border:1px solid #ddd}.table-bordered>thead>tr>th,.table-bordered>thead>tr>td{border-bottom-width:2px}.table-striped>tbody>tr:nth-child(odd)>td,.table-striped>tbody>tr:nth-child(odd)>th{background-color:#f9f9f9}.table-hover>tbody>tr:hover>td,.table-hover>tbody>tr:hover>th{background-color:#f5f5f5}table col[class*="col-"]{position:static;float:none;display:table-column}table td[class*="col-"],table th[class*="col-"]{position:static;float:none;display:table-cell}.table>thead>tr>td.active,.table>thead>tr>th.active,.table>thead>tr.active>td,.table>thead>tr.active>th,.table>tbody>tr>td.active,.table>tbody>tr>th.active,.table>tbody>tr.active>td,.table>tbody>tr.active>th,.table>tfoot>tr>td.active,.table>tfoot>tr>th.active,.table>tfoot>tr.active>td,.table>tfoot>tr.active>th{background-color:#f5f5f5}.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover,.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr.active:hover>th{background-color:#e8e8e8}.table>thead>tr>td.success,.table>thead>tr>th.success,.table>thead>tr.success>td,.table>thead>tr.success>th,.table>tbody>tr>td.success,.table>tbody>tr>th.success,.table>tbody>tr.success>td,.table>tbody>tr.success>th,.table>tfoot>tr>td.success,.table>tfoot>tr>th.success,.table>tfoot>tr.success>td,.table>tfoot>tr.success>th{background-color:#dff0d8}.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover,.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr.success:hover>th{background-color:#d0e9c6}.table>thead>tr>td.info,.table>thead>tr>th.info,.table>thead>tr.info>td,.table>thead>tr.info>th,.table>tbody>tr>td.info,.table>tbody>tr>th.info,.table>tbody>tr.info>td,.table>tbody>tr.info>th,.table>tfoot>tr>td.info,.table>tfoot>tr>th.info,.table>tfoot>tr.info>td,.table>tfoot>tr.info>th{background-color:#d9edf7}.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover,.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr.info:hover>th{background-color:#c4e3f3}.table>thead>tr>td.warning,.table>thead>tr>th.warning,.table>thead>tr.warning>td,.table>thead>tr.warning>th,.table>tbody>tr>td.warning,.table>tbody>tr>th.warning,.table>tbody>tr.warning>td,.table>tbody>tr.warning>th,.table>tfoot>tr>td.warning,.table>tfoot>tr>th.warning,.table>tfoot>tr.warning>td,.table>tfoot>tr.warning>th{background-color:#fcf8e3}.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover,.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr.warning:hover>th{background-color:#faf2cc}.table>thead>tr>td.danger,.table>thead>tr>th.danger,.table>thead>tr.danger>td,.table>thead>tr.danger>th,.table>tbody>tr>td.danger,.table>tbody>tr>th.danger,.table>tbody>tr.danger>td,.table>tbody>tr.danger>th,.table>tfoot>tr>td.danger,.table>tfoot>tr>th.danger,.table>tfoot>tr.danger>td,.table>tfoot>tr.danger>th{background-color:#f2dede}.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover,.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr.danger:hover>th{background-color:#ebcccc}fieldset{border:0;min-width:0}legend{display:block;width:100%;margin-bottom:20px;font-size:21px;line-height:inherit;color:#333;border-bottom:1px solid #e5e5e5}label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700}input[type="radio"],input[type="checkbox"]{margin:4px 0 0;margin-top:1px \9;line-height:normal}input[type="file"]{display:block}input[type="range"]{display:block;width:100%}select[multiple],select[size]{height:auto}input[type="file"]:focus,input[type="radio"]:focus,input[type="checkbox"]:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}output{padding-top:7px}output,.form-control{display:block;font-size:14px;line-height:1.4285714;color:#555}.form-control{width:100%;height:34px;padding:6px 12px;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#777;opacity:1}.form-control:-ms-input-placeholder{color:#777}.form-control::-webkit-input-placeholder{color:#777}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{cursor:not-allowed;background-color:#eee;opacity:1}textarea.form-control{height:auto}input[type="date"],input[type="time"],input[type="datetime-local"],input[type="month"]{line-height:34px;line-height:1.4285714 \0}input[type="date"].input-sm,.form-horizontal .form-group-sm input.form-control[type="date"],.input-group-sm>input.form-control[type="date"],.input-group-sm>input.input-group-addon[type="date"],.input-group-sm>.input-group-btn>input.btn[type="date"],input[type="time"].input-sm,.form-horizontal .form-group-sm input.form-control[type="time"],.input-group-sm>input.form-control[type="time"],.input-group-sm>input.input-group-addon[type="time"],.input-group-sm>.input-group-btn>input.btn[type="time"],input[type="datetime-local"].input-sm,.form-horizontal .form-group-sm input.form-control[type="datetime-local"],.input-group-sm>input.form-control[type="datetime-local"],.input-group-sm>input.input-group-addon[type="datetime-local"],.input-group-sm>.input-group-btn>input.btn[type="datetime-local"],input[type="month"].input-sm,.form-horizontal .form-group-sm input.form-control[type="month"],.input-group-sm>input.form-control[type="month"],.input-group-sm>input.input-group-addon[type="month"],.input-group-sm>.input-group-btn>input.btn[type="month"]{line-height:30px}input[type="date"].input-lg,.form-horizontal .form-group-lg input.form-control[type="date"],.input-group-lg>input.form-control[type="date"],.input-group-lg>input.input-group-addon[type="date"],.input-group-lg>.input-group-btn>input.btn[type="date"],input[type="time"].input-lg,.form-horizontal .form-group-lg input.form-control[type="time"],.input-group-lg>input.form-control[type="time"],.input-group-lg>input.input-group-addon[type="time"],.input-group-lg>.input-group-btn>input.btn[type="time"],input[type="datetime-local"].input-lg,.form-horizontal .form-group-lg input.form-control[type="datetime-local"],.input-group-lg>input.form-control[type="datetime-local"],.input-group-lg>input.input-group-addon[type="datetime-local"],.input-group-lg>.input-group-btn>input.btn[type="datetime-local"],input[type="month"].input-lg,.form-horizontal .form-group-lg input.form-control[type="month"],.input-group-lg>input.form-control[type="month"],.input-group-lg>input.input-group-addon[type="month"],.input-group-lg>.input-group-btn>input.btn[type="month"]{line-height:46px}.form-group{margin-bottom:15px}.radio,.checkbox{position:relative;display:block;min-height:20px;margin-top:10px;margin-bottom:10px}.radio label,.checkbox label{padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.radio input[type="radio"],.radio-inline input[type="radio"],.checkbox input[type="checkbox"],.checkbox-inline input[type="checkbox"]{position:absolute;margin-left:-20px;margin-top:4px \9}.radio+.radio,.checkbox+.checkbox{margin-top:-5px}.radio-inline,.checkbox-inline{display:inline-block;padding-left:20px;margin-bottom:0;vertical-align:middle;font-weight:400;cursor:pointer}.radio-inline+.radio-inline,.checkbox-inline+.checkbox-inline{margin-top:0;margin-left:10px}input[type="radio"][disabled],input[type="radio"].disabled,fieldset[disabled] input[type="radio"],input[type="checkbox"][disabled],input[type="checkbox"].disabled,fieldset[disabled] input[type="checkbox"],.radio-inline.disabled,fieldset[disabled] .radio-inline,.checkbox-inline.disabled,fieldset[disabled] .checkbox-inline,.radio.disabled label,fieldset[disabled] .radio label,.checkbox.disabled label,fieldset[disabled] .checkbox label{cursor:not-allowed}.form-control-static{padding-top:7px;padding-bottom:7px;margin-bottom:0}.form-control-static.input-lg,.form-horizontal .form-group-lg .form-control-static.form-control,.input-group-lg>.form-control-static.form-control,.input-group-lg>.form-control-static.input-group-addon,.input-group-lg>.input-group-btn>.form-control-static.btn,.form-control-static.input-sm,.form-horizontal .form-group-sm .form-control-static.form-control,.input-group-sm>.form-control-static.form-control,.input-group-sm>.form-control-static.input-group-addon,.input-group-sm>.input-group-btn>.form-control-static.btn{padding-left:0;padding-right:0}.input-sm,.form-horizontal .form-group-sm .form-control,.input-group-sm>.form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.input-group-sm>.input-group-addon{height:30px;line-height:1.5}.input-group-sm>.input-group-btn>.btn{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-sm,.form-horizontal .form-group-sm select.form-control,.input-group-sm>select.form-control,.input-group-sm>select.input-group-addon,.input-group-sm>.input-group-btn>select.btn{height:30px;line-height:30px}textarea.input-sm,.form-horizontal .form-group-sm textarea.form-control,.input-group-sm>textarea.form-control,.input-group-sm>textarea.input-group-addon,.input-group-sm>.input-group-btn>textarea.btn,select[multiple].input-sm,.form-horizontal .form-group-sm select.form-control[multiple],.input-group-sm>select.form-control[multiple],.input-group-sm>select.input-group-addon[multiple],.input-group-sm>.input-group-btn>select.btn[multiple]{height:auto}.input-lg,.form-horizontal .form-group-lg .form-control,.input-group-lg>.form-control{height:46px;padding:10px 16px;font-size:18px;line-height:1.33;border-radius:6px}.input-group-lg>.input-group-addon{height:46px;line-height:1.33}.input-group-lg>.input-group-btn>.btn{height:46px;padding:10px 16px;font-size:18px;line-height:1.33;border-radius:6px}select.input-lg,.form-horizontal .form-group-lg select.form-control,.input-group-lg>select.form-control,.input-group-lg>select.input-group-addon,.input-group-lg>.input-group-btn>select.btn{height:46px;line-height:46px}textarea.input-lg,.form-horizontal .form-group-lg textarea.form-control,.input-group-lg>textarea.form-control,.input-group-lg>textarea.input-group-addon,.input-group-lg>.input-group-btn>textarea.btn,select[multiple].input-lg,.form-horizontal .form-group-lg select.form-control[multiple],.input-group-lg>select.form-control[multiple],.input-group-lg>select.input-group-addon[multiple],.input-group-lg>.input-group-btn>select.btn[multiple]{height:auto}.has-feedback{position:relative}.has-feedback .form-control{padding-right:42.5px}.form-control-feedback{position:absolute;top:25px;right:0;z-index:2;display:block;width:34px;height:34px;line-height:34px;text-align:center}.input-lg+.form-control-feedback,.form-horizontal .form-group-lg .form-control+.form-control-feedback,.input-group-lg>.form-control+.form-control-feedback,.input-group-lg>.input-group-addon+.form-control-feedback,.input-group-lg>.input-group-btn>.btn+.form-control-feedback{width:46px;height:46px;line-height:46px}.input-sm+.form-control-feedback,.form-horizontal .form-group-sm .form-control+.form-control-feedback,.input-group-sm>.form-control+.form-control-feedback,.input-group-sm>.input-group-addon+.form-control-feedback,.input-group-sm>.input-group-btn>.btn+.form-control-feedback{width:30px;height:30px;line-height:30px}.has-success .help-block,.has-success .control-label,.has-success .radio,.has-success .checkbox,.has-success .radio-inline,.has-success .checkbox-inline{color:#3c763d}.has-success .form-control{border-color:#3c763d;box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-success .form-control:focus{border-color:#2b542c;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168}.has-success .input-group-addon{color:#3c763d;border-color:#3c763d;background-color:#dff0d8}.has-success .form-control-feedback{color:#3c763d}.has-warning .help-block,.has-warning .control-label,.has-warning .radio,.has-warning .checkbox,.has-warning .radio-inline,.has-warning .checkbox-inline{color:#8a6d3b}.has-warning .form-control{border-color:#8a6d3b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-warning .form-control:focus{border-color:#66512c;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b}.has-warning .input-group-addon{color:#8a6d3b;border-color:#8a6d3b;background-color:#fcf8e3}.has-warning .form-control-feedback{color:#8a6d3b}.has-error .help-block,.has-error .control-label,.has-error .radio,.has-error .checkbox,.has-error .radio-inline,.has-error .checkbox-inline{color:#a94442}.has-error .form-control{border-color:#a94442;box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .form-control:focus{border-color:#843534;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483}.has-error .input-group-addon{color:#a94442;border-color:#a94442;background-color:#f2dede}.has-error .form-control-feedback{color:#a94442}.has-feedback label.sr-only~.form-control-feedback{top:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#737373}.form-horizontal .radio,.form-horizontal .checkbox,.form-horizontal .radio-inline,.form-horizontal .checkbox-inline{margin-top:0;margin-bottom:0;padding-top:7px}.form-horizontal .radio,.form-horizontal .checkbox{min-height:27px}.form-horizontal .form-group{margin-left:-15px;margin-right:-15px}.form-horizontal .form-group:before{content:" ";display:table}.form-horizontal .form-group:after{content:" ";display:table;clear:both}.form-horizontal .has-feedback .form-control-feedback{top:0;right:15px}.btn{display:inline-block;vertical-align:middle;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn:focus,.btn:active:focus,.btn.active:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn:hover,.btn:focus{color:#333;text-decoration:none}.btn:active,.btn.active{outline:0;background-image:none;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;pointer-events:none;opacity:.65;filter:alpha(opacity=65);box-shadow:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default:hover,.btn-default:focus,.btn-default:active,.btn-default.active,.open>.btn-default.dropdown-toggle{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active,.btn-default.active,.open>.btn-default.dropdown-toggle{background-image:none}.btn-default.disabled,.btn-default.disabled:hover,.btn-default.disabled:focus,.btn-default.disabled:active,.btn-default.disabled.active,.btn-default[disabled],.btn-default[disabled]:hover,.btn-default[disabled]:focus,.btn-default[disabled]:active,.btn-default[disabled].active,fieldset[disabled] .btn-default,fieldset[disabled] .btn-default:hover,fieldset[disabled] .btn-default:focus,fieldset[disabled] .btn-default:active,fieldset[disabled] .btn-default.active{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#428bca;border-color:#357ebd}.btn-primary:hover,.btn-primary:focus,.btn-primary:active,.btn-primary.active,.open>.btn-primary.dropdown-toggle{color:#fff;background-color:#3071a9;border-color:#285e8e}.btn-primary:active,.btn-primary.active,.open>.btn-primary.dropdown-toggle{background-image:none}.btn-primary.disabled,.btn-primary.disabled:hover,.btn-primary.disabled:focus,.btn-primary.disabled:active,.btn-primary.disabled.active,.btn-primary[disabled],.btn-primary[disabled]:hover,.btn-primary[disabled]:focus,.btn-primary[disabled]:active,.btn-primary[disabled].active,fieldset[disabled] .btn-primary,fieldset[disabled] .btn-primary:hover,fieldset[disabled] .btn-primary:focus,fieldset[disabled] .btn-primary:active,fieldset[disabled] .btn-primary.active{background-color:#428bca;border-color:#357ebd}.btn-primary .badge{color:#428bca;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success:hover,.btn-success:focus,.btn-success:active,.btn-success.active,.open>.btn-success.dropdown-toggle{color:#fff;background-color:#449d44;border-color:#398439}.btn-success:active,.btn-success.active,.open>.btn-success.dropdown-toggle{background-image:none}.btn-success.disabled,.btn-success.disabled:hover,.btn-success.disabled:focus,.btn-success.disabled:active,.btn-success.disabled.active,.btn-success[disabled],.btn-success[disabled]:hover,.btn-success[disabled]:focus,.btn-success[disabled]:active,.btn-success[disabled].active,fieldset[disabled] .btn-success,fieldset[disabled] .btn-success:hover,fieldset[disabled] .btn-success:focus,fieldset[disabled] .btn-success:active,fieldset[disabled] .btn-success.active{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info:hover,.btn-info:focus,.btn-info:active,.btn-info.active,.open>.btn-info.dropdown-toggle{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info:active,.btn-info.active,.open>.btn-info.dropdown-toggle{background-image:none}.btn-info.disabled,.btn-info.disabled:hover,.btn-info.disabled:focus,.btn-info.disabled:active,.btn-info.disabled.active,.btn-info[disabled],.btn-info[disabled]:hover,.btn-info[disabled]:focus,.btn-info[disabled]:active,.btn-info[disabled].active,fieldset[disabled] .btn-info,fieldset[disabled] .btn-info:hover,fieldset[disabled] .btn-info:focus,fieldset[disabled] .btn-info:active,fieldset[disabled] .btn-info.active{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning:hover,.btn-warning:focus,.btn-warning:active,.btn-warning.active,.open>.btn-warning.dropdown-toggle{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning:active,.btn-warning.active,.open>.btn-warning.dropdown-toggle{background-image:none}.btn-warning.disabled,.btn-warning.disabled:hover,.btn-warning.disabled:focus,.btn-warning.disabled:active,.btn-warning.disabled.active,.btn-warning[disabled],.btn-warning[disabled]:hover,.btn-warning[disabled]:focus,.btn-warning[disabled]:active,.btn-warning[disabled].active,fieldset[disabled] .btn-warning,fieldset[disabled] .btn-warning:hover,fieldset[disabled] .btn-warning:focus,fieldset[disabled] .btn-warning:active,fieldset[disabled] .btn-warning.active{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger:hover,.btn-danger:focus,.btn-danger:active,.btn-danger.active,.open>.btn-danger.dropdown-toggle{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger:active,.btn-danger.active,.open>.btn-danger.dropdown-toggle{background-image:none}.btn-danger.disabled,.btn-danger.disabled:hover,.btn-danger.disabled:focus,.btn-danger.disabled:active,.btn-danger.disabled.active,.btn-danger[disabled],.btn-danger[disabled]:hover,.btn-danger[disabled]:focus,.btn-danger[disabled]:active,.btn-danger[disabled].active,fieldset[disabled] .btn-danger,fieldset[disabled] .btn-danger:hover,fieldset[disabled] .btn-danger:focus,fieldset[disabled] .btn-danger:active,fieldset[disabled] .btn-danger.active{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{color:#428bca;font-weight:400;cursor:pointer;border-radius:0}.btn-link,.btn-link:active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;box-shadow:none}.btn-link,.btn-link:hover,.btn-link:focus,.btn-link:active{border-color:transparent}.btn-link:hover,.btn-link:focus{color:#2a6496;text-decoration:underline;background-color:transparent}.btn-link[disabled]:hover,.btn-link[disabled]:focus,fieldset[disabled] .btn-link:hover,fieldset[disabled] .btn-link:focus{color:#777;text-decoration:none}.btn-lg{padding:10px 16px;font-size:18px;line-height:1.33;border-radius:6px}.btn-sm{padding:5px 10px}.btn-sm,.btn-xs{font-size:12px;line-height:1.5;border-radius:3px}.btn-xs{padding:1px 5px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type="submit"].btn-block,input[type="reset"].btn-block,input[type="button"].btn-block{width:100%}.fade{opacity:0;transition:opacity .15s linear}.fade.in{opacity:1}.collapse{display:none}.collapse.in{display:block}tr.collapse.in{display:table-row}tbody.collapse.in{display:table-row-group}.collapsing{position:relative;height:0;overflow:hidden;transition:height .35s ease}.input-group{position:relative;display:table;border-collapse:separate}.input-group[class*="col-"]{float:none;padding-left:0;padding-right:0}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.input-group-addon,.input-group-btn,.input-group .form-control{display:table-cell}.input-group-addon:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child),.input-group .form-control:not(:first-child):not(:last-child){border-radius:0}.input-group-addon{white-space:nowrap}.input-group-addon,.input-group-btn{width:1%;vertical-align:middle}.input-group-addon{padding:6px 12px;font-size:14px;font-weight:400;line-height:1;color:#555;text-align:center;background-color:#eee;border:1px solid #ccc;border-radius:4px}.input-group-addon.input-sm,.form-horizontal .form-group-sm .input-group-addon.form-control,.input-group-sm>.input-group-addon,.input-group-sm>.input-group-btn>.input-group-addon.btn{padding:5px 10px;font-size:12px;border-radius:3px}.input-group-addon.input-lg,.form-horizontal .form-group-lg .input-group-addon.form-control,.input-group-lg>.input-group-addon,.input-group-lg>.input-group-btn>.input-group-addon.btn{padding:10px 16px;font-size:18px;border-radius:6px}.input-group-addon input[type="radio"],.input-group-addon input[type="checkbox"]{margin-top:0}.input-group .form-control:first-child,.input-group-addon:first-child,.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group>.btn,.input-group-btn:first-child>.dropdown-toggle,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group-btn:last-child>.btn-group:not(:last-child)>.btn{border-bottom-right-radius:0;border-top-right-radius:0}.input-group-addon:first-child{border-right:0}.input-group .form-control:last-child,.input-group-addon:last-child,.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group>.btn,.input-group-btn:last-child>.dropdown-toggle,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:first-child>.btn-group:not(:first-child)>.btn{border-bottom-left-radius:0;border-top-left-radius:0}.input-group-addon:last-child{border-left:0}.input-group-btn{font-size:0;white-space:nowrap}.input-group-btn,.input-group-btn>.btn{position:relative}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-btn>.btn:hover,.input-group-btn>.btn:focus,.input-group-btn>.btn:active{z-index:2}.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group{margin-right:-1px}.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group{margin-left:-1px}.pagination{display:inline-block;padding-left:0;margin:20px 0;border-radius:4px}.pagination>li{display:inline}.pagination>li>a,.pagination>li>span{position:relative;float:left;padding:6px 12px;line-height:1.4285714;text-decoration:none;color:#428bca;background-color:#fff;border:1px solid #ddd;margin-left:-1px}.pagination>li:first-child>a,.pagination>li:first-child>span{margin-left:0;border-bottom-left-radius:4px;border-top-left-radius:4px}.pagination>li:last-child>a,.pagination>li:last-child>span{border-bottom-right-radius:4px;border-top-right-radius:4px}.pagination>li>a:hover,.pagination>li>a:focus,.pagination>li>span:hover,.pagination>li>span:focus{color:#2a6496;background-color:#eee;border-color:#ddd}.pagination>.active>a,.pagination>.active>a:hover,.pagination>.active>a:focus,.pagination>.active>span,.pagination>.active>span:hover,.pagination>.active>span:focus{z-index:2;color:#fff;background-color:#428bca;border-color:#428bca;cursor:default}.pagination>.disabled>span,.pagination>.disabled>span:hover,.pagination>.disabled>span:focus,.pagination>.disabled>a,.pagination>.disabled>a:hover,.pagination>.disabled>a:focus{color:#777;background-color:#fff;border-color:#ddd;cursor:not-allowed}.pagination-lg>li>a,.pagination-lg>li>span{padding:10px 16px;font-size:18px}.pagination-lg>li:first-child>a,.pagination-lg>li:first-child>span{border-bottom-left-radius:6px;border-top-left-radius:6px}.pagination-lg>li:last-child>a,.pagination-lg>li:last-child>span{border-bottom-right-radius:6px;border-top-right-radius:6px}.pagination-sm>li>a,.pagination-sm>li>span{padding:5px 10px;font-size:12px}.pagination-sm>li:first-child>a,.pagination-sm>li:first-child>span{border-bottom-left-radius:3px;border-top-left-radius:3px}.pagination-sm>li:last-child>a,.pagination-sm>li:last-child>span{border-bottom-right-radius:3px;border-top-right-radius:3px}.close{float:right;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20)}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer;opacity:.5;filter:alpha(opacity=50)}button.close{padding:0;cursor:pointer;background:0 0;border:0;-webkit-appearance:none}.modal-open,.modal{overflow:hidden}.modal{display:none;position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;-webkit-overflow-scrolling:touch;outline:0}.modal.fade .modal-dialog{transform:translate3d(0,-25%,0);transition:transform .3s ease-out}.modal.in .modal-dialog{transform:translate3d(0,0,0)}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{position:relative;width:auto;margin:10px}.modal-content{position:relative;background-color:#fff;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:6px;box-shadow:0 3px 9px rgba(0,0,0,.5);background-clip:padding-box;outline:0}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade{opacity:0;filter:alpha(opacity=0)}.modal-backdrop.in{opacity:.5;filter:alpha(opacity=50)}.modal-header{padding:15px;border-bottom:1px solid #e5e5e5;min-height:16.4285714px}.modal-header .close{margin-top:-2px}.modal-title{margin:0;line-height:1.4285714}.modal-body{position:relative;padding:15px}.modal-footer{padding:15px;text-align:right;border-top:1px solid #e5e5e5}.modal-footer:before,.modal-footer:after{content:" ";display:table}.modal-footer:after{clear:both}.modal-footer .btn+.btn{margin-left:5px;margin-bottom:0}.modal-footer .btn-group .btn+.btn{margin-left:-1px}.modal-footer .btn-block+.btn-block{margin-left:0}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.clearfix:before,.clearfix:after{content:" ";display:table}.clearfix:after{clear:both}.center-block{display:block;margin-left:auto;margin-right:auto}.pull-right{float:right!important}.pull-left{float:left!important}.hide{display:none!important}.show{display:block!important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.hidden{display:none!important;visibility:hidden!important}.affix{position:fixed;transform:translate3d(0,0,0)}.hljs{display:block;overflow-x:auto;padding:.5em;background:#002b36;color:#839496;-webkit-text-size-adjust:none}.hljs-comment,.hljs-template_comment,.diff .hljs-header,.hljs-doctype,.hljs-pi,.lisp .hljs-string,.hljs-javadoc{color:#586e75}.hljs-keyword,.hljs-winutils,.method,.hljs-addition,.css .hljs-tag,.hljs-request,.hljs-status,.nginx .hljs-title{color:#859900}.hljs-number,.hljs-command,.hljs-string,.hljs-tag .hljs-value,.hljs-rules .hljs-value,.hljs-phpdoc,.hljs-dartdoc,.tex .hljs-formula,.hljs-regexp,.hljs-hexcolor,.hljs-link_url{color:#2aa198}.hljs-title,.hljs-localvars,.hljs-chunk,.hljs-decorator,.hljs-built_in,.hljs-identifier,.vhdl .hljs-literal,.hljs-id,.css .hljs-function{color:#268bd2}.hljs-attribute,.hljs-variable,.lisp .hljs-body,.smalltalk .hljs-number,.hljs-constant,.hljs-class .hljs-title,.hljs-parent,.hljs-type,.hljs-link_reference{color:#b58900}.hljs-preprocessor,.hljs-preprocessor .hljs-keyword,.hljs-pragma,.hljs-shebang,.hljs-symbol,.hljs-symbol .hljs-string,.diff .hljs-change,.hljs-special,.hljs-attr_selector,.hljs-subst,.hljs-cdata,.css .hljs-pseudo,.hljs-header{color:#cb4b16}.hljs-deletion,.hljs-important{color:#dc322f}.hljs-link_label{color:#6c71c4}.tex .hljs-formula{background:#073642}*,*:before,*:after{box-sizing:border-box}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:0 0}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}images{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd{font-size:1em}code,kbd,pre,samp{font-family:monospace,monospace}samp{font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0;margin-right:5px}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}.debug{background-color:#ffc0cb!important}.ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ir{background-color:transparent;border:0;overflow:hidden}.ir::before{content:'';display:block;height:150%;width:0}html{font-size:.875em;background:#fff;color:#373D49}html,body{font-family:Georgia,Cambria,serif;height:100%}body{font-size:1rem;font-weight:400;line-height:2rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}li{font-feature-settings:'kern' 1,'onum' 1,'liga' 1;margin-left:1rem}li>ul,li>ol{margin-bottom:0}p{padding-top:.66001rem;font-feature-settings:'kern' 1,'onum' 1,'liga' 1;margin-top:0}p,pre{margin-bottom:1.33999rem}pre{font-size:1rem;padding:.66001rem 9.5px 9.5px;line-height:2rem;background:linear-gradient(to bottom,#fff 0,#fff .75rem,#f5f7fa .75rem,#f5f7fa 2.75rem,#fff 2.75rem,#fff 4rem);background-size:100% 4rem;border-color:#D3DAEA}blockquote{margin:0}blockquote p{font-size:1rem;margin-bottom:.33999rem;font-style:italic;padding:.66001rem 1rem 1rem;border-left:3px solid #A0AABF}th,td{padding:12px}h1,h2,h3,h4,h5,h6{font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-feature-settings:'dlig' 1,'liga' 1,'lnum' 1,'kern' 1;font-style:normal;font-weight:600;margin-top:0}h1{line-height:3rem;font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h2,h3{line-height:3rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}a{cursor:pointer;color:#35D7BB;text-decoration:none}a:hover,a:focus{border-bottom-color:#35D7BB;color:#dff9f4}img{height:auto;max-width:100%}dt{font-style:italic;font-weight:600}.g{display:block}.g:after{clear:both;content:'';display:table}.g-b{float:left;margin:0;width:100%}.g{margin-left:-16px;margin-right:-16px}.g-b{padding-left:16px;padding-right:16px}.g-b--center{display:block;float:none;margin:0 auto}.g-b--right{float:right}.g-b--1of1{width:100%}.g-b--1of2,.g-b--2of4,.g-b--3of6,.g-b--4of8,.g-b--5of10,.g-b--6of12{width:50%}.g-b--1of3,.g-b--2of6,.g-b--4of12{width:33.333%}.g-b--2of3,.g-b--4of6,.g-b--8of12{width:66.666%}.g-b--1of4,.g-b--2of8,.g-b--3of12{width:25%}.g-b--3of4,.g-b--6of8,.g-b--9of12{width:75%}.g-b--1of5,.g-b--2of10{width:20%}.g-b--2of5,.g-b--4of10{width:40%}.g-b--3of5,.g-b--6of10{width:60%}.g-b--4of5,.g-b--8of10{width:80%}.g-b--1of6,.g-b--2of12{width:16.666%}.g-b--5of6,.g-b--10of12{width:83.333%}.g-b--1of8{width:12.5%}.g-b--3of8{width:37.5%}.g-b--5of8{width:62.5%}.g-b--7of8{width:87.5%}.g-b--1of10{width:10%}.g-b--3of10{width:30%}.g-b--7of10{width:70%}.g-b--9of10{width:90%}.g-b--1of12{width:8.333%}.g-b--5of12{width:41.666%}.g-b--7of12{width:58.333%}.g-b--11of12{width:91.666%}.g-b--push--1of1{margin-left:100%}.g-b--push--1of2,.g-b--push--2of4,.g-b--push--3of6,.g-b--push--4of8,.g-b--push--5of10,.g-b--push--6of12{margin-left:50%}.g-b--push--1of3,.g-b--push--2of6,.g-b--push--4of12{margin-left:33.333%}.g-b--push--2of3,.g-b--push--4of6,.g-b--push--8of12{margin-left:66.666%}.g-b--push--1of4,.g-b--push--2of8,.g-b--push--3of12{margin-left:25%}.g-b--push--3of4,.g-b--push--6of8,.g-b--push--9of12{margin-left:75%}.g-b--push--1of5,.g-b--push--2of10{margin-left:20%}.g-b--push--2of5,.g-b--push--4of10{margin-left:40%}.g-b--push--3of5,.g-b--push--6of10{margin-left:60%}.g-b--push--4of5,.g-b--push--8of10{margin-left:80%}.g-b--push--1of6,.g-b--push--2of12{margin-left:16.666%}.g-b--push--5of6,.g-b--push--10of12{margin-left:83.333%}.g-b--push--1of8{margin-left:12.5%}.g-b--push--3of8{margin-left:37.5%}.g-b--push--5of8{margin-left:62.5%}.g-b--push--7of8{margin-left:87.5%}.g-b--push--1of10{margin-left:10%}.g-b--push--3of10{margin-left:30%}.g-b--push--7of10{margin-left:70%}.g-b--push--9of10{margin-left:90%}.g-b--push--1of12{margin-left:8.333%}.g-b--push--5of12{margin-left:41.666%}.g-b--push--7of12{margin-left:58.333%}.g-b--push--11of12{margin-left:91.666%}.g-b--pull--1of1{margin-right:100%}.g-b--pull--1of2,.g-b--pull--2of4,.g-b--pull--3of6,.g-b--pull--4of8,.g-b--pull--5of10,.g-b--pull--6of12{margin-right:50%}.g-b--pull--1of3,.g-b--pull--2of6,.g-b--pull--4of12{margin-right:33.333%}.g-b--pull--2of3,.g-b--pull--4of6,.g-b--pull--8of12{margin-right:66.666%}.g-b--pull--1of4,.g-b--pull--2of8,.g-b--pull--3of12{margin-right:25%}.g-b--pull--3of4,.g-b--pull--6of8,.g-b--pull--9of12{margin-right:75%}.g-b--pull--1of5,.g-b--pull--2of10{margin-right:20%}.g-b--pull--2of5,.g-b--pull--4of10{margin-right:40%}.g-b--pull--3of5,.g-b--pull--6of10{margin-right:60%}.g-b--pull--4of5,.g-b--pull--8of10{margin-right:80%}.g-b--pull--1of6,.g-b--pull--2of12{margin-right:16.666%}.g-b--pull--5of6,.g-b--pull--10of12{margin-right:83.333%}.g-b--pull--1of8{margin-right:12.5%}.g-b--pull--3of8{margin-right:37.5%}.g-b--pull--5of8{margin-right:62.5%}.g-b--pull--7of8{margin-right:87.5%}.g-b--pull--1of10{margin-right:10%}.g-b--pull--3of10{margin-right:30%}.g-b--pull--7of10{margin-right:70%}.g-b--pull--9of10{margin-right:90%}.g-b--pull--1of12{margin-right:8.333%}.g-b--pull--5of12{margin-right:41.666%}.g-b--pull--7of12{margin-right:58.333%}.g-b--pull--11of12{margin-right:91.666%}.splashscreen{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#373D49;z-index:22}.splashscreen-dillinger{width:260px;height:auto;display:block;margin:0 auto;padding-bottom:3rem}.splashscreen p{font-size:1.25rem;padding-top:.56251rem;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;text-align:center;max-width:500px;margin:0 auto;color:#FFF}.sp-center{position:relative;transform:translateY(-50%);top:50%}.open-menu>.wrapper{overflow-x:hidden}.page{margin:0 auto;position:relative;top:0;left:0;width:100%;height:100%;z-index:2;transition:all .25s ease-in-out;background-color:#fff;padding-top:51px;will-change:left}.open-menu .page{left:270px}.title{line-height:1rem;font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem;font-weight:500;color:#A0AABF;letter-spacing:1px;text-transform:uppercase;padding-left:16px;padding-right:16px;margin-top:1rem}.split-preview .title{padding-left:0}.title-document{line-height:1rem;font-size:1.25rem;margin-bottom:.89999rem;padding-top:.10001rem;font-weight:400;font-family:"Ubuntu Mono",Monaco;color:#373D49;padding-left:16px;padding-right:16px;width:80%;min-width:300px;outline:0;border:none}.icon{display:block;margin:0 auto;width:36px;height:36px;border-radius:3px;text-align:center}.icon svg{display:inline-block;margin-left:auto;margin-right:auto}.icon-preview{background-color:#373D49;line-height:40px}.icon-preview svg{width:19px;height:12px}.icon-settings{background-color:#373D49;line-height:44px}.icon-settings svg{width:18px;height:18px}.icon-link{width:16px;height:16px;line-height:1;margin-right:24px;text-align:right}.navbar{background-color:#373D49;height:51px;width:100%;position:fixed;top:0;left:0;z-index:6;transition:all .25s ease-in-out;will-change:left}.navbar:after{content:"";display:table;clear:both}.open-menu .navbar{left:270px}.navbar-brand{float:left;margin:0 0 0 24px;padding:0;line-height:42px}.navbar-brand svg{width:85px;height:11px}.nav-left{float:left}.nav-right{float:right}.nav-sidebar{width:100%}.menu{list-style:none;margin:0;padding:0}.menu a{border:0;color:#A0AABF;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;outline:none;text-transform:uppercase}.menu a:hover{color:#35D7BB}.menu .menu-item{border:0;display:none;float:left;margin:0;position:relative}.menu .menu-item>a{display:block;font-size:12px;height:51px;letter-spacing:1px;line-height:51px;padding:0 24px}.menu .menu-item--settings,.menu .menu-item--preview,.menu .menu-item--save-to.in-sidebar,.menu .menu-item--import-from.in-sidebar,.menu .menu-item--link-unlink.in-sidebar,.menu .menu-item--documents.in-sidebar{display:block}.menu .menu-item--documents{padding-bottom:1rem}.menu .menu-item.open>a{background-color:#1D212A}.menu .menu-item-icon>a{height:auto;padding:0}.menu .menu-item-icon:hover>a{background-color:transparent}.menu .menu-link.open i{background-color:#1D212A}.menu .menu-link.open g{fill:#35D7BB}.menu .menu-link-preview,.menu .menu-link-settings{margin-top:8px;width:51px}.menu-sidebar{width:100%}.menu-sidebar .menu-item{float:none;margin-bottom:1px;width:100%}.menu-sidebar .menu-item.open>a{background-color:#373D49}.menu-sidebar .open .caret{transform:rotate(180deg)}.menu-sidebar>.menu-item:hover .dropdown a,.menu-sidebar>.menu-item:hover .settings a{background-color:transparent}.menu-sidebar .menu-link{background-color:#373D49;font-weight:600}.menu-sidebar .menu-link:after{content:"";display:table;clear:both}.menu-sidebar .menu-link>span{float:left}.menu-sidebar .menu-link>.caret{float:right;text-align:right;top:22px}.menu-sidebar .dropdown,.menu-sidebar .settings{background-color:transparent;position:static;width:100%}.dropdown{position:absolute;right:0;top:51px;width:188px}.dropdown,.settings{display:none;background-color:#1D212A}.dropdown{padding:0}.dropdown,.settings,.sidebar-list{list-style:none;margin:0}.sidebar-list{padding:0}.dropdown li{margin:32px 0;padding:0 0 0 32px}.dropdown li,.settings li{line-height:1}.sidebar-list li{line-height:1;margin:32px 0;padding:0 0 0 32px}.dropdown a{color:#D0D6E2}.dropdown a,.settings a,.sidebar-list a{display:block;text-transform:none}.sidebar-list a{color:#D0D6E2}.dropdown a:after,.settings a:after,.sidebar-list a:after{content:"";display:table;clear:both}.dropdown .icon,.settings .icon,.sidebar-list .icon{float:right}.open .dropdown,.open .settings,.open .sidebar-list{display:block}.open .dropdown.collapse,.open .collapse.settings,.open .sidebar-list.collapse{display:none}.open .dropdown.collapse.in,.open .collapse.in.settings,.open .sidebar-list.collapse.in{display:block}.dropdown .unlinked .icon,.settings .unlinked .icon,.sidebar-list .unlinked .icon{opacity:.3}.dropdown.documents li,.documents.settings li,.sidebar-list.documents li{background-image:url("../img/icons/file.svg");background-position:240px center;background-repeat:no-repeat;background-size:14px 16px;padding:3px 32px}.dropdown.documents li.octocat,.documents.settings li.octocat,.sidebar-list.documents li.octocat{background-image:url("../img/icons/octocat.svg");background-position:234px center;background-size:24px 24px}.dropdown.documents li:last-child,.documents.settings li:last-child,.sidebar-list.documents li:last-child{margin-bottom:1rem}.dropdown.documents li.active a,.documents.settings li.active a,.sidebar-list.documents li.active a{color:#35D7BB}.settings{position:fixed;top:67px;right:16px;border-radius:3px;width:288px;background-color:#373D49;padding:16px;z-index:7}.show-settings .settings{display:block}.settings .has-checkbox{float:left}.settings form{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between}.settings input{width:20%}.settings a{font-size:1.25rem;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;-webkit-font-smoothing:antialiased;line-height:28px;color:#D0D6E2}.settings a:after{content:"";display:table;clear:both}.settings a:hover{color:#35D7BB}.settings li{border-bottom:1px solid #4F535B;margin:0;padding:16px 0}.settings li:last-child{border-bottom:none}.brand{border:none;display:block}.brand:hover g{fill:#35D7BB}.toggle{display:block;float:left;height:16px;padding:25px 16px 26px;width:40px}.toggle span:after,.toggle span:before{content:'';left:0;position:absolute;top:-6px}.toggle span:after{top:6px}.toggle span{display:block;position:relative}.toggle span,.toggle span:after,.toggle span:before{-webkit-backface-visibility:hidden;backface-visibility:hidden;background-color:#D3DAEA;height:2px;transition:all .3s;width:20px}.open-menu .toggle span{background-color:transparent}.open-menu .toggle span:before{transform:rotate(45deg) translate(3px,3px)}.open-menu .toggle span:after{transform:rotate(-45deg) translate(5px,-6px)}.caret{display:inline-block;width:0;height:0;margin-left:6px;vertical-align:middle;position:relative;top:-1px;border-top:4px solid;border-right:4px solid transparent;border-left:4px solid transparent}.sidebar{overflow:auto;height:100%;padding-right:15px;padding-bottom:15px;width:285px}.sidebar-wrapper{-webkit-overflow-scrolling:touch;background-color:#2B2F36;left:0;height:100%;overflow-y:hidden;position:fixed;top:0;width:285px;z-index:1}.sidebar-branding{width:160px;padding:0;margin:16px auto}.header{border-bottom:1px solid #E8E8E8;position:relative}.words,.characters{line-height:1rem;font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem;font-weight:500;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;letter-spacing:1px;text-transform:uppercase;z-index:5;position:absolute;right:16px;top:0}.words span,.characters span{color:#A0AABF}.words .counter,.characters .counter{color:#000}.words+.characters{top:22px}.mr10{margin-right:10px}.btn{text-align:center;display:inline-block;width:100%;text-transform:uppercase;font-weight:600;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;text-shadow:0 1px 0 #1b8b77;padding:16px 24px;background-color:#35D7BB;border-radius:3px;margin:0 auto 16px;line-height:1;color:#fff;transition:all .15s linear;-webkit-font-smoothing:antialiased}.btn--new,.btn--save{display:block;width:238px}.btn--new:hover,.btn--new:focus,.btn--save:hover,.btn--save:focus{color:#fff;border-bottom-color:transparent;box-shadow:0 1px 3px #24b59c;text-shadow:0 1px 0 #24b59c}.btn--save{background-color:#4A5261;text-shadow:0 1px 1px #1e2127}.btn--save:hover,.btn--save:focus{color:#fff;border-bottom-color:transparent;box-shadow:0 1px 5px #08090a;text-shadow:none}.btn--delete{display:block;width:238px;background-color:transparent;font-size:12px;text-shadow:none}.btn--delete:hover,.btn--delete:focus{color:#fff;border-bottom-color:transparent;text-shadow:0 1px 0 #08090a;opacity:.8}.btn--delete-modal,.btn--ok,.btn--close{border-top:0;background-color:#4A5261;text-shadow:0 1px 0 #08090a;margin:0}.btn--delete-modal:hover,.btn--delete-modal:focus,.btn--ok:hover,.btn--ok:focus,.btn--close:hover,.btn--close:focus{color:#fff;background-color:#292d36;text-shadow:none}.btn--delete-modal{display:inline;width:auto}.overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(55,61,73,.8);transition:all .25s ease-in-out;transition-timing-function:ease-out;will-change:left,opacity,visibility;z-index:5;opacity:0;visibility:hidden}.show-settings .overlay{visibility:visible;opacity:1}.switch{float:right;line-height:1}.switch input{display:none}.switch small{display:inline-block;cursor:pointer;padding:0 24px 0 0;transition:all ease .2s;background-color:#2B2F36;border-color:#2B2F36}.switch small,.switch small:before{border-radius:30px;box-shadow:inset 0 0 2px 0 #14171F}.switch small:before{display:block;content:'';width:28px;height:28px;background:#fff}.switch.checked small{padding-right:0;padding-left:24px;background-color:#35D7BB;box-shadow:none}.modal--dillinger.about .modal-dialog{font-size:1.25rem;max-width:500px}.modal--dillinger.scope .modal-dialog{max-width:300px;margin:5rem auto}.modal--dillinger .modal-dialog{max-width:600px;width:auto;margin:5rem auto}.modal--dillinger .modal-content{background:#373D49;border-radius:3px;box-shadow:0 2px 5px 0 #2C3B59;color:#fff;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;padding:2rem}.modal--dillinger ul{list-style-type:disc;margin:1rem 0;padding:0 0 0 1rem}.modal--dillinger li{padding:0;margin:0}.modal--dillinger .modal-header{border:0;padding:0}.modal--dillinger .modal-body{padding:0}.modal--dillinger .modal-footer{border:0;padding:0}.modal--dillinger .close{color:#fff;opacity:1}.modal-backdrop{background-color:#373D49}.pagination--dillinger{padding:0!important;margin:1.5rem 0!important;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-line-pack:stretch;align-content:stretch}.pagination--dillinger li{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;text-align:center}.pagination--dillinger li:first-child>a,.pagination--dillinger li.disabled>a,.pagination--dillinger li.disabled>a:hover,.pagination--dillinger li.disabled>a:focus,.pagination--dillinger li>a{background-color:transparent;border-color:#4F535B;border-right-color:transparent}.pagination--dillinger li.active>a,.pagination--dillinger li.active>a:hover,.pagination--dillinger li.active>a:focus{border-color:#4A5261;background-color:#4A5261;color:#fff}.pagination--dillinger li>a{float:none;color:#fff;width:100%;display:block;text-align:center;margin:0;border-right-color:transparent;padding:6px}.pagination--dillinger li>a:hover,.pagination--dillinger li>a:focus{border-color:#35D7BB;background-color:#35D7BB;color:#fff}.pagination--dillinger li:last-child a{border-color:#4F535B}.pagination--dillinger li:first-child a{border-right-color:transparent}.diNotify{position:absolute;z-index:9999;left:0;right:0;top:0;margin:0 auto;max-width:400px;text-align:center;transition:top .5s ease-in-out,opacity .5s ease-in-out;visibility:hidden}.diNotify-body{-webkit-font-smoothing:antialiased;background-color:#35D7BB;background:#666E7F;border-radius:3px;color:#fff;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;overflow:hidden;padding:1rem 2rem .5rem;display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline;-ms-flex-pack:center;justify-content:center}.diNotify-icon{display:block;width:16px;height:16px;line-height:16px;position:relative;top:3px}.diNotify-message{padding-left:1rem}.zen-wrapper{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;z-index:10;background-color:#FFF;opacity:0;transition:opacity .25s ease-in-out}.zen-wrapper.on{opacity:1}.enter-zen-mode{background-image:url("../img/icons/enter-zen.svg");right:.5rem;top:.313rem;display:none}.enter-zen-mode,.close-zen-mode{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0;background-repeat:no-repeat;width:32px;height:32px;display:block;position:absolute}.close-zen-mode{background-image:url("../img/icons/exit-zen.svg");right:1rem;top:1rem}.zen-page{position:relative;top:0;bottom:0;z-index:11;height:100%;width:100%}#zen{font-size:1.25rem;width:300px;height:80%;margin:0 auto;position:relative;top:10%}#zen:before,#zen:after{content:"";position:absolute;height:10%;width:100%;z-index:12;pointer-events:none}#preview .table{width:auto}.ui-resizable{position:relative}.ui-resizable-handle{position:absolute;font-size:.1px;z-index:99999;display:block}.ui-resizable-e{background-color:#666;border-right:8px solid #e8e8e8;border-left:1px solid #222;width:10px;z-index:88!important;position:relative}.ui-resizable-e:after{content:"-";display:block;position:absolute;top:calc(50% - 16px);left:0;height:25px;width:2px;background-color:rgba(0,0,0,.4);margin:3px}#editor{cursor:ew-resize;position:relative;z-index:auto}.profile-pic{float:left;width:250px}#_default_ a::before{color:#A0AABF}#_default_ img{display:none}#_default_ #_default_{display:block;float:left;max-width:38%;word-wrap:break-word}#_default_ .default-ad{display:none}#_default_ ._default_{display:block}#_default_ a{color:#35d7bb;text-decoration:none}#_default_ a:hover{color:#8ae8d8}#_default_ .default-image{display:none}#_default_ .default-title:after{content:""}#_default_ .default-title,#_default_ .default-text,#_default_ .default-description{display:inline}#_default_ .default-title{position:relative;font-weight:600;display:none}#_default_ a:before{position:relative;top:0;padding:5px;color:#a0aabf;content:"Ad";text-transform:uppercase;font-size:8px;font-family:Verdana,sans-serif}#_default_{display:block;float:left;max-width:38%;word-wrap:break-word}#_default_ ._default_{display:block;font-size:.75rem;height:51px;letter-spacing:1px;line-height:1rem;padding:18px 24px}body{max-width:1024px;margin:0 auto;overflow:auto;padding:2%}.split{overflow:scroll;padding:0!important;-webkit-overflow-scrolling:touch}.split-editor{padding-left:0;padding-right:0;position:relative;z-index:3}.show-preview .split-editor{display:none}.split-preview{background-color:#fff;display:none;top:0;position:relative;z-index:4}.show-preview .split-preview{display:block}#editor{font-size:1rem;font-family:"Ubuntu Mono",Monaco;font-weight:400;line-height:2rem;width:100%;height:100%}#editor .ace_gutter{-webkit-font-smoothing:antialiased}.editor-header{width:50%;float:left;border-bottom:1px solid #E8E8E8;position:relative}.editor-header--first{border-right:1px solid #E8E8E8}.editor-header .title{display:inline-block}.preview-html{padding:15px}.preview-html a{color:#A0AABF;text-decoration:underline}.preview-src{white-space:normal}.preview-mode-toggle-src{background-image:url("../img/icons/code.svg")}.preview-mode-toggle-src,.preview-mode-toggle-html{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0;background-repeat:no-repeat;width:32px;height:32px;display:block;position:absolute;right:.5rem;top:.5rem;display:none}.preview-mode-toggle-html{background-image:url("../img/icons/eye.svg")}.sr-only{visibility:hidden;text-overflow:110%;overflow:hidden;top:-100px;position:absolute}.mnone{margin:0!important}@media screen and (min-width:27.5em){html{font-size:.875em}body{font-size:1rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}p{padding-top:.66001rem}p,pre{margin-bottom:1.33999rem}pre,blockquote p{font-size:1rem;padding-top:.66001rem}blockquote p{margin-bottom:.33999rem}h1{font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}.g{margin-left:-16px;margin-right:-16px}.g-b{padding-left:16px;padding-right:16px}.g-b--m1of1{width:100%}.g-b--m1of2,.g-b--m2of4,.g-b--m3of6,.g-b--m4of8,.g-b--m5of10,.g-b--m6of12{width:50%}.g-b--m1of3,.g-b--m2of6,.g-b--m4of12{width:33.333%}.g-b--m2of3,.g-b--m4of6,.g-b--m8of12{width:66.666%}.g-b--m1of4,.g-b--m2of8,.g-b--m3of12{width:25%}.g-b--m3of4,.g-b--m6of8,.g-b--m9of12{width:75%}.g-b--m1of5,.g-b--m2of10{width:20%}.g-b--m2of5,.g-b--m4of10{width:40%}.g-b--m3of5,.g-b--m6of10{width:60%}.g-b--m4of5,.g-b--m8of10{width:80%}.g-b--m1of6,.g-b--m2of12{width:16.666%}.g-b--m5of6,.g-b--m10of12{width:83.333%}.g-b--m1of8{width:12.5%}.g-b--m3of8{width:37.5%}.g-b--m5of8{width:62.5%}.g-b--m7of8{width:87.5%}.g-b--m1of10{width:10%}.g-b--m3of10{width:30%}.g-b--m7of10{width:70%}.g-b--m9of10{width:90%}.g-b--m1of12{width:8.333%}.g-b--m5of12{width:41.666%}.g-b--m7of12{width:58.333%}.g-b--m11of12{width:91.666%}.g-b--push--m1of1{margin-left:100%}.g-b--push--m1of2,.g-b--push--m2of4,.g-b--push--m3of6,.g-b--push--m4of8,.g-b--push--m5of10,.g-b--push--m6of12{margin-left:50%}.g-b--push--m1of3,.g-b--push--m2of6,.g-b--push--m4of12{margin-left:33.333%}.g-b--push--m2of3,.g-b--push--m4of6,.g-b--push--m8of12{margin-left:66.666%}.g-b--push--m1of4,.g-b--push--m2of8,.g-b--push--m3of12{margin-left:25%}.g-b--push--m3of4,.g-b--push--m6of8,.g-b--push--m9of12{margin-left:75%}.g-b--push--m1of5,.g-b--push--m2of10{margin-left:20%}.g-b--push--m2of5,.g-b--push--m4of10{margin-left:40%}.g-b--push--m3of5,.g-b--push--m6of10{margin-left:60%}.g-b--push--m4of5,.g-b--push--m8of10{margin-left:80%}.g-b--push--m1of6,.g-b--push--m2of12{margin-left:16.666%}.g-b--push--m5of6,.g-b--push--m10of12{margin-left:83.333%}.g-b--push--m1of8{margin-left:12.5%}.g-b--push--m3of8{margin-left:37.5%}.g-b--push--m5of8{margin-left:62.5%}.g-b--push--m7of8{margin-left:87.5%}.g-b--push--m1of10{margin-left:10%}.g-b--push--m3of10{margin-left:30%}.g-b--push--m7of10{margin-left:70%}.g-b--push--m9of10{margin-left:90%}.g-b--push--m1of12{margin-left:8.333%}.g-b--push--m5of12{margin-left:41.666%}.g-b--push--m7of12{margin-left:58.333%}.g-b--push--m11of12{margin-left:91.666%}.g-b--pull--m1of1{margin-right:100%}.g-b--pull--m1of2,.g-b--pull--m2of4,.g-b--pull--m3of6,.g-b--pull--m4of8,.g-b--pull--m5of10,.g-b--pull--m6of12{margin-right:50%}.g-b--pull--m1of3,.g-b--pull--m2of6,.g-b--pull--m4of12{margin-right:33.333%}.g-b--pull--m2of3,.g-b--pull--m4of6,.g-b--pull--m8of12{margin-right:66.666%}.g-b--pull--m1of4,.g-b--pull--m2of8,.g-b--pull--m3of12{margin-right:25%}.g-b--pull--m3of4,.g-b--pull--m6of8,.g-b--pull--m9of12{margin-right:75%}.g-b--pull--m1of5,.g-b--pull--m2of10{margin-right:20%}.g-b--pull--m2of5,.g-b--pull--m4of10{margin-right:40%}.g-b--pull--m3of5,.g-b--pull--m6of10{margin-right:60%}.g-b--pull--m4of5,.g-b--pull--m8of10{margin-right:80%}.g-b--pull--m1of6,.g-b--pull--m2of12{margin-right:16.666%}.g-b--pull--m5of6,.g-b--pull--m10of12{margin-right:83.333%}.g-b--pull--m1of8{margin-right:12.5%}.g-b--pull--m3of8{margin-right:37.5%}.g-b--pull--m5of8{margin-right:62.5%}.g-b--pull--m7of8{margin-right:87.5%}.g-b--pull--m1of10{margin-right:10%}.g-b--pull--m3of10{margin-right:30%}.g-b--pull--m7of10{margin-right:70%}.g-b--pull--m9of10{margin-right:90%}.g-b--pull--m1of12{margin-right:8.333%}.g-b--pull--m5of12{margin-right:41.666%}.g-b--pull--m7of12{margin-right:58.333%}.g-b--pull--m11of12{margin-right:91.666%}.splashscreen p{font-size:1.25rem;margin-bottom:1.43749rem;padding-top:.56251rem}.title{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.title-document{margin-bottom:.89999rem;padding-top:.10001rem}.title-document,.settings a{font-size:1.25rem}.words,.characters{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.modal--dillinger.about .modal-dialog,#zen{font-size:1.25rem}#zen{width:400px}#editor{font-size:1rem}}@media screen and (min-width:46.25em){html{font-size:.875em}body{font-size:1rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}p{padding-top:.66001rem}p,pre{margin-bottom:1.33999rem}pre,blockquote p{font-size:1rem;padding-top:.66001rem}blockquote p{margin-bottom:.33999rem}h1{font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}.g{margin-left:-16px;margin-right:-16px}.g-b{padding-left:16px;padding-right:16px}.g-b--t1of1{width:100%}.g-b--t1of2,.g-b--t2of4,.g-b--t3of6,.g-b--t4of8,.g-b--t5of10,.g-b--t6of12{width:50%}.g-b--t1of3,.g-b--t2of6,.g-b--t4of12{width:33.333%}.g-b--t2of3,.g-b--t4of6,.g-b--t8of12{width:66.666%}.g-b--t1of4,.g-b--t2of8,.g-b--t3of12{width:25%}.g-b--t3of4,.g-b--t6of8,.g-b--t9of12{width:75%}.g-b--t1of5,.g-b--t2of10{width:20%}.g-b--t2of5,.g-b--t4of10{width:40%}.g-b--t3of5,.g-b--t6of10{width:60%}.g-b--t4of5,.g-b--t8of10{width:80%}.g-b--t1of6,.g-b--t2of12{width:16.666%}.g-b--t5of6,.g-b--t10of12{width:83.333%}.g-b--t1of8{width:12.5%}.g-b--t3of8{width:37.5%}.g-b--t5of8{width:62.5%}.g-b--t7of8{width:87.5%}.g-b--t1of10{width:10%}.g-b--t3of10{width:30%}.g-b--t7of10{width:70%}.g-b--t9of10{width:90%}.g-b--t1of12{width:8.333%}.g-b--t5of12{width:41.666%}.g-b--t7of12{width:58.333%}.g-b--t11of12{width:91.666%}.g-b--push--t1of1{margin-left:100%}.g-b--push--t1of2,.g-b--push--t2of4,.g-b--push--t3of6,.g-b--push--t4of8,.g-b--push--t5of10,.g-b--push--t6of12{margin-left:50%}.g-b--push--t1of3,.g-b--push--t2of6,.g-b--push--t4of12{margin-left:33.333%}.g-b--push--t2of3,.g-b--push--t4of6,.g-b--push--t8of12{margin-left:66.666%}.g-b--push--t1of4,.g-b--push--t2of8,.g-b--push--t3of12{margin-left:25%}.g-b--push--t3of4,.g-b--push--t6of8,.g-b--push--t9of12{margin-left:75%}.g-b--push--t1of5,.g-b--push--t2of10{margin-left:20%}.g-b--push--t2of5,.g-b--push--t4of10{margin-left:40%}.g-b--push--t3of5,.g-b--push--t6of10{margin-left:60%}.g-b--push--t4of5,.g-b--push--t8of10{margin-left:80%}.g-b--push--t1of6,.g-b--push--t2of12{margin-left:16.666%}.g-b--push--t5of6,.g-b--push--t10of12{margin-left:83.333%}.g-b--push--t1of8{margin-left:12.5%}.g-b--push--t3of8{margin-left:37.5%}.g-b--push--t5of8{margin-left:62.5%}.g-b--push--t7of8{margin-left:87.5%}.g-b--push--t1of10{margin-left:10%}.g-b--push--t3of10{margin-left:30%}.g-b--push--t7of10{margin-left:70%}.g-b--push--t9of10{margin-left:90%}.g-b--push--t1of12{margin-left:8.333%}.g-b--push--t5of12{margin-left:41.666%}.g-b--push--t7of12{margin-left:58.333%}.g-b--push--t11of12{margin-left:91.666%}.g-b--pull--t1of1{margin-right:100%}.g-b--pull--t1of2,.g-b--pull--t2of4,.g-b--pull--t3of6,.g-b--pull--t4of8,.g-b--pull--t5of10,.g-b--pull--t6of12{margin-right:50%}.g-b--pull--t1of3,.g-b--pull--t2of6,.g-b--pull--t4of12{margin-right:33.333%}.g-b--pull--t2of3,.g-b--pull--t4of6,.g-b--pull--t8of12{margin-right:66.666%}.g-b--pull--t1of4,.g-b--pull--t2of8,.g-b--pull--t3of12{margin-right:25%}.g-b--pull--t3of4,.g-b--pull--t6of8,.g-b--pull--t9of12{margin-right:75%}.g-b--pull--t1of5,.g-b--pull--t2of10{margin-right:20%}.g-b--pull--t2of5,.g-b--pull--t4of10{margin-right:40%}.g-b--pull--t3of5,.g-b--pull--t6of10{margin-right:60%}.g-b--pull--t4of5,.g-b--pull--t8of10{margin-right:80%}.g-b--pull--t1of6,.g-b--pull--t2of12{margin-right:16.666%}.g-b--pull--t5of6,.g-b--pull--t10of12{margin-right:83.333%}.g-b--pull--t1of8{margin-right:12.5%}.g-b--pull--t3of8{margin-right:37.5%}.g-b--pull--t5of8{margin-right:62.5%}.g-b--pull--t7of8{margin-right:87.5%}.g-b--pull--t1of10{margin-right:10%}.g-b--pull--t3of10{margin-right:30%}.g-b--pull--t7of10{margin-right:70%}.g-b--pull--t9of10{margin-right:90%}.g-b--pull--t1of12{margin-right:8.333%}.g-b--pull--t5of12{margin-right:41.666%}.g-b--pull--t7of12{margin-right:58.333%}.g-b--pull--t11of12{margin-right:91.666%}.splashscreen-dillinger{width:500px}.splashscreen p{font-size:1.25rem;margin-bottom:1.43749rem;padding-top:.56251rem}.title{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.title-document{font-size:1.25rem;margin-bottom:.89999rem;padding-top:.10001rem}.menu .menu-item--save-to,.menu .menu-item--import-from{display:block}.menu .menu-item--preview,.menu .menu-item--save-to.in-sidebar,.menu .menu-item--import-from.in-sidebar{display:none}.settings a{font-size:1.25rem}.words,.characters{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.modal--dillinger.about .modal-dialog{font-size:1.25rem}.enter-zen-mode{display:block}.close-zen-mode{right:3rem;top:3rem}#zen{font-size:1.25rem;width:500px}.split-editor{border-right:1px solid #E8E8E8;float:left;padding-right:16px;width:50%}.show-preview .split-editor{display:block}.split-preview{display:block;float:right;position:relative;top:0;width:50%}#editor{font-size:1rem}.preview-mode-toggle-src,.preview-mode-toggle-html{display:block}}@media screen and (min-width:62.5em){html{font-size:.875em}body{font-size:1rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}p{padding-top:.66001rem}p,pre{margin-bottom:1.33999rem}pre,blockquote p{font-size:1rem;padding-top:.66001rem}blockquote p{margin-bottom:.33999rem}h1{font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}.g{margin-left:-16px;margin-right:-16px}.g-b{padding-left:16px;padding-right:16px}.g-b--d1of1{width:100%}.g-b--d1of2,.g-b--d2of4,.g-b--d3of6,.g-b--d4of8,.g-b--d5of10,.g-b--d6of12{width:50%}.g-b--d1of3,.g-b--d2of6,.g-b--d4of12{width:33.333%}.g-b--d2of3,.g-b--d4of6,.g-b--d8of12{width:66.666%}.g-b--d1of4,.g-b--d2of8,.g-b--d3of12{width:25%}.g-b--d3of4,.g-b--d6of8,.g-b--d9of12{width:75%}.g-b--d1of5,.g-b--d2of10{width:20%}.g-b--d2of5,.g-b--d4of10{width:40%}.g-b--d3of5,.g-b--d6of10{width:60%}.g-b--d4of5,.g-b--d8of10{width:80%}.g-b--d1of6,.g-b--d2of12{width:16.666%}.g-b--d5of6,.g-b--d10of12{width:83.333%}.g-b--d1of8{width:12.5%}.g-b--d3of8{width:37.5%}.g-b--d5of8{width:62.5%}.g-b--d7of8{width:87.5%}.g-b--d1of10{width:10%}.g-b--d3of10{width:30%}.g-b--d7of10{width:70%}.g-b--d9of10{width:90%}.g-b--d1of12{width:8.333%}.g-b--d5of12{width:41.666%}.g-b--d7of12{width:58.333%}.g-b--d11of12{width:91.666%}.g-b--push--d1of1{margin-left:100%}.g-b--push--d1of2,.g-b--push--d2of4,.g-b--push--d3of6,.g-b--push--d4of8,.g-b--push--d5of10,.g-b--push--d6of12{margin-left:50%}.g-b--push--d1of3,.g-b--push--d2of6,.g-b--push--d4of12{margin-left:33.333%}.g-b--push--d2of3,.g-b--push--d4of6,.g-b--push--d8of12{margin-left:66.666%}.g-b--push--d1of4,.g-b--push--d2of8,.g-b--push--d3of12{margin-left:25%}.g-b--push--d3of4,.g-b--push--d6of8,.g-b--push--d9of12{margin-left:75%}.g-b--push--d1of5,.g-b--push--d2of10{margin-left:20%}.g-b--push--d2of5,.g-b--push--d4of10{margin-left:40%}.g-b--push--d3of5,.g-b--push--d6of10{margin-left:60%}.g-b--push--d4of5,.g-b--push--d8of10{margin-left:80%}.g-b--push--d1of6,.g-b--push--d2of12{margin-left:16.666%}.g-b--push--d5of6,.g-b--push--d10of12{margin-left:83.333%}.g-b--push--d1of8{margin-left:12.5%}.g-b--push--d3of8{margin-left:37.5%}.g-b--push--d5of8{margin-left:62.5%}.g-b--push--d7of8{margin-left:87.5%}.g-b--push--d1of10{margin-left:10%}.g-b--push--d3of10{margin-left:30%}.g-b--push--d7of10{margin-left:70%}.g-b--push--d9of10{margin-left:90%}.g-b--push--d1of12{margin-left:8.333%}.g-b--push--d5of12{margin-left:41.666%}.g-b--push--d7of12{margin-left:58.333%}.g-b--push--d11of12{margin-left:91.666%}.g-b--pull--d1of1{margin-right:100%}.g-b--pull--d1of2,.g-b--pull--d2of4,.g-b--pull--d3of6,.g-b--pull--d4of8,.g-b--pull--d5of10,.g-b--pull--d6of12{margin-right:50%}.g-b--pull--d1of3,.g-b--pull--d2of6,.g-b--pull--d4of12{margin-right:33.333%}.g-b--pull--d2of3,.g-b--pull--d4of6,.g-b--pull--d8of12{margin-right:66.666%}.g-b--pull--d1of4,.g-b--pull--d2of8,.g-b--pull--d3of12{margin-right:25%}.g-b--pull--d3of4,.g-b--pull--d6of8,.g-b--pull--d9of12{margin-right:75%}.g-b--pull--d1of5,.g-b--pull--d2of10{margin-right:20%}.g-b--pull--d2of5,.g-b--pull--d4of10{margin-right:40%}.g-b--pull--d3of5,.g-b--pull--d6of10{margin-right:60%}.g-b--pull--d4of5,.g-b--pull--d8of10{margin-right:80%}.g-b--pull--d1of6,.g-b--pull--d2of12{margin-right:16.666%}.g-b--pull--d5of6,.g-b--pull--d10of12{margin-right:83.333%}.g-b--pull--d1of8{margin-right:12.5%}.g-b--pull--d3of8{margin-right:37.5%}.g-b--pull--d5of8{margin-right:62.5%}.g-b--pull--d7of8{margin-right:87.5%}.g-b--pull--d1of10{margin-right:10%}.g-b--pull--d3of10{margin-right:30%}.g-b--pull--d7of10{margin-right:70%}.g-b--pull--d9of10{margin-right:90%}.g-b--pull--d1of12{margin-right:8.333%}.g-b--pull--d5of12{margin-right:41.666%}.g-b--pull--d7of12{margin-right:58.333%}.g-b--pull--d11of12{margin-right:91.666%}.splashscreen-dillinger{width:700px}.splashscreen p{font-size:1.25rem;margin-bottom:1.43749rem;padding-top:.56251rem}.title{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.title-document{font-size:1.25rem;margin-bottom:.89999rem;padding-top:.10001rem}.menu .menu-item--export-as{display:block}.menu .menu-item--preview{display:none}.settings a{font-size:1.25rem}.words,.characters{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.modal--dillinger.about .modal-dialog,#zen{font-size:1.25rem}#zen{width:700px}#editor{font-size:1rem}}@media screen and (min-width:87.5em){html{font-size:.875em}body{font-size:1rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}p{padding-top:.66001rem}p,pre{margin-bottom:1.33999rem}pre,blockquote p{font-size:1rem;padding-top:.66001rem}blockquote p{margin-bottom:.33999rem}h1{font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}.splashscreen-dillinger{width:800px}.splashscreen p{font-size:1.25rem;margin-bottom:1.43749rem;padding-top:.56251rem}.title{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.title-document{margin-bottom:.89999rem;padding-top:.10001rem}.title-document,.settings a{font-size:1.25rem}.words,.characters{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.modal--dillinger.about .modal-dialog,#zen{font-size:1.25rem}#editor{font-size:1rem}}@media (min-width:768px){.form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .input-group{display:inline-table;vertical-align:middle}.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn,.form-inline .input-group .form-control{width:auto}.form-inline .input-group>.form-control{width:100%}.form-inline .control-label{margin-bottom:0;vertical-align:middle}.form-inline .radio,.form-inline .checkbox{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.form-inline .radio label,.form-inline .checkbox label{padding-left:0}.form-inline .radio input[type="radio"],.form-inline .checkbox input[type="checkbox"]{position:relative;margin-left:0}.form-inline .has-feedback .form-control-feedback{top:0}.form-horizontal .control-label{text-align:right;margin-bottom:0;padding-top:7px}.form-horizontal .form-group-lg .control-label{padding-top:14.3px}.form-horizontal .form-group-sm .control-label{padding-top:6px}.modal-dialog{width:600px;margin:30px auto}.modal-content{box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm{width:300px}}@media (min-width:992px){.modal-lg{width:900px}}@media screen and (max-width:1200px){#_default_{max-width:30%}#_default_ ._default_{font-size:.825rem;line-height:.875rem;padding:12px 12px 6px 24px;text-align:justify}}@media screen and (max-width:1100px){#_default_{max-width:27%}#_default_ ._default_{font-size:.8rem;line-height:.85rem;padding:12px 6px 6px 24px;text-align:justify}}@media screen and (max-width:1000px){#_default_{max-width:24%}#_default_ ._default_{font-size:.775rem;line-height:.8rem;padding:12px 6px 6px 24px;text-align:justify}}@media screen and (max-width:900px){#_default_{max-width:30%}}@media screen and (max-width:767px){.table-responsive{width:100%;margin-bottom:15px;overflow-y:hidden;overflow-x:auto;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ddd;-webkit-overflow-scrolling:touch}.table-responsive>.table{margin-bottom:0}.table-responsive>.table>thead>tr>th,.table-responsive>.table>thead>tr>td,.table-responsive>.table>tbody>tr>th,.table-responsive>.table>tbody>tr>td,.table-responsive>.table>tfoot>tr>th,.table-responsive>.table>tfoot>tr>td{white-space:nowrap}.table-responsive>.table-bordered{border:0}.table-responsive>.table-bordered>thead>tr>th:first-child,.table-responsive>.table-bordered>thead>tr>td:first-child,.table-responsive>.table-bordered>tbody>tr>th:first-child,.table-responsive>.table-bordered>tbody>tr>td:first-child,.table-responsive>.table-bordered>tfoot>tr>th:first-child,.table-responsive>.table-bordered>tfoot>tr>td:first-child{border-left:0}.table-responsive>.table-bordered>thead>tr>th:last-child,.table-responsive>.table-bordered>thead>tr>td:last-child,.table-responsive>.table-bordered>tbody>tr>th:last-child,.table-responsive>.table-bordered>tbody>tr>td:last-child,.table-responsive>.table-bordered>tfoot>tr>th:last-child,.table-responsive>.table-bordered>tfoot>tr>td:last-child{border-right:0}.table-responsive>.table-bordered>tbody>tr:last-child>th,.table-responsive>.table-bordered>tbody>tr:last-child>td,.table-responsive>.table-bordered>tfoot>tr:last-child>th,.table-responsive>.table-bordered>tfoot>tr:last-child>td{border-bottom:0}}@media screen and (max-width:720px){#_default_{max-width:60%}#_default_ ._default_{font-size:.75rem;line-height:1rem;padding:12px 24px}}@media screen and (max-width:620px){#_default_{max-width:50%}#_default_ ._default_{font-size:.66rem;letter-spacing:1px;line-height:1rem;padding:10px 24px}}@media screen and (max-width:520px){#_default_ ._default_{font-size:.4rem;line-height:.875rem;padding:6px 12px 6px 24px;text-align:justify}}@media screen and (max-width:460px){#_default_{display:none}}@media screen and (max-width:46.1875em){.editor-header{display:none}.editor-header--first{display:block;width:100%}}</style></head><body id="preview">
<h1 class="code-line" data-line-start=0 data-line-end=1 ><a id="Advanced_Coding_Interview_Patterns_0"></a>Advanced Coding Interview Patterns</h1>
<p class="has-line-data" data-line-start="2" data-line-end="4"><img src="https://github.com/user-attachments/assets/86e961b5-555c-4aeb-94d0-bd093dbbad6b"><br>
This document contains 11 advanced coding interview patterns, each with 20 carefully selected questions that progressively build upon each other. These patterns are designed to help you master complex algorithmic concepts and prepare for challenging technical interviews.</p>
<h2 class="code-line" data-line-start=5 data-line-end=6 ><a id="Table_of_Contents_5"></a>Table of Contents</h2>
<ol>
<li class="has-line-data" data-line-start="7" data-line-end="8"><a href="#1-counting-pattern">Counting Pattern</a></li>
<li class="has-line-data" data-line-start="8" data-line-end="9"><a href="#2-monotonic-queue-pattern">Monotonic Queue Pattern</a></li>
<li class="has-line-data" data-line-start="9" data-line-end="10"><a href="#3-simulation-pattern">Simulation Pattern</a></li>
<li class="has-line-data" data-line-start="10" data-line-end="11"><a href="#4-linear-sorting-pattern">Linear Sorting Pattern</a></li>
<li class="has-line-data" data-line-start="11" data-line-end="12"><a href="#5-meet-in-the-middle-pattern">Meet in the Middle Pattern</a></li>
<li class="has-line-data" data-line-start="12" data-line-end="13"><a href="#6-mos-algorithm-pattern">MOs Algorithm Pattern</a></li>
<li class="has-line-data" data-line-start="13" data-line-end="14"><a href="#7-serializedeserialize-pattern">Serialize/Deserialize Pattern</a></li>
<li class="has-line-data" data-line-start="14" data-line-end="15"><a href="#8-clone-pattern-analysis">Clone Pattern Analysis</a></li>
<li class="has-line-data" data-line-start="15" data-line-end="16"><a href="#9-articulation-points-and-bridges-pattern">Articulation Points and Bridges Pattern</a></li>
<li class="has-line-data" data-line-start="16" data-line-end="17"><a href="#10-segment-tree-pattern">Segment Tree Pattern</a></li>
<li class="has-line-data" data-line-start="17" data-line-end="19"><a href="#11-binary-indexed-tree-fenwick-tree-pattern">Binary Indexed Tree (Fenwick Tree) Pattern</a></li>
</ol>
<h2 class="code-line" data-line-start=19 data-line-end=20 ><a id="How_to_Use_This_Guide_19"></a>How to Use This Guide</h2>
<ul>
<li class="has-line-data" data-line-start="21" data-line-end="22">Each pattern contains 20 questions, organized by sub-categories</li>
<li class="has-line-data" data-line-start="22" data-line-end="23">Questions are primarily from LeetCode, with some from GeeksForGeeks and other platforms</li>
<li class="has-line-data" data-line-start="23" data-line-end="24">Difficulty levels are indicated:  Easy,  Medium,  Hard</li>
<li class="has-line-data" data-line-start="24" data-line-end="25">Each question includes a brief description and information on how it progresses from the previous one</li>
<li class="has-line-data" data-line-start="25" data-line-end="26">Focus on understanding the core differences and progression between questions in each pattern</li>
</ul>
<h2 class="code-line" data-line-start=31 data-line-end=32 ><a id="Pattern_1_Counting_31"></a>Pattern 1: Counting</h2>
<h3 class="code-line" data-line-start=33 data-line-end=34 ><a id="Basic_Frequency_Building_Blocks_33"></a>Basic Frequency Building Blocks</h3>
<ol>
<li class="has-line-data" data-line-start="34" data-line-end="41">
<p class="has-line-data" data-line-start="34" data-line-end="35">Single Element Counter</p>
<ul>
<li class="has-line-data" data-line-start="35" data-line-end="36"><a href="https://leetcode.com/problems/count-elements-with-maximum-frequency/">LeetCode: 3005 - Count Elements with Maximum Frequency</a> </li>
<li class="has-line-data" data-line-start="36" data-line-end="37">Base Pattern: Basic frequency map</li>
<li class="has-line-data" data-line-start="37" data-line-end="38">Key Operation: <code>freq[num] += 1</code></li>
<li class="has-line-data" data-line-start="38" data-line-end="39">Common Error: Not initializing with dict.get()</li>
<li class="has-line-data" data-line-start="39" data-line-end="41">Optimization: Single pass through array</li>
</ul>
</li>
<li class="has-line-data" data-line-start="41" data-line-end="48">
<p class="has-line-data" data-line-start="41" data-line-end="42">Conditional Frequency Counter</p>
<ul>
<li class="has-line-data" data-line-start="42" data-line-end="43"><a href="https://leetcode.com/problems/most-frequent-even-element/">LeetCode: 2404 - Most Frequent Even Element</a> </li>
<li class="has-line-data" data-line-start="43" data-line-end="44">Builds on #1: Adds filtering condition before counting</li>
<li class="has-line-data" data-line-start="44" data-line-end="45">Key Difference: <code>if num % 2 == 0: freq[num] += 1</code></li>
<li class="has-line-data" data-line-start="45" data-line-end="46">Common Error: Filtering after counting</li>
<li class="has-line-data" data-line-start="46" data-line-end="48">Optimization: Early filtering saves memory</li>
</ul>
</li>
<li class="has-line-data" data-line-start="48" data-line-end="55">
<p class="has-line-data" data-line-start="48" data-line-end="49">Frequency Distribution Counter</p>
<ul>
<li class="has-line-data" data-line-start="49" data-line-end="50"><a href="https://leetcode.com/problems/maximum-equal-frequency/">LeetCode: 1224 - Maximum Equal Frequency</a> </li>
<li class="has-line-data" data-line-start="50" data-line-end="51">Builds on #2: Tracks frequency of frequencies</li>
<li class="has-line-data" data-line-start="51" data-line-end="52">Key Difference: Second map <code>freq_of_freq[count] += 1</code></li>
<li class="has-line-data" data-line-start="52" data-line-end="53">Common Error: Not updating both maps consistently</li>
<li class="has-line-data" data-line-start="53" data-line-end="55">Optimization: Maintain running max instead of recalculating</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=55 data-line-end=56 ><a id="Running_Windows_Progression_55"></a>Running Windows Progression</h3>
<ol start="4">
<li class="has-line-data" data-line-start="56" data-line-end="63">
<p class="has-line-data" data-line-start="56" data-line-end="57">Consecutive Elements Counter</p>
<ul>
<li class="has-line-data" data-line-start="57" data-line-end="58"><a href="https://leetcode.com/problems/number-of-zero-filled-subarrays/">LeetCode: 2348 - Number of Zero-Filled Subarrays</a> </li>
<li class="has-line-data" data-line-start="58" data-line-end="59">New Concept: Running window count</li>
<li class="has-line-data" data-line-start="59" data-line-end="60">Key Difference: Reset count on condition break</li>
<li class="has-line-data" data-line-start="60" data-line-end="61">Common Error: Not handling streak breaks</li>
<li class="has-line-data" data-line-start="61" data-line-end="63">Optimization: Mathematical formula for sequence sum</li>
</ul>
</li>
<li class="has-line-data" data-line-start="63" data-line-end="70">
<p class="has-line-data" data-line-start="63" data-line-end="64">Dynamic Window Counter</p>
<ul>
<li class="has-line-data" data-line-start="64" data-line-end="65"><a href="https://leetcode.com/problems/find-the-k-beauty-of-a-number/">LeetCode: 2269 - Find the K-Beauty of a Number</a> </li>
<li class="has-line-data" data-line-start="65" data-line-end="66">Builds on #4: Fixed-size window counting</li>
<li class="has-line-data" data-line-start="66" data-line-end="67">Key Difference: Sliding window technique</li>
<li class="has-line-data" data-line-start="67" data-line-end="68">Common Error: Off-by-one in window bounds</li>
<li class="has-line-data" data-line-start="68" data-line-end="70">Optimization: Rolling hash for window</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=70 data-line-end=71 ><a id="Advanced_Frequency_Applications_70"></a>Advanced Frequency Applications</h3>
<ol start="6">
<li class="has-line-data" data-line-start="71" data-line-end="78">
<p class="has-line-data" data-line-start="71" data-line-end="72">Pair Counter with Conditions</p>
<ul>
<li class="has-line-data" data-line-start="72" data-line-end="73"><a href="https://leetcode.com/problems/count-number-of-pairs-with-absolute-difference-k/">LeetCode: 2006 - Count Number of Pairs With Absolute Difference K</a> </li>
<li class="has-line-data" data-line-start="73" data-line-end="74">Builds on #1: Uses frequency map for pair finding</li>
<li class="has-line-data" data-line-start="74" data-line-end="75">Key Difference: Check numk in frequency map</li>
<li class="has-line-data" data-line-start="75" data-line-end="76">Common Error: Double counting pairs</li>
<li class="has-line-data" data-line-start="76" data-line-end="78">Optimization: Single pass O(n) vs naive O(n)</li>
</ul>
</li>
<li class="has-line-data" data-line-start="78" data-line-end="85">
<p class="has-line-data" data-line-start="78" data-line-end="79">Group Size Counter</p>
<ul>
<li class="has-line-data" data-line-start="79" data-line-end="80"><a href="https://leetcode.com/problems/count-largest-group/">LeetCode: 1399 - Count Largest Group</a> </li>
<li class="has-line-data" data-line-start="80" data-line-end="81">Builds on #6: Groups by computed property</li>
<li class="has-line-data" data-line-start="81" data-line-end="82">Key Difference: Digit sum grouping</li>
<li class="has-line-data" data-line-start="82" data-line-end="83">Common Error: Recalculating group properties</li>
<li class="has-line-data" data-line-start="83" data-line-end="85">Optimization: Memoize digit sums</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=85 data-line-end=86 ><a id="MultiCounter_Problems_85"></a>Multi-Counter Problems</h3>
<ol start="8">
<li class="has-line-data" data-line-start="86" data-line-end="93">
<p class="has-line-data" data-line-start="86" data-line-end="87">Dual Counter Tracking</p>
<ul>
<li class="has-line-data" data-line-start="87" data-line-end="88"><a href="https://leetcode.com/problems/find-players-with-zero-or-one-losses/">LeetCode: 2225 - Find Players With Zero or One Losses</a> </li>
<li class="has-line-data" data-line-start="88" data-line-end="89">Builds on #7: Multiple frequency maps</li>
<li class="has-line-data" data-line-start="89" data-line-end="90">Key Difference: Winner/loser separate tracking</li>
<li class="has-line-data" data-line-start="90" data-line-end="91">Common Error: Using single map for both stats</li>
<li class="has-line-data" data-line-start="91" data-line-end="93">Optimization: Use sets for winners</li>
</ul>
</li>
<li class="has-line-data" data-line-start="93" data-line-end="100">
<p class="has-line-data" data-line-start="93" data-line-end="94">Pair Matching Counter</p>
<ul>
<li class="has-line-data" data-line-start="94" data-line-end="95"><a href="https://leetcode.com/problems/maximum-number-of-pairs-in-array/">LeetCode: 2341 - Maximum Number of Pairs in Array</a> </li>
<li class="has-line-data" data-line-start="95" data-line-end="96">Builds on #8: Frequency-based pairing</li>
<li class="has-line-data" data-line-start="96" data-line-end="97">Key Difference: Count pairs from frequencies</li>
<li class="has-line-data" data-line-start="97" data-line-end="98">Common Error: Modifying array while counting</li>
<li class="has-line-data" data-line-start="98" data-line-end="100">Optimization: Use frequency division by 2</li>
</ul>
</li>
<li class="has-line-data" data-line-start="100" data-line-end="107">
<p class="has-line-data" data-line-start="100" data-line-end="101">Triplet Pattern Counter</p>
<ul>
<li class="has-line-data" data-line-start="101" data-line-end="102"><a href="https://leetcode.com/problems/count-good-triplets/">LeetCode: 1534 - Count Good Triplets</a> </li>
<li class="has-line-data" data-line-start="102" data-line-end="103">Builds on #9: Triple condition checking</li>
<li class="has-line-data" data-line-start="103" data-line-end="104">Key Difference: Three-level validation</li>
<li class="has-line-data" data-line-start="104" data-line-end="105">Common Error: Unnecessary nested loops</li>
<li class="has-line-data" data-line-start="105" data-line-end="107">Optimization: Early pruning of invalid cases</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=107 data-line-end=108 ><a id="Advanced_Pattern_Recognition_107"></a>Advanced Pattern Recognition</h3>
<ol start="11">
<li class="has-line-data" data-line-start="108" data-line-end="115">
<p class="has-line-data" data-line-start="108" data-line-end="109">Multi-Condition Frequency</p>
<ul>
<li class="has-line-data" data-line-start="109" data-line-end="110"><a href="https://leetcode.com/problems/next-greater-numerically-balanced-number/">LeetCode: 2048 - Next Greater Numerically Balanced Number</a> </li>
<li class="has-line-data" data-line-start="110" data-line-end="111">Builds on #10: Complex frequency validation</li>
<li class="has-line-data" data-line-start="111" data-line-end="112">Key Difference: Digit frequency matching value</li>
<li class="has-line-data" data-line-start="112" data-line-end="113">Common Error: Not handling leading zeros</li>
<li class="has-line-data" data-line-start="113" data-line-end="115">Optimization: Pre-compute valid numbers</li>
</ul>
</li>
<li class="has-line-data" data-line-start="115" data-line-end="122">
<p class="has-line-data" data-line-start="115" data-line-end="116">Range-Based Frequency</p>
<ul>
<li class="has-line-data" data-line-start="116" data-line-end="117"><a href="https://leetcode.com/problems/partition-array-such-that-maximum-difference-is-k/">LeetCode: 2294 - Partition Array Such That Maximum Difference Is K</a> </li>
<li class="has-line-data" data-line-start="117" data-line-end="118">Builds on #11: Range-based grouping</li>
<li class="has-line-data" data-line-start="118" data-line-end="119">Key Difference: Group by value range</li>
<li class="has-line-data" data-line-start="119" data-line-end="120">Common Error: Incorrect range boundaries</li>
<li class="has-line-data" data-line-start="120" data-line-end="122">Optimization: Sort first for linear scan</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=122 data-line-end=123 ><a id="State_Management_Problems_122"></a>State Management Problems</h3>
<ol start="13">
<li class="has-line-data" data-line-start="123" data-line-end="130">
<p class="has-line-data" data-line-start="123" data-line-end="124">State Transition Counter</p>
<ul>
<li class="has-line-data" data-line-start="124" data-line-end="125"><a href="https://leetcode.com/problems/maximize-number-of-subsequences-in-a-string/">LeetCode: 2207 - Maximize Number of Subsequences in a String</a> </li>
<li class="has-line-data" data-line-start="125" data-line-end="126">Builds on #12: State-based counting</li>
<li class="has-line-data" data-line-start="126" data-line-end="127">Key Difference: Track state transitions</li>
<li class="has-line-data" data-line-start="127" data-line-end="128">Common Error: Missing state combinations</li>
<li class="has-line-data" data-line-start="128" data-line-end="130">Optimization: Use prefix sums</li>
</ul>
</li>
<li class="has-line-data" data-line-start="130" data-line-end="137">
<p class="has-line-data" data-line-start="130" data-line-end="131">Pattern State Counter</p>
<ul>
<li class="has-line-data" data-line-start="131" data-line-end="132"><a href="https://leetcode.com/problems/minimum-number-of-frogs-croaking/">LeetCode: 1419 - Minimum Number of Frogs Croaking</a> </li>
<li class="has-line-data" data-line-start="132" data-line-end="133">Builds on #13: Multiple state tracking</li>
<li class="has-line-data" data-line-start="133" data-line-end="134">Key Difference: Cyclic state validation</li>
<li class="has-line-data" data-line-start="134" data-line-end="135">Common Error: Not resetting incomplete states</li>
<li class="has-line-data" data-line-start="135" data-line-end="137">Optimization: Single pass state tracking</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=137 data-line-end=138 ><a id="Complex_Frequency_Patterns_137"></a>Complex Frequency Patterns</h3>
<ol start="15">
<li class="has-line-data" data-line-start="138" data-line-end="145">
<p class="has-line-data" data-line-start="138" data-line-end="139">Frequency Balance Checker</p>
<ul>
<li class="has-line-data" data-line-start="139" data-line-end="140"><a href="https://leetcode.com/problems/find-longest-awesome-substring/">LeetCode: 1542 - Find Longest Awesome Substring</a> </li>
<li class="has-line-data" data-line-start="140" data-line-end="141">Builds on #14: Balanced frequency checking</li>
<li class="has-line-data" data-line-start="141" data-line-end="142">Key Difference: State compression with bits</li>
<li class="has-line-data" data-line-start="142" data-line-end="143">Common Error: Missing palindrome properties</li>
<li class="has-line-data" data-line-start="143" data-line-end="145">Optimization: Use bit manipulation</li>
</ul>
</li>
<li class="has-line-data" data-line-start="145" data-line-end="152">
<p class="has-line-data" data-line-start="145" data-line-end="146">Frequency Pattern Matcher</p>
<ul>
<li class="has-line-data" data-line-start="146" data-line-end="147"><a href="https://leetcode.com/problems/k-divisible-elements-subarrays/">LeetCode: 2261 - K Divisible Elements Subarrays</a> </li>
<li class="has-line-data" data-line-start="147" data-line-end="148">Builds on #15: Pattern matching with frequencies</li>
<li class="has-line-data" data-line-start="148" data-line-end="149">Key Difference: Subarray pattern validation</li>
<li class="has-line-data" data-line-start="149" data-line-end="150">Common Error: Duplicate pattern counting</li>
<li class="has-line-data" data-line-start="150" data-line-end="152">Optimization: Use rolling hash for patterns</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=152 data-line-end=153 ><a id="Population_Tracking_152"></a>Population Tracking</h3>
<ol start="17">
<li class="has-line-data" data-line-start="153" data-line-end="160">
<p class="has-line-data" data-line-start="153" data-line-end="154">Population Year Counter</p>
<ul>
<li class="has-line-data" data-line-start="154" data-line-end="155"><a href="https://leetcode.com/problems/maximum-population-year/">LeetCode: 1854 - Maximum Population Year</a> </li>
<li class="has-line-data" data-line-start="155" data-line-end="156">Builds on #16: Time-based frequency counting</li>
<li class="has-line-data" data-line-start="156" data-line-end="157">Key Difference: Handle birth/death year boundaries</li>
<li class="has-line-data" data-line-start="157" data-line-end="158">Common Error: Not handling year overlap correctly</li>
<li class="has-line-data" data-line-start="158" data-line-end="160">Optimization: Line sweep algorithm O(n log n)</li>
</ul>
</li>
<li class="has-line-data" data-line-start="160" data-line-end="167">
<p class="has-line-data" data-line-start="160" data-line-end="161">Population Range Query</p>
<ul>
<li class="has-line-data" data-line-start="161" data-line-end="162">[Custom: Population Range Query] </li>
<li class="has-line-data" data-line-start="162" data-line-end="163">Builds on #17: Range-based population tracking</li>
<li class="has-line-data" data-line-start="163" data-line-end="164">Key Difference: Prefix sum for range queries</li>
<li class="has-line-data" data-line-start="164" data-line-end="165">Common Error: Not updating prefix sums correctly</li>
<li class="has-line-data" data-line-start="165" data-line-end="167">Optimization: Difference array for updates</li>
</ul>
</li>
<li class="has-line-data" data-line-start="167" data-line-end="174">
<p class="has-line-data" data-line-start="167" data-line-end="168">Above Average Population Counter</p>
<ul>
<li class="has-line-data" data-line-start="168" data-line-end="169">[LeetCode: 2348 - Number of Zero-Filled Subarrays] </li>
<li class="has-line-data" data-line-start="169" data-line-end="170">Builds on #18: Statistical threshold counting</li>
<li class="has-line-data" data-line-start="170" data-line-end="171">Key Difference: Calculate running average</li>
<li class="has-line-data" data-line-start="171" data-line-end="172">Common Error: Floating point precision issues</li>
<li class="has-line-data" data-line-start="172" data-line-end="174">Optimization: Maintain sum without division</li>
</ul>
</li>
<li class="has-line-data" data-line-start="174" data-line-end="181">
<p class="has-line-data" data-line-start="174" data-line-end="175">Population Growth Tracker</p>
<ul>
<li class="has-line-data" data-line-start="175" data-line-end="176">[LeetCode: 2110 - Number of Smooth Descent Periods] </li>
<li class="has-line-data" data-line-start="176" data-line-end="177">Builds on #19: Track growth patterns</li>
<li class="has-line-data" data-line-start="177" data-line-end="178">Key Difference: Consecutive change tracking</li>
<li class="has-line-data" data-line-start="178" data-line-end="179">Common Error: Not handling equal populations</li>
<li class="has-line-data" data-line-start="179" data-line-end="181">Optimization: Dynamic Programming for patterns</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=181 data-line-end=182 ><a id="Analysis_Pattern_Summary_181"></a>Analysis Pattern Summary</h3>
<ul>
<li class="has-line-data" data-line-start="182" data-line-end="188">
<p class="has-line-data" data-line-start="182" data-line-end="183">Progression Elements:</p>
<ol>
<li class="has-line-data" data-line-start="183" data-line-end="184">Time-based counting  Range queries</li>
<li class="has-line-data" data-line-start="184" data-line-end="185">Single point  Range operations</li>
<li class="has-line-data" data-line-start="185" data-line-end="186">Static counting  Dynamic tracking</li>
<li class="has-line-data" data-line-start="186" data-line-end="188">Basic counting  Statistical measures</li>
</ol>
</li>
<li class="has-line-data" data-line-start="188" data-line-end="195">
<p class="has-line-data" data-line-start="188" data-line-end="189">Core Techniques:</p>
<ol>
<li class="has-line-data" data-line-start="189" data-line-end="190">Line sweep algorithm</li>
<li class="has-line-data" data-line-start="190" data-line-end="191">Prefix &amp; difference arrays</li>
<li class="has-line-data" data-line-start="191" data-line-end="192">Running statistics</li>
<li class="has-line-data" data-line-start="192" data-line-end="193">Binary search for ranges</li>
<li class="has-line-data" data-line-start="193" data-line-end="195">Sliding window for trends</li>
</ol>
</li>
<li class="has-line-data" data-line-start="195" data-line-end="202">
<p class="has-line-data" data-line-start="195" data-line-end="196">Common Pitfalls:</p>
<ol>
<li class="has-line-data" data-line-start="196" data-line-end="197">Year boundary mishandling</li>
<li class="has-line-data" data-line-start="197" data-line-end="198">Range overlap errors</li>
<li class="has-line-data" data-line-start="198" data-line-end="199">Precision loss in averages</li>
<li class="has-line-data" data-line-start="199" data-line-end="200">Update operation inconsistency</li>
<li class="has-line-data" data-line-start="200" data-line-end="202">Inefficient range processing</li>
</ol>
</li>
</ul>
<h3 class="code-line" data-line-start=202 data-line-end=203 ><a id="Implementation_Guidelines_202"></a>Implementation Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="203" data-line-end="211">
<p class="has-line-data" data-line-start="203" data-line-end="204">Range Operations</p>
<pre><code class="has-line-data" data-line-start="205" data-line-end="210" class="language-python"><span class="hljs-comment"># Use difference array for efficient updates</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_range</span><span class="hljs-params">(start, end, value)</span>:</span>
    diff[start] += value
    diff[end + <span class="hljs-number">1</span>] -= value
</code></pre>
</li>
<li class="has-line-data" data-line-start="211" data-line-end="218">
<p class="has-line-data" data-line-start="211" data-line-end="212">Population Queries</p>
<pre><code class="has-line-data" data-line-start="213" data-line-end="217" class="language-python"><span class="hljs-comment"># Efficient range sum using prefix array</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">query_range</span><span class="hljs-params">(start, end)</span>:</span>
    <span class="hljs-keyword">return</span> prefix_sum[end] - prefix_sum[start - <span class="hljs-number">1</span>]
</code></pre>
</li>
<li class="has-line-data" data-line-start="218" data-line-end="232">
<p class="has-line-data" data-line-start="218" data-line-end="219">Growth Pattern Detection</p>
<pre><code class="has-line-data" data-line-start="220" data-line-end="231" class="language-python"><span class="hljs-comment"># Track consecutive growth periods</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">track_growth</span><span class="hljs-params">(populations)</span>:</span>
    growth = <span class="hljs-number">0</span>
    streak = <span class="hljs-number">1</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(populations)):
        <span class="hljs-keyword">if</span> populations[i] &gt; populations[i-<span class="hljs-number">1</span>]:
            streak += <span class="hljs-number">1</span>
        <span class="hljs-keyword">else</span>:
            growth += (streak * (streak - <span class="hljs-number">1</span>)) // <span class="hljs-number">2</span>
            streak = <span class="hljs-number">1</span>
</code></pre>
</li>
</ol>
<h3 class="code-line" data-line-start=232 data-line-end=233 ><a id="Testing_Strategy_232"></a>Testing Strategy</h3>
<ol>
<li class="has-line-data" data-line-start="233" data-line-end="234">Test boundaries (year ranges)</li>
<li class="has-line-data" data-line-start="234" data-line-end="235">Test overlapping periods</li>
<li class="has-line-data" data-line-start="235" data-line-end="236">Test pattern sequences</li>
<li class="has-line-data" data-line-start="236" data-line-end="237">Test large datasets</li>
<li class="has-line-data" data-line-start="237" data-line-end="238">Test update consistency</li>
</ol>
<h2 class="code-line" data-line-start=240 data-line-end=241 ><a id="Pattern_2_Monotonic_Queue_240"></a>Pattern 2: Monotonic Queue</h2>
<h3 class="code-line" data-line-start=242 data-line-end=243 ><a id="Basic_Window_Operations_5_Questions_242"></a>Basic Window Operations (5 Questions)</h3>
<ol>
<li class="has-line-data" data-line-start="243" data-line-end="250">
<p class="has-line-data" data-line-start="243" data-line-end="244">Sliding Window Maximum</p>
<ul>
<li class="has-line-data" data-line-start="244" data-line-end="245"><a href="https://leetcode.com/problems/sliding-window-maximum/">LeetCode: 239 - Sliding Window Maximum</a> </li>
<li class="has-line-data" data-line-start="245" data-line-end="246">Base Pattern: Basic monotonic queue</li>
<li class="has-line-data" data-line-start="246" data-line-end="247">Key Operation: <code>while deque and nums[deque[-1]] &lt; nums[i]: deque.pop()</code></li>
<li class="has-line-data" data-line-start="247" data-line-end="248">Common Error: Not removing out-of-window elements</li>
<li class="has-line-data" data-line-start="248" data-line-end="250">Optimization: Single pass through array</li>
</ul>
</li>
<li class="has-line-data" data-line-start="250" data-line-end="257">
<p class="has-line-data" data-line-start="250" data-line-end="251">Maximum Window Average</p>
<ul>
<li class="has-line-data" data-line-start="251" data-line-end="252"><a href="https://leetcode.com/problems/maximum-average-subarray-i/">LeetCode: 643 - Maximum Average Subarray I</a> </li>
<li class="has-line-data" data-line-start="252" data-line-end="253">Builds on #1: Changes to average calculation</li>
<li class="has-line-data" data-line-start="253" data-line-end="254">Key Difference: Running sum maintenance</li>
<li class="has-line-data" data-line-start="254" data-line-end="255">Common Error: Float precision issues</li>
<li class="has-line-data" data-line-start="255" data-line-end="257">Optimization: Avoid redundant calculations</li>
</ul>
</li>
<li class="has-line-data" data-line-start="257" data-line-end="264">
<p class="has-line-data" data-line-start="257" data-line-end="258">Window Maximum Product</p>
<ul>
<li class="has-line-data" data-line-start="258" data-line-end="259"><a href="https://leetcode.com/problems/maximum-product-of-three-numbers/">LeetCode: 628 - Maximum Product of Three Numbers</a> </li>
<li class="has-line-data" data-line-start="259" data-line-end="260">Builds on #2: Handle negative numbers</li>
<li class="has-line-data" data-line-start="260" data-line-end="261">Key Difference: Track both max and min deques</li>
<li class="has-line-data" data-line-start="261" data-line-end="262">Common Error: Missing negative number cases</li>
<li class="has-line-data" data-line-start="262" data-line-end="264">Optimization: Two-ended tracking</li>
</ul>
</li>
<li class="has-line-data" data-line-start="264" data-line-end="271">
<p class="has-line-data" data-line-start="264" data-line-end="265">Window Maximum GCD</p>
<ul>
<li class="has-line-data" data-line-start="265" data-line-end="266"><a href="https://practice.geeksforgeeks.org/problems/maximum-gcd-of-siblings-of-a-binary-tree/1">GeeksForGeeks: Maximum GCD of Subarray</a> </li>
<li class="has-line-data" data-line-start="266" data-line-end="267">Builds on #3: GCD property maintenance</li>
<li class="has-line-data" data-line-start="267" data-line-end="268">Key Difference: GCD calculation in window</li>
<li class="has-line-data" data-line-start="268" data-line-end="269">Common Error: Unnecessary GCD recalculations</li>
<li class="has-line-data" data-line-start="269" data-line-end="271">Optimization: GCD property optimization</li>
</ul>
</li>
<li class="has-line-data" data-line-start="271" data-line-end="278">
<p class="has-line-data" data-line-start="271" data-line-end="272">K-Length Window Maximum Sum</p>
<ul>
<li class="has-line-data" data-line-start="272" data-line-end="273"><a href="https://leetcode.com/problems/maximum-sum-of-distinct-subarrays-with-length-k/">LeetCode: 2461 - Maximum Sum of Distinct Subarrays With Length K</a> </li>
<li class="has-line-data" data-line-start="273" data-line-end="274">Builds on #4: Adds uniqueness constraint</li>
<li class="has-line-data" data-line-start="274" data-line-end="275">Key Difference: Hash set for uniqueness</li>
<li class="has-line-data" data-line-start="275" data-line-end="276">Common Error: Not maintaining unique set</li>
<li class="has-line-data" data-line-start="276" data-line-end="278">Optimization: Sliding window with set</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=278 data-line-end=279 ><a id="Window_Constraints_5_Questions_278"></a>Window Constraints (5 Questions)</h3>
<ol start="6">
<li class="has-line-data" data-line-start="279" data-line-end="286">
<p class="has-line-data" data-line-start="279" data-line-end="280">Longest Continuous Subarray with Absolute Diff  Limit</p>
<ul>
<li class="has-line-data" data-line-start="280" data-line-end="281"><a href="https://leetcode.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/">LeetCode: 1438</a> </li>
<li class="has-line-data" data-line-start="281" data-line-end="282">Base window constraint pattern</li>
<li class="has-line-data" data-line-start="282" data-line-end="283">Key Difference: Dual queue for min/max</li>
<li class="has-line-data" data-line-start="283" data-line-end="284">Common Error: Wrong queue updates</li>
<li class="has-line-data" data-line-start="284" data-line-end="286">Optimization: Early constraint check</li>
</ul>
</li>
<li class="has-line-data" data-line-start="286" data-line-end="293">
<p class="has-line-data" data-line-start="286" data-line-end="287">Maximum Subarray Length with Max-Min  K</p>
<ul>
<li class="has-line-data" data-line-start="287" data-line-end="288"><a href="https://practice.geeksforgeeks.org/problems/maximum-subarray-size-with-difference/1">GeeksForGeeks: Maximum Subarray Length</a> </li>
<li class="has-line-data" data-line-start="288" data-line-end="289">Builds on #6: Different constraint type</li>
<li class="has-line-data" data-line-start="289" data-line-end="290">Key Difference: Modified difference calculation</li>
<li class="has-line-data" data-line-start="290" data-line-end="291">Common Error: Incorrect bound checking</li>
<li class="has-line-data" data-line-start="291" data-line-end="293">Optimization: Binary search on answer</li>
</ul>
</li>
<li class="has-line-data" data-line-start="293" data-line-end="300">
<p class="has-line-data" data-line-start="293" data-line-end="294">Longest Nice Subarray with Range K</p>
<ul>
<li class="has-line-data" data-line-start="294" data-line-end="295"><a href="https://leetcode.com/problems/longest-nice-subarray/">LeetCode: 2401 - Longest Nice Subarray</a> </li>
<li class="has-line-data" data-line-start="295" data-line-end="296">Builds on #7: Bitwise constraints</li>
<li class="has-line-data" data-line-start="296" data-line-end="297">Key Difference: AND operation checking</li>
<li class="has-line-data" data-line-start="297" data-line-end="298">Common Error: Missing bit positions</li>
<li class="has-line-data" data-line-start="298" data-line-end="300">Optimization: Bit manipulation tricks</li>
</ul>
</li>
<li class="has-line-data" data-line-start="300" data-line-end="307">
<p class="has-line-data" data-line-start="300" data-line-end="301">Find Subarrays with Equal Elements</p>
<ul>
<li class="has-line-data" data-line-start="301" data-line-end="302"><a href="https://leetcode.com/problems/number-of-subarrays-having-even-product/">LeetCode: 2495 - Number of Subarrays Having Even Product</a> </li>
<li class="has-line-data" data-line-start="302" data-line-end="303">Builds on #8: Equality constraints</li>
<li class="has-line-data" data-line-start="303" data-line-end="304">Key Difference: Product property check</li>
<li class="has-line-data" data-line-start="304" data-line-end="305">Common Error: Overflow in product</li>
<li class="has-line-data" data-line-start="305" data-line-end="307">Optimization: Use parity instead of product</li>
</ul>
</li>
<li class="has-line-data" data-line-start="307" data-line-end="314">
<p class="has-line-data" data-line-start="307" data-line-end="308">Maximum Window Size with Single Unique Element</p>
<ul>
<li class="has-line-data" data-line-start="308" data-line-end="309"><a href="https://practice.geeksforgeeks.org/problems/length-of-the-longest-substring-with-distinct-characters/1">GeeksForGeeks: Maximum Subarray with Unique Elements</a> </li>
<li class="has-line-data" data-line-start="309" data-line-end="310">Builds on #9: Uniqueness constraint</li>
<li class="has-line-data" data-line-start="310" data-line-end="311">Key Difference: Set-based checking</li>
<li class="has-line-data" data-line-start="311" data-line-end="312">Common Error: Set update timing</li>
<li class="has-line-data" data-line-start="312" data-line-end="314">Optimization: Two-pointer technique</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=314 data-line-end=315 ><a id="Optimization_Problems_5_Questions_314"></a>Optimization Problems (5 Questions)</h3>
<ol start="11">
<li class="has-line-data" data-line-start="315" data-line-end="322">
<p class="has-line-data" data-line-start="315" data-line-end="316">Minimum Number of Coins for Fruits</p>
<ul>
<li class="has-line-data" data-line-start="316" data-line-end="317"><a href="https://leetcode.com/problems/minimum-number-of-coins-for-fruits/">LeetCode: 2944 - Minimum Number of Coins for Fruits</a> </li>
<li class="has-line-data" data-line-start="317" data-line-end="318">Base optimization pattern</li>
<li class="has-line-data" data-line-start="318" data-line-end="319">Key Difference: Decreasing queue maintenance</li>
<li class="has-line-data" data-line-start="319" data-line-end="320">Common Error: Wrong coin calculation</li>
<li class="has-line-data" data-line-start="320" data-line-end="322">Optimization: Dynamic programming with queue</li>
</ul>
</li>
<li class="has-line-data" data-line-start="322" data-line-end="329">
<p class="has-line-data" data-line-start="322" data-line-end="323">Minimum Cost to Buy Sequential Items</p>
<ul>
<li class="has-line-data" data-line-start="323" data-line-end="324"><a href="https://practice.geeksforgeeks.org/problems/minimum-cost-of-buying-candies-with-discount/1">GeeksForGeeks: Minimum Cost of Buying Candies</a> </li>
<li class="has-line-data" data-line-start="324" data-line-end="325">Builds on #11: Sequential purchase</li>
<li class="has-line-data" data-line-start="325" data-line-end="326">Key Difference: Discount rules</li>
<li class="has-line-data" data-line-start="326" data-line-end="327">Common Error: Wrong order selection</li>
<li class="has-line-data" data-line-start="327" data-line-end="329">Optimization: Greedy approach</li>
</ul>
</li>
<li class="has-line-data" data-line-start="329" data-line-end="336">
<p class="has-line-data" data-line-start="329" data-line-end="330">Optimal Purchase with Free Items</p>
<ul>
<li class="has-line-data" data-line-start="330" data-line-end="331"><a href="https://www.hackerrank.com/challenges/minimum-cost">HackerRank: Minimum Cost</a> </li>
<li class="has-line-data" data-line-start="331" data-line-end="332">Builds on #12: Free item rules</li>
<li class="has-line-data" data-line-start="332" data-line-end="333">Key Difference: Complex reward structure</li>
<li class="has-line-data" data-line-start="333" data-line-end="334">Common Error: Missing free item combinations</li>
<li class="has-line-data" data-line-start="334" data-line-end="336">Optimization: State compression</li>
</ul>
</li>
<li class="has-line-data" data-line-start="336" data-line-end="343">
<p class="has-line-data" data-line-start="336" data-line-end="337">Minimum Cost with Alternative Choices</p>
<ul>
<li class="has-line-data" data-line-start="337" data-line-end="338"><a href="https://practice.geeksforgeeks.org/problems/minimum-cost-path/1">GeeksForGeeks: Minimum Cost Path</a> </li>
<li class="has-line-data" data-line-start="338" data-line-end="339">Builds on #13: Path choices</li>
<li class="has-line-data" data-line-start="339" data-line-end="340">Key Difference: Multiple path options</li>
<li class="has-line-data" data-line-start="340" data-line-end="341">Common Error: Suboptimal path selection</li>
<li class="has-line-data" data-line-start="341" data-line-end="343">Optimization: Priority queue approach</li>
</ul>
</li>
<li class="has-line-data" data-line-start="343" data-line-end="350">
<p class="has-line-data" data-line-start="343" data-line-end="344">Sequential Purchase Optimization</p>
<ul>
<li class="has-line-data" data-line-start="344" data-line-end="345"><a href="https://www.hackerearth.com/practice/algorithms/greedy/basics-of-greedy-algorithms/practice-problems/algorithm/shopping-time-problem/">HackerEarth: Shopping Time</a> </li>
<li class="has-line-data" data-line-start="345" data-line-end="346">Builds on #14: Complex rewards</li>
<li class="has-line-data" data-line-start="346" data-line-end="347">Key Difference: Time constraints</li>
<li class="has-line-data" data-line-start="347" data-line-end="348">Common Error: Invalid sequence selection</li>
<li class="has-line-data" data-line-start="348" data-line-end="350">Optimization: State machine approach</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=350 data-line-end=351 ><a id="Advanced_Applications_5_Questions_350"></a>Advanced Applications (5 Questions)</h3>
<ol start="16">
<li class="has-line-data" data-line-start="351" data-line-end="358">
<p class="has-line-data" data-line-start="351" data-line-end="352">Maximum Rectangle in Histogram</p>
<ul>
<li class="has-line-data" data-line-start="352" data-line-end="353"><a href="https://leetcode.com/problems/largest-rectangle-in-histogram/">LeetCode: 84 - Largest Rectangle in Histogram</a> </li>
<li class="has-line-data" data-line-start="353" data-line-end="354">Base histogram pattern</li>
<li class="has-line-data" data-line-start="354" data-line-end="355">Key Difference: Stack-based approach</li>
<li class="has-line-data" data-line-start="355" data-line-end="356">Common Error: Missing edge rectangles</li>
<li class="has-line-data" data-line-start="356" data-line-end="358">Optimization: Sentinel values</li>
</ul>
</li>
<li class="has-line-data" data-line-start="358" data-line-end="365">
<p class="has-line-data" data-line-start="358" data-line-end="359">Largest Rectangle with Height Limit</p>
<ul>
<li class="has-line-data" data-line-start="359" data-line-end="360"><a href="https://practice.geeksforgeeks.org/problems/maximum-rectangular-area-in-a-histogram-1587115620/1">GeeksForGeeks: Largest Rectangle with Height Constraints</a> </li>
<li class="has-line-data" data-line-start="360" data-line-end="361">Builds on #16: Height constraints</li>
<li class="has-line-data" data-line-start="361" data-line-end="362">Key Difference: Limited height expansion</li>
<li class="has-line-data" data-line-start="362" data-line-end="363">Common Error: Constraint violations</li>
<li class="has-line-data" data-line-start="363" data-line-end="365">Optimization: Early pruning</li>
</ul>
</li>
<li class="has-line-data" data-line-start="365" data-line-end="372">
<p class="has-line-data" data-line-start="365" data-line-end="366">Maximum Area Rectangle with Condition</p>
<ul>
<li class="has-line-data" data-line-start="366" data-line-end="367"><a href="https://www.hackerrank.com/challenges/largest-rectangle">HackerRank: Largest Rectangle</a> </li>
<li class="has-line-data" data-line-start="367" data-line-end="368">Builds on #17: Area conditions</li>
<li class="has-line-data" data-line-start="368" data-line-end="369">Key Difference: Additional constraints</li>
<li class="has-line-data" data-line-start="369" data-line-end="370">Common Error: Missing valid areas</li>
<li class="has-line-data" data-line-start="370" data-line-end="372">Optimization: Two-ended scan</li>
</ul>
</li>
<li class="has-line-data" data-line-start="372" data-line-end="379">
<p class="has-line-data" data-line-start="372" data-line-end="373">Optimal Rectangle Selection</p>
<ul>
<li class="has-line-data" data-line-start="373" data-line-end="374"><a href="https://practice.geeksforgeeks.org/problems/maximum-size-rectangle/1">GeeksForGeeks: Largest Rectangle Submatrix</a> </li>
<li class="has-line-data" data-line-start="374" data-line-end="375">Builds on #18: 2D extension</li>
<li class="has-line-data" data-line-start="375" data-line-end="376">Key Difference: Matrix handling</li>
<li class="has-line-data" data-line-start="376" data-line-end="377">Common Error: Row processing order</li>
<li class="has-line-data" data-line-start="377" data-line-end="379">Optimization: Row-by-row histogram</li>
</ul>
</li>
<li class="has-line-data" data-line-start="379" data-line-end="385">
<p class="has-line-data" data-line-start="379" data-line-end="380">Maximum Volume Container</p>
<ul>
<li class="has-line-data" data-line-start="380" data-line-end="381"><a href="https://leetcode.com/problems/container-with-most-water/">LeetCode: 11 - Container With Most Water</a> </li>
<li class="has-line-data" data-line-start="381" data-line-end="382">Builds on #19: Volume calculation</li>
<li class="has-line-data" data-line-start="382" data-line-end="383">Key Difference: Two-pointer technique</li>
<li class="has-line-data" data-line-start="383" data-line-end="384">Common Error: Wrong pointer movement</li>
<li class="has-line-data" data-line-start="384" data-line-end="385">Optimization: Skip similar heights</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=387 data-line-end=388 ><a id="Implementation_Templates_387"></a>Implementation Templates</h3>
<ol>
<li class="has-line-data" data-line-start="389" data-line-end="390">Basic Monotonic Queue Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="391" data-line-end="409" class="language-python"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> deque

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MonotonicQueue</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.queue = deque()
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">push</span><span class="hljs-params">(self, x)</span>:</span>
        <span class="hljs-keyword">while</span> self.queue <span class="hljs-keyword">and</span> self.queue[-<span class="hljs-number">1</span>] &lt; x:
            self.queue.pop()
        self.queue.append(x)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pop</span><span class="hljs-params">(self, x)</span>:</span>
        <span class="hljs-keyword">if</span> self.queue <span class="hljs-keyword">and</span> self.queue[<span class="hljs-number">0</span>] == x:
            self.queue.popleft()
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">max</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> self.queue[<span class="hljs-number">0</span>] <span class="hljs-keyword">if</span> self.queue <span class="hljs-keyword">else</span> <span class="hljs-keyword">None</span>
</code></pre>
<ol start="2">
<li class="has-line-data" data-line-start="410" data-line-end="411">Sliding Window Maximum Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="414" data-line-end="433" class="language-python"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> deque

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">maxSlidingWindow</span><span class="hljs-params">(nums, k)</span>:</span>
    result = []
    window = deque()
    
    <span class="hljs-keyword">for</span> i, num <span class="hljs-keyword">in</span> enumerate(nums):
        <span class="hljs-keyword">while</span> window <span class="hljs-keyword">and</span> nums[window[-<span class="hljs-number">1</span>]] &lt; num:
            window.pop()
        window.append(i)
        
        <span class="hljs-keyword">if</span> window[<span class="hljs-number">0</span>] == i - k:
            window.popleft()
        
        <span class="hljs-keyword">if</span> i &gt;= k - <span class="hljs-number">1</span>:
            result.append(nums[window[<span class="hljs-number">0</span>]])
    
    <span class="hljs-keyword">return</span> result
</code></pre>
<h3 class="code-line" data-line-start=434 data-line-end=435 ><a id="Optimization_Guidelines_434"></a>Optimization Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="436" data-line-end="438">
<p class="has-line-data" data-line-start="436" data-line-end="437">Queue Management:</p>
</li>
<li class="has-line-data" data-line-start="438" data-line-end="439">
<p class="has-line-data" data-line-start="438" data-line-end="439">Use deque for O(1) operations at both ends</p>
</li>
<li class="has-line-data" data-line-start="439" data-line-end="440">
<p class="has-line-data" data-line-start="439" data-line-end="440">Maintain monotonicity to reduce unnecessary elements</p>
</li>
<li class="has-line-data" data-line-start="440" data-line-end="441">
<p class="has-line-data" data-line-start="440" data-line-end="441">Implement lazy deletion for elements leaving the window</p>
</li>
</ol>
<ol start="2">
<li class="has-line-data" data-line-start="444" data-line-end="446">
<p class="has-line-data" data-line-start="444" data-line-end="445">Window Sliding:</p>
</li>
<li class="has-line-data" data-line-start="446" data-line-end="447">
<p class="has-line-data" data-line-start="446" data-line-end="447">Use two-pointer technique for efficient sliding</p>
</li>
<li class="has-line-data" data-line-start="447" data-line-end="448">
<p class="has-line-data" data-line-start="447" data-line-end="448">Implement circular buffer for fixed-size windows</p>
</li>
<li class="has-line-data" data-line-start="448" data-line-end="449">
<p class="has-line-data" data-line-start="448" data-line-end="449">Use sentinel values to handle edge cases</p>
</li>
</ol>
<ol start="3">
<li class="has-line-data" data-line-start="452" data-line-end="454">
<p class="has-line-data" data-line-start="452" data-line-end="453">Constraint Handling:</p>
</li>
<li class="has-line-data" data-line-start="454" data-line-end="455">
<p class="has-line-data" data-line-start="454" data-line-end="455">Use bit manipulation for efficient constraint checking</p>
</li>
<li class="has-line-data" data-line-start="455" data-line-end="456">
<p class="has-line-data" data-line-start="455" data-line-end="456">Implement early termination for constraint violations</p>
</li>
<li class="has-line-data" data-line-start="456" data-line-end="457">
<p class="has-line-data" data-line-start="456" data-line-end="457">Use hash sets for uniqueness constraints</p>
</li>
</ol>
<ol start="4">
<li class="has-line-data" data-line-start="460" data-line-end="462">
<p class="has-line-data" data-line-start="460" data-line-end="461">Computation Optimization:</p>
</li>
<li class="has-line-data" data-line-start="462" data-line-end="463">
<p class="has-line-data" data-line-start="462" data-line-end="463">Use running sums/products for efficient updates</p>
</li>
<li class="has-line-data" data-line-start="463" data-line-end="464">
<p class="has-line-data" data-line-start="463" data-line-end="464">Implement incremental GCD calculations</p>
</li>
<li class="has-line-data" data-line-start="464" data-line-end="465">
<p class="has-line-data" data-line-start="464" data-line-end="465">Use dynamic programming with monotonic queue for optimization problems</p>
</li>
</ol>
<h3 class="code-line" data-line-start=467 data-line-end=468 ><a id="Common_Pitfalls_467"></a>Common Pitfalls</h3>
<ol>
<li class="has-line-data" data-line-start="469" data-line-end="470">Not removing out-of-window elements from the queue</li>
<li class="has-line-data" data-line-start="470" data-line-end="471">Incorrect handling of duplicate elements in the queue</li>
<li class="has-line-data" data-line-start="471" data-line-end="472">Integer overflow in cumulative calculations (sum, product)</li>
<li class="has-line-data" data-line-start="472" data-line-end="473">Wrong order of operations in queue updates</li>
<li class="has-line-data" data-line-start="473" data-line-end="474">Inefficient constraint checking in each iteration</li>
</ol>
<h3 class="code-line" data-line-start=476 data-line-end=477 ><a id="Additional_Notes_476"></a>Additional Notes</h3>
<ul>
<li class="has-line-data" data-line-start="478" data-line-end="479">Consider using monotonic queue for problems involving sliding window maximum/minimum</li>
<li class="has-line-data" data-line-start="479" data-line-end="480">Implement bi-directional monotonic queues for problems requiring both max and min</li>
<li class="has-line-data" data-line-start="480" data-line-end="481">Use monotonic queue in conjunction with dynamic programming for certain optimization problems</li>
<li class="has-line-data" data-line-start="481" data-line-end="482">Consider applying monotonic queue concept to stack-based problems (e.g., largest rectangle in histogram)</li>
<li class="has-line-data" data-line-start="482" data-line-end="483">Explore applications in time series analysis and financial algorithms (e.g., stock span problem)</li>
</ul>
<h2 class="code-line" data-line-start=485 data-line-end=486 ><a id="Pattern_3_Simulation_485"></a>Pattern 3: Simulation</h2>
<h3 class="code-line" data-line-start=486 data-line-end=487 ><a id="Basic_Array_State_Changes_486"></a>Basic Array State Changes</h3>
<ol>
<li class="has-line-data" data-line-start="487" data-line-end="494">
<p class="has-line-data" data-line-start="487" data-line-end="488">Array Transformation</p>
<ul>
<li class="has-line-data" data-line-start="488" data-line-end="489"><a href="https://leetcode.com/problems/array-transformation/">LeetCode: 1243 - Array Transformation</a> </li>
<li class="has-line-data" data-line-start="489" data-line-end="490">Base Pattern: In-place array updates</li>
<li class="has-line-data" data-line-start="490" data-line-end="491">Key Operation: <code>arr[i] = compare(arr[i-1], arr[i+1])</code></li>
<li class="has-line-data" data-line-start="491" data-line-end="492">Common Error: Not handling boundaries</li>
<li class="has-line-data" data-line-start="492" data-line-end="494">Optimization: Single pass modification</li>
</ul>
</li>
<li class="has-line-data" data-line-start="494" data-line-end="501">
<p class="has-line-data" data-line-start="494" data-line-end="495">Replace Elements with Greatest Right</p>
<ul>
<li class="has-line-data" data-line-start="495" data-line-end="496"><a href="https://leetcode.com/problems/replace-elements-with-greatest-element-on-right-side/">LeetCode: 1299 - Replace Elements with Greatest Element on Right Side</a> </li>
<li class="has-line-data" data-line-start="496" data-line-end="497">Builds on #1: Directional scanning</li>
<li class="has-line-data" data-line-start="497" data-line-end="498">Key Difference: Running maximum tracking</li>
<li class="has-line-data" data-line-start="498" data-line-end="499">Common Error: Wrong scan direction</li>
<li class="has-line-data" data-line-start="499" data-line-end="501">Optimization: Reverse iteration eliminates extra space</li>
</ul>
</li>
<li class="has-line-data" data-line-start="501" data-line-end="508">
<p class="has-line-data" data-line-start="501" data-line-end="502">Apply Operations to Array</p>
<ul>
<li class="has-line-data" data-line-start="502" data-line-end="503"><a href="https://leetcode.com/problems/apply-operations-to-an-array/">LeetCode: 2460 - Apply Operations to an Array</a> </li>
<li class="has-line-data" data-line-start="503" data-line-end="504">Builds on #2: Pairwise operations</li>
<li class="has-line-data" data-line-start="504" data-line-end="505">Key Difference: Two-element state change</li>
<li class="has-line-data" data-line-start="505" data-line-end="506">Common Error: Not handling duplicates</li>
<li class="has-line-data" data-line-start="506" data-line-end="508">Optimization: In-place modification</li>
</ul>
</li>
<li class="has-line-data" data-line-start="508" data-line-end="515">
<p class="has-line-data" data-line-start="508" data-line-end="509">Minimum Operations to Make Array Alternating</p>
<ul>
<li class="has-line-data" data-line-start="509" data-line-end="510"><a href="https://leetcode.com/problems/minimum-operations-to-make-the-array-alternating/">LeetCode: 2170 - Minimum Operations to Make the Array Alternating</a> </li>
<li class="has-line-data" data-line-start="510" data-line-end="511">Builds on #3: Pattern-based validation</li>
<li class="has-line-data" data-line-start="511" data-line-end="512">Key Difference: Frequency counting for decisions</li>
<li class="has-line-data" data-line-start="512" data-line-end="513">Common Error: Not considering all valid patterns</li>
<li class="has-line-data" data-line-start="513" data-line-end="515">Optimization: Use two frequency maps</li>
</ul>
</li>
<li class="has-line-data" data-line-start="515" data-line-end="522">
<p class="has-line-data" data-line-start="515" data-line-end="516">Beautiful Array</p>
<ul>
<li class="has-line-data" data-line-start="516" data-line-end="517"><a href="https://leetcode.com/problems/beautiful-array/">LeetCode: 932 - Beautiful Array</a> </li>
<li class="has-line-data" data-line-start="517" data-line-end="518">Builds on #4: Complex pattern creation</li>
<li class="has-line-data" data-line-start="518" data-line-end="519">Key Difference: Divide-and-conquer transformation</li>
<li class="has-line-data" data-line-start="519" data-line-end="520">Common Error: Invalid subarray combinations</li>
<li class="has-line-data" data-line-start="520" data-line-end="522">Optimization: Memoize subpatterns</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=522 data-line-end=523 ><a id="Resource_Allocation_Simulation_522"></a>Resource Allocation Simulation</h3>
<ol start="6">
<li class="has-line-data" data-line-start="523" data-line-end="530">
<p class="has-line-data" data-line-start="523" data-line-end="524">Water Bottles</p>
<ul>
<li class="has-line-data" data-line-start="524" data-line-end="525"><a href="https://leetcode.com/problems/water-bottles/">LeetCode: 1518 - Water Bottles</a> </li>
<li class="has-line-data" data-line-start="525" data-line-end="526">Base Pattern: Resource exchange cycle</li>
<li class="has-line-data" data-line-start="526" data-line-end="527">Key Operation: <code>total += empty / exchange</code></li>
<li class="has-line-data" data-line-start="527" data-line-end="528">Common Error: Incorrect remainder handling</li>
<li class="has-line-data" data-line-start="528" data-line-end="530">Optimization: Mathematical formula exists</li>
</ul>
</li>
<li class="has-line-data" data-line-start="530" data-line-end="537">
<p class="has-line-data" data-line-start="530" data-line-end="531">Cells in Range on Excel Sheet</p>
<ul>
<li class="has-line-data" data-line-start="531" data-line-end="532"><a href="https://leetcode.com/problems/cells-in-a-range-on-an-excel-sheet/">LeetCode: 2194 - Cells in a Range on an Excel Sheet</a> </li>
<li class="has-line-data" data-line-start="532" data-line-end="533">Builds on #6: 2D coordinate simulation</li>
<li class="has-line-data" data-line-start="533" data-line-end="534">Key Difference: Character-based increments</li>
<li class="has-line-data" data-line-start="534" data-line-end="535">Common Error: Wrong range boundaries</li>
<li class="has-line-data" data-line-start="535" data-line-end="537">Optimization: Direct formula for cell count</li>
</ul>
</li>
<li class="has-line-data" data-line-start="537" data-line-end="544">
<p class="has-line-data" data-line-start="537" data-line-end="538">Maximum Number of Eaten Apples</p>
<ul>
<li class="has-line-data" data-line-start="538" data-line-end="539"><a href="https://leetcode.com/problems/maximum-number-of-eaten-apples/">LeetCode: 1705 - Maximum Number of Eaten Apples</a> </li>
<li class="has-line-data" data-line-start="539" data-line-end="540">Builds on #7: Time-based expiration</li>
<li class="has-line-data" data-line-start="540" data-line-end="541">Key Difference: Priority queue for freshness</li>
<li class="has-line-data" data-line-start="541" data-line-end="542">Common Error: Not removing expired items</li>
<li class="has-line-data" data-line-start="542" data-line-end="544">Optimization: Lazy deletion of expired</li>
</ul>
</li>
<li class="has-line-data" data-line-start="544" data-line-end="551">
<p class="has-line-data" data-line-start="544" data-line-end="545">Distribute Cookies</p>
<ul>
<li class="has-line-data" data-line-start="545" data-line-end="546"><a href="https://leetcode.com/problems/fair-distribution-of-cookies/">LeetCode: 2305 - Fair Distribution of Cookies</a> </li>
<li class="has-line-data" data-line-start="546" data-line-end="547">Builds on #8: Resource distribution</li>
<li class="has-line-data" data-line-start="547" data-line-end="548">Key Difference: Backtracking allocation</li>
<li class="has-line-data" data-line-start="548" data-line-end="549">Common Error: Missing distribution combinations</li>
<li class="has-line-data" data-line-start="549" data-line-end="551">Optimization: Branch pruning</li>
</ul>
</li>
<li class="has-line-data" data-line-start="551" data-line-end="558">
<p class="has-line-data" data-line-start="551" data-line-end="552">Construct Target Array With Multiple Sums</p>
<ul>
<li class="has-line-data" data-line-start="552" data-line-end="553"><a href="https://leetcode.com/problems/construct-target-array-with-multiple-sums/">LeetCode: 1354 - Construct Target Array With Multiple Sums</a> </li>
<li class="has-line-data" data-line-start="553" data-line-end="554">Builds on #9: Reverse simulation</li>
<li class="has-line-data" data-line-start="554" data-line-end="555">Key Difference: Work backwards from target</li>
<li class="has-line-data" data-line-start="555" data-line-end="556">Common Error: Integer overflow</li>
<li class="has-line-data" data-line-start="556" data-line-end="558">Optimization: Use modulo for large numbers</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=558 data-line-end=559 ><a id="GridBased_Simulations_558"></a>Grid-Based Simulations</h3>
<ol start="11">
<li class="has-line-data" data-line-start="559" data-line-end="566">
<p class="has-line-data" data-line-start="559" data-line-end="560">Design Tic-Tac-Toe</p>
<ul>
<li class="has-line-data" data-line-start="560" data-line-end="561"><a href="https://leetcode.com/problems/design-tic-tac-toe/">LeetCode: 348 - Design Tic-Tac-Toe</a> </li>
<li class="has-line-data" data-line-start="561" data-line-end="562">Base Pattern: Grid state tracking</li>
<li class="has-line-data" data-line-start="562" data-line-end="563">Key Operation: Track rows, cols, diagonals</li>
<li class="has-line-data" data-line-start="563" data-line-end="564">Common Error: Redundant win checking</li>
<li class="has-line-data" data-line-start="564" data-line-end="566">Optimization: O(1) move validation</li>
</ul>
</li>
<li class="has-line-data" data-line-start="566" data-line-end="573">
<p class="has-line-data" data-line-start="566" data-line-end="567">Minesweeper</p>
<ul>
<li class="has-line-data" data-line-start="567" data-line-end="568"><a href="https://leetcode.com/problems/minesweeper/">LeetCode: 529 - Minesweeper</a> </li>
<li class="has-line-data" data-line-start="568" data-line-end="569">Builds on #11: Cell revelation rules</li>
<li class="has-line-data" data-line-start="569" data-line-end="570">Key Difference: Recursive revelation</li>
<li class="has-line-data" data-line-start="570" data-line-end="571">Common Error: Invalid boundary checks</li>
<li class="has-line-data" data-line-start="571" data-line-end="573">Optimization: Iterative BFS instead of DFS</li>
</ul>
</li>
<li class="has-line-data" data-line-start="573" data-line-end="580">
<p class="has-line-data" data-line-start="573" data-line-end="574">Game of Life</p>
<ul>
<li class="has-line-data" data-line-start="574" data-line-end="575"><a href="https://leetcode.com/problems/game-of-life/">LeetCode: 289 - Game of Life</a> </li>
<li class="has-line-data" data-line-start="575" data-line-end="576">Builds on #12: Neighbor state rules</li>
<li class="has-line-data" data-line-start="576" data-line-end="577">Key Difference: Simultaneous updates</li>
<li class="has-line-data" data-line-start="577" data-line-end="578">Common Error: Premature state updates</li>
<li class="has-line-data" data-line-start="578" data-line-end="580">Optimization: Bit manipulation for states</li>
</ul>
</li>
<li class="has-line-data" data-line-start="580" data-line-end="587">
<p class="has-line-data" data-line-start="580" data-line-end="581">Design Excel Sum Formula</p>
<ul>
<li class="has-line-data" data-line-start="581" data-line-end="582"><a href="https://leetcode.com/problems/design-excel-sum-formula/">LeetCode: 631 - Design Excel Sum Formula</a> </li>
<li class="has-line-data" data-line-start="582" data-line-end="583">Builds on #13: Cell dependencies</li>
<li class="has-line-data" data-line-start="583" data-line-end="584">Key Difference: Topological evaluation</li>
<li class="has-line-data" data-line-start="584" data-line-end="585">Common Error: Circular references</li>
<li class="has-line-data" data-line-start="585" data-line-end="587">Optimization: Cache intermediate results</li>
</ul>
</li>
<li class="has-line-data" data-line-start="587" data-line-end="594">
<p class="has-line-data" data-line-start="587" data-line-end="588">Design Snake Game</p>
<ul>
<li class="has-line-data" data-line-start="588" data-line-end="589"><a href="https://leetcode.com/problems/design-snake-game/">LeetCode: 353 - Design Snake Game</a> </li>
<li class="has-line-data" data-line-start="589" data-line-end="590">Builds on #14: Moving entity</li>
<li class="has-line-data" data-line-start="590" data-line-end="591">Key Difference: Queue-based movement</li>
<li class="has-line-data" data-line-start="591" data-line-end="592">Common Error: Collision detection timing</li>
<li class="has-line-data" data-line-start="592" data-line-end="594">Optimization: Set for body positions</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=594 data-line-end=595 ><a id="System_Design_Simulation_594"></a>System Design Simulation</h3>
<ol start="16">
<li class="has-line-data" data-line-start="595" data-line-end="602">
<p class="has-line-data" data-line-start="595" data-line-end="596">Design Parking System</p>
<ul>
<li class="has-line-data" data-line-start="596" data-line-end="597"><a href="https://leetcode.com/problems/design-parking-system/">LeetCode: 1603 - Design Parking System</a> </li>
<li class="has-line-data" data-line-start="597" data-line-end="598">Base Pattern: Counter management</li>
<li class="has-line-data" data-line-start="598" data-line-end="599">Key Operation: <code>count[type]--</code></li>
<li class="has-line-data" data-line-start="599" data-line-end="600">Common Error: Not checking capacity</li>
<li class="has-line-data" data-line-start="600" data-line-end="602">Optimization: Use array instead of map</li>
</ul>
</li>
<li class="has-line-data" data-line-start="602" data-line-end="609">
<p class="has-line-data" data-line-start="602" data-line-end="603">Design Hit Counter</p>
<ul>
<li class="has-line-data" data-line-start="603" data-line-end="604"><a href="https://leetcode.com/problems/design-hit-counter/">LeetCode: 362 - Design Hit Counter</a> </li>
<li class="has-line-data" data-line-start="604" data-line-end="605">Builds on #16: Time window tracking</li>
<li class="has-line-data" data-line-start="605" data-line-end="606">Key Difference: Circular buffer concept</li>
<li class="has-line-data" data-line-start="606" data-line-end="607">Common Error: Stale data retention</li>
<li class="has-line-data" data-line-start="607" data-line-end="609">Optimization: Fixed size array reuse</li>
</ul>
</li>
<li class="has-line-data" data-line-start="609" data-line-end="616">
<p class="has-line-data" data-line-start="609" data-line-end="610">Design File System</p>
<ul>
<li class="has-line-data" data-line-start="610" data-line-end="611"><a href="https://leetcode.com/problems/design-file-system/">LeetCode: 1166 - Design File System</a> </li>
<li class="has-line-data" data-line-start="611" data-line-end="612">Builds on #17: Path-based operations</li>
<li class="has-line-data" data-line-start="612" data-line-end="613">Key Difference: Trie-like structure</li>
<li class="has-line-data" data-line-start="613" data-line-end="614">Common Error: Missing parent validation</li>
<li class="has-line-data" data-line-start="614" data-line-end="616">Optimization: Path component caching</li>
</ul>
</li>
<li class="has-line-data" data-line-start="616" data-line-end="623">
<p class="has-line-data" data-line-start="616" data-line-end="617">Design a Food Rating System</p>
<ul>
<li class="has-line-data" data-line-start="617" data-line-end="618"><a href="https://leetcode.com/problems/design-a-food-rating-system/">LeetCode: 2353 - Design a Food Rating System</a> </li>
<li class="has-line-data" data-line-start="618" data-line-end="619">Builds on #18: Multi-index lookup</li>
<li class="has-line-data" data-line-start="619" data-line-end="620">Key Difference: Sorted maintenance</li>
<li class="has-line-data" data-line-start="620" data-line-end="621">Common Error: Inconsistent state updates</li>
<li class="has-line-data" data-line-start="621" data-line-end="623">Optimization: Use TreeMap/SortedSet</li>
</ul>
</li>
<li class="has-line-data" data-line-start="623" data-line-end="630">
<p class="has-line-data" data-line-start="623" data-line-end="624">Design Movie Rental System</p>
<ul>
<li class="has-line-data" data-line-start="624" data-line-end="625"><a href="https://leetcode.com/problems/design-movie-rental-system/">LeetCode: 1912 - Design Movie Rental System</a> </li>
<li class="has-line-data" data-line-start="625" data-line-end="626">Builds on #19: Complex state machine</li>
<li class="has-line-data" data-line-start="626" data-line-end="627">Key Difference: Multiple sorted views</li>
<li class="has-line-data" data-line-start="627" data-line-end="628">Common Error: Search optimization missing</li>
<li class="has-line-data" data-line-start="628" data-line-end="630">Optimization: Maintain multiple indices</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=630 data-line-end=631 ><a id="Implementation_Guidelines_630"></a>Implementation Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="631" data-line-end="637">
<p class="has-line-data" data-line-start="631" data-line-end="632">State Management</p>
<ul>
<li class="has-line-data" data-line-start="632" data-line-end="633">Always define clear state transition rules</li>
<li class="has-line-data" data-line-start="633" data-line-end="634">Use appropriate data structures for state</li>
<li class="has-line-data" data-line-start="634" data-line-end="635">Consider using enums for state types</li>
<li class="has-line-data" data-line-start="635" data-line-end="637">Validate state changes before applying</li>
</ul>
</li>
<li class="has-line-data" data-line-start="637" data-line-end="643">
<p class="has-line-data" data-line-start="637" data-line-end="638">Resource Tracking</p>
<ul>
<li class="has-line-data" data-line-start="638" data-line-end="639">Track resource counts efficiently</li>
<li class="has-line-data" data-line-start="639" data-line-end="640">Handle resource expiration</li>
<li class="has-line-data" data-line-start="640" data-line-end="641">Consider priority queues for time-based operations</li>
<li class="has-line-data" data-line-start="641" data-line-end="643">Use lazy updates when possible</li>
</ul>
</li>
<li class="has-line-data" data-line-start="643" data-line-end="649">
<p class="has-line-data" data-line-start="643" data-line-end="644">Grid Operations</p>
<ul>
<li class="has-line-data" data-line-start="644" data-line-end="645">Define direction arrays for neighbors</li>
<li class="has-line-data" data-line-start="645" data-line-end="646">Use boundary checking helpers</li>
<li class="has-line-data" data-line-start="646" data-line-end="647">Consider 1D array for 2D grid</li>
<li class="has-line-data" data-line-start="647" data-line-end="649">Cache computed values</li>
</ul>
</li>
<li class="has-line-data" data-line-start="649" data-line-end="655">
<p class="has-line-data" data-line-start="649" data-line-end="650">System Design</p>
<ul>
<li class="has-line-data" data-line-start="650" data-line-end="651">Define clear class interfaces</li>
<li class="has-line-data" data-line-start="651" data-line-end="652">Use appropriate data structures</li>
<li class="has-line-data" data-line-start="652" data-line-end="653">Handle edge cases explicitly</li>
<li class="has-line-data" data-line-start="653" data-line-end="655">Consider time/space tradeoffs</li>
</ul>
</li>
<li class="has-line-data" data-line-start="655" data-line-end="661">
<p class="has-line-data" data-line-start="655" data-line-end="656">Optimization Techniques</p>
<ul>
<li class="has-line-data" data-line-start="656" data-line-end="657">Use appropriate containers (Array vs Set vs Map)</li>
<li class="has-line-data" data-line-start="657" data-line-end="658">Consider lazy evaluation</li>
<li class="has-line-data" data-line-start="658" data-line-end="659">Cache intermediate results</li>
<li class="has-line-data" data-line-start="659" data-line-end="661">Use bit manipulation where applicable</li>
</ul>
</li>
</ol>
<p class="has-line-data" data-line-start="661" data-line-end="670">class StateMachine:<br>
def <strong>init</strong>(self):<br>
self.state = INITIAL<br>
self.transitions = {<br>
INITIAL: {start: RUNNING},<br>
RUNNING: {pause: PAUSED, stop: STOPPED},<br>
PAUSED: {resume: RUNNING, stop: STOPPED},<br>
STOPPED: {reset: INITIAL}<br>
}</p>
<pre><code>def transition(self, action):
    if action in self.transitions[self.state]:
        self.state = self.transitions[self.state][action]
        return True
    return False
</code></pre>
<h2 class="code-line" data-line-start=678 data-line-end=679 ><a id="Pattern_4_Linear_Sorting_Pattern_678"></a>Pattern 4: Linear Sorting Pattern</h2>
<h3 class="code-line" data-line-start=679 data-line-end=680 ><a id="Basic_Counting_Sort_679"></a>Basic Counting Sort</h3>
<ol>
<li class="has-line-data" data-line-start="680" data-line-end="687">
<p class="has-line-data" data-line-start="680" data-line-end="681">Height Checker</p>
<ul>
<li class="has-line-data" data-line-start="681" data-line-end="682"><a href="https://leetcode.com/problems/height-checker/">LeetCode: 1051 - Height Checker</a> </li>
<li class="has-line-data" data-line-start="682" data-line-end="683">Base Pattern: Fixed-range counting</li>
<li class="has-line-data" data-line-start="683" data-line-end="684">Key Operation: <code>count[height] += 1</code></li>
<li class="has-line-data" data-line-start="684" data-line-end="685">Common Error: Not handling input range</li>
<li class="has-line-data" data-line-start="685" data-line-end="687">Optimization: Use array vs map based on range</li>
</ul>
</li>
<li class="has-line-data" data-line-start="687" data-line-end="694">
<p class="has-line-data" data-line-start="687" data-line-end="688">Sort Colors</p>
<ul>
<li class="has-line-data" data-line-start="688" data-line-end="689"><a href="https://leetcode.com/problems/sort-colors/">LeetCode: 75 - Sort Colors</a> </li>
<li class="has-line-data" data-line-start="689" data-line-end="690">Builds on #1: Three-pointer technique</li>
<li class="has-line-data" data-line-start="690" data-line-end="691">Key Difference: One-pass partitioning</li>
<li class="has-line-data" data-line-start="691" data-line-end="692">Common Error: Wrong pointer movement</li>
<li class="has-line-data" data-line-start="692" data-line-end="694">Optimization: In-place swaps</li>
</ul>
</li>
<li class="has-line-data" data-line-start="694" data-line-end="701">
<p class="has-line-data" data-line-start="694" data-line-end="695">Relative Sort Array</p>
<ul>
<li class="has-line-data" data-line-start="695" data-line-end="696"><a href="https://leetcode.com/problems/relative-sort-array/">LeetCode: 1122 - Relative Sort Array</a> </li>
<li class="has-line-data" data-line-start="696" data-line-end="697">Builds on #2: Custom order counting</li>
<li class="has-line-data" data-line-start="697" data-line-end="698">Key Difference: Reference array ordering</li>
<li class="has-line-data" data-line-start="698" data-line-end="699">Common Error: Missing elements handling</li>
<li class="has-line-data" data-line-start="699" data-line-end="701">Optimization: Use map for large ranges</li>
</ul>
</li>
<li class="has-line-data" data-line-start="701" data-line-end="708">
<p class="has-line-data" data-line-start="701" data-line-end="702">Sort Array by Increasing Frequency</p>
<ul>
<li class="has-line-data" data-line-start="702" data-line-end="703"><a href="https://leetcode.com/problems/sort-array-by-increasing-frequency/">LeetCode: 1636 - Sort Array by Increasing Frequency</a> </li>
<li class="has-line-data" data-line-start="703" data-line-end="704">Builds on #3: Two-level sorting</li>
<li class="has-line-data" data-line-start="704" data-line-end="705">Key Difference: Frequency as primary key</li>
<li class="has-line-data" data-line-start="705" data-line-end="706">Common Error: Tiebreaker handling</li>
<li class="has-line-data" data-line-start="706" data-line-end="708">Optimization: Bucket sort frequencies</li>
</ul>
</li>
<li class="has-line-data" data-line-start="708" data-line-end="715">
<p class="has-line-data" data-line-start="708" data-line-end="709">H-Index</p>
<ul>
<li class="has-line-data" data-line-start="709" data-line-end="710"><a href="https://leetcode.com/problems/h-index/">LeetCode: 274 - H-Index</a> </li>
<li class="has-line-data" data-line-start="710" data-line-end="711">Builds on #4: Citation grouping</li>
<li class="has-line-data" data-line-start="711" data-line-end="712">Key Difference: Cumulative counting</li>
<li class="has-line-data" data-line-start="712" data-line-end="713">Common Error: Off-by-one in counting</li>
<li class="has-line-data" data-line-start="713" data-line-end="715">Optimization: Binary search possible</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=715 data-line-end=716 ><a id="Bucket_Sort_Fundamentals_715"></a>Bucket Sort Fundamentals</h3>
<ol start="6">
<li class="has-line-data" data-line-start="716" data-line-end="723">
<p class="has-line-data" data-line-start="716" data-line-end="717">Contains Duplicate III</p>
<ul>
<li class="has-line-data" data-line-start="717" data-line-end="718"><a href="https://leetcode.com/problems/contains-duplicate-iii/">LeetCode: 220 - Contains Duplicate III</a> </li>
<li class="has-line-data" data-line-start="718" data-line-end="719">Base Pattern: Value-based buckets</li>
<li class="has-line-data" data-line-start="719" data-line-end="720">Key Operation: <code>bucket = num // width</code></li>
<li class="has-line-data" data-line-start="720" data-line-end="721">Common Error: Bucket size calculation</li>
<li class="has-line-data" data-line-start="721" data-line-end="723">Optimization: Sliding window of buckets</li>
</ul>
</li>
<li class="has-line-data" data-line-start="723" data-line-end="730">
<p class="has-line-data" data-line-start="723" data-line-end="724">Top K Frequent Elements</p>
<ul>
<li class="has-line-data" data-line-start="724" data-line-end="725"><a href="https://leetcode.com/problems/top-k-frequent-elements/">LeetCode: 347 - Top K Frequent Elements</a> </li>
<li class="has-line-data" data-line-start="725" data-line-end="726">Builds on #6: Frequency bucketing</li>
<li class="has-line-data" data-line-start="726" data-line-end="727">Key Difference: Reverse mapping counts</li>
<li class="has-line-data" data-line-start="727" data-line-end="728">Common Error: Not handling equal frequencies</li>
<li class="has-line-data" data-line-start="728" data-line-end="730">Optimization: No need to sort all frequencies</li>
</ul>
</li>
<li class="has-line-data" data-line-start="730" data-line-end="737">
<p class="has-line-data" data-line-start="730" data-line-end="731">Sort Characters By Frequency</p>
<ul>
<li class="has-line-data" data-line-start="731" data-line-end="732"><a href="https://leetcode.com/problems/sort-characters-by-frequency/">LeetCode: 451 - Sort Characters By Frequency</a> </li>
<li class="has-line-data" data-line-start="732" data-line-end="733">Builds on #7: Character buckets</li>
<li class="has-line-data" data-line-start="733" data-line-end="734">Key Difference: String reconstruction</li>
<li class="has-line-data" data-line-start="734" data-line-end="735">Common Error: Character ordering within frequency</li>
<li class="has-line-data" data-line-start="735" data-line-end="737">Optimization: Use StringBuilder</li>
</ul>
</li>
<li class="has-line-data" data-line-start="737" data-line-end="744">
<p class="has-line-data" data-line-start="737" data-line-end="738">Maximum Gap</p>
<ul>
<li class="has-line-data" data-line-start="738" data-line-end="739"><a href="https://leetcode.com/problems/maximum-gap/">LeetCode: 164 - Maximum Gap</a> </li>
<li class="has-line-data" data-line-start="739" data-line-end="740">Builds on #8: Pigeonhole principle</li>
<li class="has-line-data" data-line-start="740" data-line-end="741">Key Difference: Bucket size optimization</li>
<li class="has-line-data" data-line-start="741" data-line-end="742">Common Error: Empty bucket handling</li>
<li class="has-line-data" data-line-start="742" data-line-end="744">Optimization: Only track min/max per bucket</li>
</ul>
</li>
<li class="has-line-data" data-line-start="744" data-line-end="751">
<p class="has-line-data" data-line-start="744" data-line-end="745">Find Median from Data Stream</p>
<ul>
<li class="has-line-data" data-line-start="745" data-line-end="746"><a href="https://leetcode.com/problems/find-median-from-data-stream/">LeetCode: 295 - Find Median from Data Stream</a> </li>
<li class="has-line-data" data-line-start="746" data-line-end="747">Builds on #9: Dynamic bucket management</li>
<li class="has-line-data" data-line-start="747" data-line-end="748">Key Difference: Continuous rebalancing</li>
<li class="has-line-data" data-line-start="748" data-line-end="749">Common Error: Median position tracking</li>
<li class="has-line-data" data-line-start="749" data-line-end="751">Optimization: Two heap approach</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=751 data-line-end=752 ><a id="Modified_Sorting_Rules_751"></a>Modified Sorting Rules</h3>
<ol start="11">
<li class="has-line-data" data-line-start="752" data-line-end="759">
<p class="has-line-data" data-line-start="752" data-line-end="753">Sort Array By Parity</p>
<ul>
<li class="has-line-data" data-line-start="753" data-line-end="754"><a href="https://leetcode.com/problems/sort-array-by-parity/">LeetCode: 905 - Sort Array By Parity</a> </li>
<li class="has-line-data" data-line-start="754" data-line-end="755">Base Pattern: Two-way partition</li>
<li class="has-line-data" data-line-start="755" data-line-end="756">Key Operation: <code>swap if (nums[i] % 2 != nums[j] % 2)</code></li>
<li class="has-line-data" data-line-start="756" data-line-end="757">Common Error: Unnecessary swaps</li>
<li class="has-line-data" data-line-start="757" data-line-end="759">Optimization: Two-pointer approach</li>
</ul>
</li>
<li class="has-line-data" data-line-start="759" data-line-end="766">
<p class="has-line-data" data-line-start="759" data-line-end="760">Sort Array by Parity II</p>
<ul>
<li class="has-line-data" data-line-start="760" data-line-end="761"><a href="https://leetcode.com/problems/sort-array-by-parity-ii/">LeetCode: 922 - Sort Array By Parity II</a> </li>
<li class="has-line-data" data-line-start="761" data-line-end="762">Builds on #11: Alternating placement</li>
<li class="has-line-data" data-line-start="762" data-line-end="763">Key Difference: Fixed position constraints</li>
<li class="has-line-data" data-line-start="763" data-line-end="764">Common Error: Index synchronization</li>
<li class="has-line-data" data-line-start="764" data-line-end="766">Optimization: Two independent pointers</li>
</ul>
</li>
<li class="has-line-data" data-line-start="766" data-line-end="773">
<p class="has-line-data" data-line-start="766" data-line-end="767">Array With Elements Not Equal to Average of Neighbors</p>
<ul>
<li class="has-line-data" data-line-start="767" data-line-end="768"><a href="https://leetcode.com/problems/array-with-elements-not-equal-to-average-of-neighbors/">LeetCode: 1968 - Array With Elements Not Equal to Average of Neighbors</a> </li>
<li class="has-line-data" data-line-start="768" data-line-end="769">Builds on #12: Three-element comparison</li>
<li class="has-line-data" data-line-start="769" data-line-end="770">Key Difference: Wiggle sort principle</li>
<li class="has-line-data" data-line-start="770" data-line-end="771">Common Error: Not handling duplicates</li>
<li class="has-line-data" data-line-start="771" data-line-end="773">Optimization: Sort once, then interleave</li>
</ul>
</li>
<li class="has-line-data" data-line-start="773" data-line-end="780">
<p class="has-line-data" data-line-start="773" data-line-end="774">Custom Sort String</p>
<ul>
<li class="has-line-data" data-line-start="774" data-line-end="775"><a href="https://leetcode.com/problems/custom-sort-string/">LeetCode: 791 - Custom Sort String</a> </li>
<li class="has-line-data" data-line-start="775" data-line-end="776">Builds on #13: Priority mapping</li>
<li class="has-line-data" data-line-start="776" data-line-end="777">Key Difference: Character order dictionary</li>
<li class="has-line-data" data-line-start="777" data-line-end="778">Common Error: Missing characters</li>
<li class="has-line-data" data-line-start="778" data-line-end="780">Optimization: Count array vs sort</li>
</ul>
</li>
<li class="has-line-data" data-line-start="780" data-line-end="787">
<p class="has-line-data" data-line-start="780" data-line-end="781">Largest Number</p>
<ul>
<li class="has-line-data" data-line-start="781" data-line-end="782"><a href="https://leetcode.com/problems/largest-number/">LeetCode: 179 - Largest Number</a> </li>
<li class="has-line-data" data-line-start="782" data-line-end="783">Builds on #14: String comparison</li>
<li class="has-line-data" data-line-start="783" data-line-end="784">Key Difference: Custom concatenation comparison</li>
<li class="has-line-data" data-line-start="784" data-line-end="785">Common Error: Leading zeros</li>
<li class="has-line-data" data-line-start="785" data-line-end="787">Optimization: Cache string conversions</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=787 data-line-end=788 ><a id="Advanced_Applications_787"></a>Advanced Applications</h2>
<ol start="16">
<li class="has-line-data" data-line-start="788" data-line-end="795">
<p class="has-line-data" data-line-start="788" data-line-end="789">Range Addition</p>
<ul>
<li class="has-line-data" data-line-start="789" data-line-end="790"><a href="https://leetcode.com/problems/range-addition/">LeetCode: 370 - Range Addition</a> </li>
<li class="has-line-data" data-line-start="790" data-line-end="791">Base Pattern: Difference array</li>
<li class="has-line-data" data-line-start="791" data-line-end="792">Key Difference: Boundary marking</li>
<li class="has-line-data" data-line-start="792" data-line-end="793">Common Error: Range boundary updates</li>
<li class="has-line-data" data-line-start="793" data-line-end="795">Optimization: Update endpoints only</li>
</ul>
</li>
<li class="has-line-data" data-line-start="795" data-line-end="802">
<p class="has-line-data" data-line-start="795" data-line-end="796">Car Fleet</p>
<ul>
<li class="has-line-data" data-line-start="796" data-line-end="797"><a href="https://leetcode.com/problems/car-fleet/">LeetCode: 853 - Car Fleet</a> </li>
<li class="has-line-data" data-line-start="797" data-line-end="798">Builds on #16: Time-based sorting</li>
<li class="has-line-data" data-line-start="798" data-line-end="799">Key Difference: Collision detection</li>
<li class="has-line-data" data-line-start="799" data-line-end="800">Common Error: Float comparison</li>
<li class="has-line-data" data-line-start="800" data-line-end="802">Optimization: Stack-based approach</li>
</ul>
</li>
<li class="has-line-data" data-line-start="802" data-line-end="809">
<p class="has-line-data" data-line-start="802" data-line-end="803">Maximum Height by Stacking Cuboids</p>
<ul>
<li class="has-line-data" data-line-start="803" data-line-end="804"><a href="https://leetcode.com/problems/maximum-height-by-stacking-cuboids/">LeetCode: 1691 - Maximum Height by Stacking Cuboids</a> </li>
<li class="has-line-data" data-line-start="804" data-line-end="805">Builds on #17: Multi-criteria sorting</li>
<li class="has-line-data" data-line-start="805" data-line-end="806">Key Difference: 3D constraints</li>
<li class="has-line-data" data-line-start="806" data-line-end="807">Common Error: Invalid rotation checks</li>
<li class="has-line-data" data-line-start="807" data-line-end="809">Optimization: Pre-sort dimensions</li>
</ul>
</li>
<li class="has-line-data" data-line-start="809" data-line-end="816">
<p class="has-line-data" data-line-start="809" data-line-end="810">Count of Range Sum</p>
<ul>
<li class="has-line-data" data-line-start="810" data-line-end="811"><a href="https://leetcode.com/problems/count-of-range-sum/">LeetCode: 327 - Count of Range Sum</a> </li>
<li class="has-line-data" data-line-start="811" data-line-end="812">Builds on #18: Prefix sum ordering</li>
<li class="has-line-data" data-line-start="812" data-line-end="813">Key Difference: Range counting</li>
<li class="has-line-data" data-line-start="813" data-line-end="814">Common Error: Sum overflow</li>
<li class="has-line-data" data-line-start="814" data-line-end="816">Optimization: Merge sort approach</li>
</ul>
</li>
<li class="has-line-data" data-line-start="816" data-line-end="822">
<p class="has-line-data" data-line-start="816" data-line-end="817">Longest Consecutive Sequence</p>
<ul>
<li class="has-line-data" data-line-start="817" data-line-end="818"><a href="https://leetcode.com/problems/longest-consecutive-sequence/">LeetCode: 128 - Longest Consecutive Sequence</a> </li>
<li class="has-line-data" data-line-start="818" data-line-end="819">Builds on #19: Set-based sorting</li>
<li class="has-line-data" data-line-start="819" data-line-end="820">Key Difference: Sequence detection</li>
<li class="has-line-data" data-line-start="820" data-line-end="821">Common Error: Duplicate handling</li>
<li class="has-line-data" data-line-start="821" data-line-end="822">Optimization: Skip checked numbers</li>
</ul>
</li>
</ol>
<ol>
<li class="has-line-data" data-line-start="824" data-line-end="825">Basic Counting Sort Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="826" data-line-end="841" class="language-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">counting_sort</span><span class="hljs-params">(arr, max_val)</span>:</span>
    count = [<span class="hljs-number">0</span>] * (max_val + <span class="hljs-number">1</span>)
    <span class="hljs-comment"># Count frequencies</span>
    <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> arr:
        count[num] += <span class="hljs-number">1</span>
    
    <span class="hljs-comment"># Rebuild array</span>
    idx = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(max_val + <span class="hljs-number">1</span>):
        <span class="hljs-keyword">while</span> count[i] &gt; <span class="hljs-number">0</span>:
            arr[idx] = i
            idx += <span class="hljs-number">1</span>
            count[i] -= <span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> arr
</code></pre>
<ol start="2">
<li class="has-line-data" data-line-start="842" data-line-end="843">Bucket Sort Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="844" data-line-end="865" class="language-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bucket_sort</span><span class="hljs-params">(arr, bucket_size=<span class="hljs-number">5</span>)</span>:</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> arr:
        <span class="hljs-keyword">return</span> arr
    
    <span class="hljs-comment"># Create buckets</span>
    min_val, max_val = min(arr), max(arr)
    bucket_count = (max_val - min_val) // bucket_size + <span class="hljs-number">1</span>
    buckets = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(bucket_count)]
    
    <span class="hljs-comment"># Distribute elements</span>
    <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> arr:
        bucket_idx = (num - min_val) // bucket_size
        buckets[bucket_idx].append(num)
    
    <span class="hljs-comment"># Sort buckets and combine</span>
    result = []
    <span class="hljs-keyword">for</span> bucket <span class="hljs-keyword">in</span> buckets:
        bucket.sort()  <span class="hljs-comment"># Can use counting sort here</span>
        result.extend(bucket)
    <span class="hljs-keyword">return</span> result
</code></pre>
<ol start="3">
<li class="has-line-data" data-line-start="866" data-line-end="867">Modified Rules Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="868" data-line-end="880" class="language-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">custom_sort</span><span class="hljs-params">(arr, rule_func)</span>:</span>
    n = len(arr)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(n):
        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(n-<span class="hljs-number">1</span>):
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> rule_func(arr[j], arr[j+<span class="hljs-number">1</span>]):
                arr[j], arr[j+<span class="hljs-number">1</span>] = arr[j+<span class="hljs-number">1</span>], arr[j]
    <span class="hljs-keyword">return</span> arr

<span class="hljs-comment"># Example rule function</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">compare_by_parity</span><span class="hljs-params">(a, b)</span>:</span>
    <span class="hljs-keyword">return</span> a % <span class="hljs-number">2</span> &lt;= b % <span class="hljs-number">2</span>  <span class="hljs-comment"># Even numbers before odd</span>
</code></pre>
<h3 class="code-line" data-line-start=883 data-line-end=884 ><a id="Optimization_Guidelines_883"></a>Optimization Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="885" data-line-end="891">
<p class="has-line-data" data-line-start="885" data-line-end="886">Counting Sort Optimizations:</p>
<ul>
<li class="has-line-data" data-line-start="886" data-line-end="887">Use array for small ranges, map for large ranges</li>
<li class="has-line-data" data-line-start="887" data-line-end="888">Consider input range when choosing data structure</li>
<li class="has-line-data" data-line-start="888" data-line-end="889">In-place modifications when possible</li>
<li class="has-line-data" data-line-start="889" data-line-end="891">Early termination checks</li>
</ul>
</li>
<li class="has-line-data" data-line-start="891" data-line-end="897">
<p class="has-line-data" data-line-start="891" data-line-end="892">Bucket Sort Optimizations:</p>
<ul>
<li class="has-line-data" data-line-start="892" data-line-end="893">Choose bucket size based on data distribution</li>
<li class="has-line-data" data-line-start="893" data-line-end="894">Use linear sorts within buckets</li>
<li class="has-line-data" data-line-start="894" data-line-end="895">Skip empty buckets during reconstruction</li>
<li class="has-line-data" data-line-start="895" data-line-end="897">Consider memory vs speed tradeoffs</li>
</ul>
</li>
<li class="has-line-data" data-line-start="897" data-line-end="903">
<p class="has-line-data" data-line-start="897" data-line-end="898">Modified Rules Optimizations:</p>
<ul>
<li class="has-line-data" data-line-start="898" data-line-end="899">Minimize comparisons and swaps</li>
<li class="has-line-data" data-line-start="899" data-line-end="900">Use auxiliary data structures wisely</li>
<li class="has-line-data" data-line-start="900" data-line-end="901">Consider stable vs unstable requirements</li>
<li class="has-line-data" data-line-start="901" data-line-end="903">Cache computed values when possible</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=903 data-line-end=904 ><a id="Common_Pitfalls_903"></a>Common Pitfalls</h3>
<ol>
<li class="has-line-data" data-line-start="904" data-line-end="905">Integer overflow in bucket calculations</li>
<li class="has-line-data" data-line-start="905" data-line-end="906">Not handling duplicate elements correctly</li>
<li class="has-line-data" data-line-start="906" data-line-end="907">Wrong bucket size leading to O(n) behavior</li>
<li class="has-line-data" data-line-start="907" data-line-end="908">Memory leaks in dynamic bucket allocation</li>
<li class="has-line-data" data-line-start="908" data-line-end="910">Unstable sorting when order matters</li>
</ol>
<h3 class="code-line" data-line-start=910 data-line-end=911 ><a id="Additional_Templates_910"></a>Additional Templates</h3>
<ol start="4">
<li class="has-line-data" data-line-start="912" data-line-end="913">Advanced Range Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="914" data-line-end="930" class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RangeHandler</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, n)</span>:</span>
        self.diff = [<span class="hljs-number">0</span>] * (n + <span class="hljs-number">1</span>)  <span class="hljs-comment"># One extra for right boundary</span>
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_range</span><span class="hljs-params">(self, left, right, val)</span>:</span>
        self.diff[left] += val
        self.diff[right + <span class="hljs-number">1</span>] -= val
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_final_array</span><span class="hljs-params">(self)</span>:</span>
        result = [<span class="hljs-number">0</span>] * (len(self.diff) - <span class="hljs-number">1</span>)
        curr = <span class="hljs-number">0</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(result)):
            curr += self.diff[i]
            result[i] = curr
        <span class="hljs-keyword">return</span> result
</code></pre>
<ol start="5">
<li class="has-line-data" data-line-start="931" data-line-end="932">Multi-Dimension Sort Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="933" data-line-end="947" class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MultiDimensionSorter</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, items, dimensions)</span>:</span>
        self.items = items
        self.dimensions = dimensions
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sort_all_dimensions</span><span class="hljs-params">(self)</span>:</span>
        sorted_items = self.items[:]
        <span class="hljs-keyword">for</span> dim <span class="hljs-keyword">in</span> self.dimensions:
            sorted_items.sort(key=<span class="hljs-keyword">lambda</span> x: x[dim])
        <span class="hljs-keyword">return</span> sorted_items
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">can_stack</span><span class="hljs-params">(self, bottom, top)</span>:</span>
        <span class="hljs-keyword">return</span> all(bottom[d] &gt;= top[d] <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> self.dimensions)
</code></pre>
<ol start="6">
<li class="has-line-data" data-line-start="948" data-line-end="949">Consecutive Sequence Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="950" data-line-end="967" class="language-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find_sequences</span><span class="hljs-params">(nums)</span>:</span>
    num_set = set(nums)
    max_length = <span class="hljs-number">0</span>
    
    <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> num_set:
        <span class="hljs-keyword">if</span> num - <span class="hljs-number">1</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> num_set:  <span class="hljs-comment"># Start of sequence</span>
            current = num
            current_length = <span class="hljs-number">1</span>
            
            <span class="hljs-keyword">while</span> current + <span class="hljs-number">1</span> <span class="hljs-keyword">in</span> num_set:
                current += <span class="hljs-number">1</span>
                current_length += <span class="hljs-number">1</span>
            
            max_length = max(max_length, current_length)
    
    <span class="hljs-keyword">return</span> max_length
</code></pre>
<h2 class="code-line" data-line-start=968 data-line-end=969 ><a id="Additional_Optimization_Guidelines_968"></a>Additional Optimization Guidelines</h2>
<ol start="4">
<li class="has-line-data" data-line-start="970" data-line-end="976">
<p class="has-line-data" data-line-start="970" data-line-end="971">Range-Based Optimizations:</p>
<ul>
<li class="has-line-data" data-line-start="971" data-line-end="972">Use difference array for range updates</li>
<li class="has-line-data" data-line-start="972" data-line-end="973">Lazy propagation when applicable</li>
<li class="has-line-data" data-line-start="973" data-line-end="974">Batch updates when possible</li>
<li class="has-line-data" data-line-start="974" data-line-end="976">Consider segment tree for frequent queries</li>
</ul>
</li>
<li class="has-line-data" data-line-start="976" data-line-end="982">
<p class="has-line-data" data-line-start="976" data-line-end="977">Multi-Dimensional Optimizations:</p>
<ul>
<li class="has-line-data" data-line-start="977" data-line-end="978">Pre-sort dimensions when possible</li>
<li class="has-line-data" data-line-start="978" data-line-end="979">Use appropriate comparison functions</li>
<li class="has-line-data" data-line-start="979" data-line-end="980">Cache computed values</li>
<li class="has-line-data" data-line-start="980" data-line-end="982">Consider space-time tradeoffs</li>
</ul>
</li>
<li class="has-line-data" data-line-start="982" data-line-end="988">
<p class="has-line-data" data-line-start="982" data-line-end="983">Sequence Detection Optimizations:</p>
<ul>
<li class="has-line-data" data-line-start="983" data-line-end="984">Use set for O(1) lookups</li>
<li class="has-line-data" data-line-start="984" data-line-end="985">Skip processed elements</li>
<li class="has-line-data" data-line-start="985" data-line-end="986">Early termination conditions</li>
<li class="has-line-data" data-line-start="986" data-line-end="988">Consider memory vs speed tradeoffs</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=988 data-line-end=989 ><a id="Common_Advanced_Pitfalls_988"></a>Common Advanced Pitfalls</h2>
<ol>
<li class="has-line-data" data-line-start="989" data-line-end="990">Not handling negative numbers in range calculations</li>
<li class="has-line-data" data-line-start="990" data-line-end="991">Incorrect handling of floating-point comparisons</li>
<li class="has-line-data" data-line-start="991" data-line-end="992">Missing edge cases in multi-dimensional sorting</li>
<li class="has-line-data" data-line-start="992" data-line-end="993">Inefficient sequence scanning</li>
<li class="has-line-data" data-line-start="993" data-line-end="994">Memory issues with large input ranges</li>
</ol>
<h2 class="code-line" data-line-start=996 data-line-end=997 ><a id="Pattern_5_Meet_in_the_Middle_Pattern_996"></a>Pattern 5: Meet in the Middle Pattern</h2>
<h3 class="code-line" data-line-start=998 data-line-end=999 ><a id="Basic_Subset_Division_998"></a>Basic Subset Division</h3>
<ol>
<li class="has-line-data" data-line-start="999" data-line-end="1006">
<p class="has-line-data" data-line-start="999" data-line-end="1000">Partition Equal Subset Sum</p>
<ul>
<li class="has-line-data" data-line-start="1000" data-line-end="1001"><a href="https://leetcode.com/problems/partition-equal-subset-sum/">LeetCode: 416 - Partition Equal Subset Sum</a> </li>
<li class="has-line-data" data-line-start="1001" data-line-end="1002">Base Pattern: Single split meet-in-middle</li>
<li class="has-line-data" data-line-start="1002" data-line-end="1003">Key Operation: <code>subsets1[sum1] = True</code></li>
<li class="has-line-data" data-line-start="1003" data-line-end="1004">Common Error: Not handling empty subset</li>
<li class="has-line-data" data-line-start="1004" data-line-end="1006">Optimization: Early termination checks</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1006" data-line-end="1013">
<p class="has-line-data" data-line-start="1006" data-line-end="1007">Partition Array Into Two Arrays</p>
<ul>
<li class="has-line-data" data-line-start="1007" data-line-end="1008"><a href="https://leetcode.com/problems/partition-array-into-two-arrays-to-minimize-sum-difference/">LeetCode: 2035 - Partition Array Into Two Arrays to Minimize Sum Difference</a> </li>
<li class="has-line-data" data-line-start="1008" data-line-end="1009">Builds on #1: Size-constrained splits</li>
<li class="has-line-data" data-line-start="1009" data-line-end="1010">Key Difference: Equal size requirement</li>
<li class="has-line-data" data-line-start="1010" data-line-end="1011">Common Error: Missing size validation</li>
<li class="has-line-data" data-line-start="1011" data-line-end="1013">Optimization: Binary search on sorted halves</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1013" data-line-end="1020">
<p class="has-line-data" data-line-start="1013" data-line-end="1014">Partition to K Equal Sum Subsets</p>
<ul>
<li class="has-line-data" data-line-start="1014" data-line-end="1015"><a href="https://leetcode.com/problems/partition-to-k-equal-sum-subsets/">LeetCode: 698 - Partition to K Equal Sum Subsets</a> </li>
<li class="has-line-data" data-line-start="1015" data-line-end="1016">Builds on #2: Multi-way partitioning</li>
<li class="has-line-data" data-line-start="1016" data-line-end="1017">Key Difference: K-way split tracking</li>
<li class="has-line-data" data-line-start="1017" data-line-end="1018">Common Error: Wrong backtracking state</li>
<li class="has-line-data" data-line-start="1018" data-line-end="1020">Optimization: Sort elements descending</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1020" data-line-end="1027">
<p class="has-line-data" data-line-start="1020" data-line-end="1021">Split Array With Same Average</p>
<ul>
<li class="has-line-data" data-line-start="1021" data-line-end="1022"><a href="https://leetcode.com/problems/split-array-with-same-average/">LeetCode: 805 - Split Array With Same Average</a> </li>
<li class="has-line-data" data-line-start="1022" data-line-end="1023">Builds on #3: Average-based splitting</li>
<li class="has-line-data" data-line-start="1023" data-line-end="1024">Key Difference: Floating point comparison</li>
<li class="has-line-data" data-line-start="1024" data-line-end="1025">Common Error: Precision errors</li>
<li class="has-line-data" data-line-start="1025" data-line-end="1027">Optimization: Use scaled integers</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1027 data-line-end=1028 ><a id="Sumbased_Division_1027"></a>Sum-based Division</h3>
<ol start="5">
<li class="has-line-data" data-line-start="1028" data-line-end="1035">
<p class="has-line-data" data-line-start="1028" data-line-end="1029">Closest Subsequence Sum</p>
<ul>
<li class="has-line-data" data-line-start="1029" data-line-end="1030"><a href="https://leetcode.com/problems/closest-subsequence-sum/">LeetCode: 1755 - Closest Subsequence Sum</a> </li>
<li class="has-line-data" data-line-start="1030" data-line-end="1031">Base Pattern: Two-way subset sums</li>
<li class="has-line-data" data-line-start="1031" data-line-end="1032">Key Operation: <code>binary_search(sums2, target - sum1)</code></li>
<li class="has-line-data" data-line-start="1032" data-line-end="1033">Common Error: Not handling duplicates</li>
<li class="has-line-data" data-line-start="1033" data-line-end="1035">Optimization: Sort and binary search</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1035" data-line-end="1042">
<p class="has-line-data" data-line-start="1035" data-line-end="1036">Find Minimum Time to Finish All Jobs</p>
<ul>
<li class="has-line-data" data-line-start="1036" data-line-end="1037"><a href="https://leetcode.com/problems/find-minimum-time-to-finish-all-jobs/">LeetCode: 1723 - Find Minimum Time to Finish All Jobs</a> </li>
<li class="has-line-data" data-line-start="1037" data-line-end="1038">Builds on #5: Worker assignment</li>
<li class="has-line-data" data-line-start="1038" data-line-end="1039">Key Difference: Load balancing</li>
<li class="has-line-data" data-line-start="1039" data-line-end="1040">Common Error: Inefficient pruning</li>
<li class="has-line-data" data-line-start="1040" data-line-end="1042">Optimization: State compression</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1042" data-line-end="1049">
<p class="has-line-data" data-line-start="1042" data-line-end="1043">Ways to Split Array Into Three Subarrays</p>
<ul>
<li class="has-line-data" data-line-start="1043" data-line-end="1044"><a href="https://leetcode.com/problems/ways-to-split-array-into-three-subarrays/">LeetCode: 1712 - Ways to Split Array Into Three Subarrays</a> </li>
<li class="has-line-data" data-line-start="1044" data-line-end="1045">Builds on #6: Three-way splitting</li>
<li class="has-line-data" data-line-start="1045" data-line-end="1046">Key Difference: Prefix sum usage</li>
<li class="has-line-data" data-line-start="1046" data-line-end="1047">Common Error: Boundary conditions</li>
<li class="has-line-data" data-line-start="1047" data-line-end="1049">Optimization: Two pointers approach</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1049" data-line-end="1056">
<p class="has-line-data" data-line-start="1049" data-line-end="1050">Find Array Given Subset Sums</p>
<ul>
<li class="has-line-data" data-line-start="1050" data-line-end="1051"><a href="https://leetcode.com/problems/find-array-given-subset-sums/">LeetCode: 1982 - Find Array Given Subset Sums</a> </li>
<li class="has-line-data" data-line-start="1051" data-line-end="1052">Builds on #7: Reconstruction problem</li>
<li class="has-line-data" data-line-start="1052" data-line-end="1053">Key Difference: Backward building</li>
<li class="has-line-data" data-line-start="1053" data-line-end="1054">Common Error: Wrong subset ordering</li>
<li class="has-line-data" data-line-start="1054" data-line-end="1056">Optimization: Sort and deduce</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1056 data-line-end=1057 ><a id="Productbased_Division_1056"></a>Product-based Division</h3>
<ol start="9">
<li class="has-line-data" data-line-start="1057" data-line-end="1064">
<p class="has-line-data" data-line-start="1057" data-line-end="1058">Maximum Product of the Length of Two Palindromic Subsequences</p>
<ul>
<li class="has-line-data" data-line-start="1058" data-line-end="1059"><a href="https://leetcode.com/problems/maximum-product-of-the-length-of-two-palindromic-subsequences/">LeetCode: 2002 - Maximum Product of the Length of Two Palindromic Subsequences</a> </li>
<li class="has-line-data" data-line-start="1059" data-line-end="1060">Base Pattern: Product optimization</li>
<li class="has-line-data" data-line-start="1060" data-line-end="1061">Key Operation: <code>max_product = max(len1 * len2)</code></li>
<li class="has-line-data" data-line-start="1061" data-line-end="1062">Common Error: Overlapping elements</li>
<li class="has-line-data" data-line-start="1062" data-line-end="1064">Optimization: Precompute palindromes</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1064" data-line-end="1071">
<p class="has-line-data" data-line-start="1064" data-line-end="1065">Maximum Score Words Formed by Letters</p>
<ul>
<li class="has-line-data" data-line-start="1065" data-line-end="1066"><a href="https://leetcode.com/problems/maximum-score-words-formed-by-letters/">LeetCode: 1255 - Maximum Score Words Formed by Letters</a> </li>
<li class="has-line-data" data-line-start="1066" data-line-end="1067">Builds on #9: Resource constrained</li>
<li class="has-line-data" data-line-start="1067" data-line-end="1068">Key Difference: Letter frequency limit</li>
<li class="has-line-data" data-line-start="1068" data-line-end="1069">Common Error: Resource counting</li>
<li class="has-line-data" data-line-start="1069" data-line-end="1071">Optimization: Precompute word scores</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1071" data-line-end="1078">
<p class="has-line-data" data-line-start="1071" data-line-end="1072">Find the K-Sum of an Array</p>
<ul>
<li class="has-line-data" data-line-start="1072" data-line-end="1073"><a href="https://leetcode.com/problems/find-the-k-sum-of-an-array/">LeetCode: 2386 - Find the K-Sum of an Array</a> </li>
<li class="has-line-data" data-line-start="1073" data-line-end="1074">Builds on #10: K-based optimization</li>
<li class="has-line-data" data-line-start="1074" data-line-end="1075">Key Difference: Heap-based tracking</li>
<li class="has-line-data" data-line-start="1075" data-line-end="1076">Common Error: Sum overflow</li>
<li class="has-line-data" data-line-start="1076" data-line-end="1078">Optimization: Priority queue</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1078" data-line-end="1085">
<p class="has-line-data" data-line-start="1078" data-line-end="1079">Maximize Score After N Operations</p>
<ul>
<li class="has-line-data" data-line-start="1079" data-line-end="1080"><a href="https://leetcode.com/problems/maximize-score-after-n-operations/">LeetCode: 1799 - Maximize Score After N Operations</a> </li>
<li class="has-line-data" data-line-start="1080" data-line-end="1081">Builds on #11: Pair-based operations</li>
<li class="has-line-data" data-line-start="1081" data-line-end="1082">Key Difference: GCD calculations</li>
<li class="has-line-data" data-line-start="1082" data-line-end="1083">Common Error: State representation</li>
<li class="has-line-data" data-line-start="1083" data-line-end="1085">Optimization: Precompute GCD</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1085 data-line-end=1086 ><a id="GCDbased_Division_1085"></a>GCD-based Division</h3>
<ol start="13">
<li class="has-line-data" data-line-start="1086" data-line-end="1093">
<p class="has-line-data" data-line-start="1086" data-line-end="1087">Find XOR Sum of All Pairs Bitwise AND</p>
<ul>
<li class="has-line-data" data-line-start="1087" data-line-end="1088"><a href="https://leetcode.com/problems/find-xor-sum-of-all-pairs-bitwise-and/">LeetCode: 1835 - Find XOR Sum of All Pairs Bitwise AND</a> </li>
<li class="has-line-data" data-line-start="1088" data-line-end="1089">Base Pattern: Bit manipulation splitting</li>
<li class="has-line-data" data-line-start="1089" data-line-end="1090">Key Operation: <code>result ^= (sum1 &amp; sum2)</code></li>
<li class="has-line-data" data-line-start="1090" data-line-end="1091">Common Error: Order of operations</li>
<li class="has-line-data" data-line-start="1091" data-line-end="1093">Optimization: Bit-by-bit processing</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1093" data-line-end="1100">
<p class="has-line-data" data-line-start="1093" data-line-end="1094">Count of Sub-Multisets With Bounded Sum</p>
<ul>
<li class="has-line-data" data-line-start="1094" data-line-end="1095"><a href="https://leetcode.com/problems/count-of-sub-multisets-with-bounded-sum/">LeetCode: 2902 - Count of Sub-Multisets With Bounded Sum</a> </li>
<li class="has-line-data" data-line-start="1095" data-line-end="1096">Builds on #13: Multi-occurrence elements</li>
<li class="has-line-data" data-line-start="1096" data-line-end="1097">Key Difference: Frequency handling</li>
<li class="has-line-data" data-line-start="1097" data-line-end="1098">Common Error: Modulo arithmetic</li>
<li class="has-line-data" data-line-start="1098" data-line-end="1100">Optimization: Rolling DP array</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1100" data-line-end="1107">
<p class="has-line-data" data-line-start="1100" data-line-end="1101">Minimum Cost to Change Final Value of Expression</p>
<ul>
<li class="has-line-data" data-line-start="1101" data-line-end="1102"><a href="https://leetcode.com/problems/minimum-cost-to-change-final-value-of-expression/">LeetCode: 2019 - Minimum Cost to Change Final Value of Expression</a> </li>
<li class="has-line-data" data-line-start="1102" data-line-end="1103">Builds on #14: Expression evaluation</li>
<li class="has-line-data" data-line-start="1103" data-line-end="1104">Key Difference: Cost calculation</li>
<li class="has-line-data" data-line-start="1104" data-line-end="1105">Common Error: Parentheses matching</li>
<li class="has-line-data" data-line-start="1105" data-line-end="1107">Optimization: Stack-based parsing</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1107" data-line-end="1114">
<p class="has-line-data" data-line-start="1107" data-line-end="1108">Count Array Pairs Divisible by K</p>
<ul>
<li class="has-line-data" data-line-start="1108" data-line-end="1109"><a href="https://leetcode.com/problems/count-array-pairs-divisible-by-k/">LeetCode: 2183 - Count Array Pairs Divisible by K</a> </li>
<li class="has-line-data" data-line-start="1109" data-line-end="1110">Builds on #15: GCD properties</li>
<li class="has-line-data" data-line-start="1110" data-line-end="1111">Key Difference: Divisibility check</li>
<li class="has-line-data" data-line-start="1111" data-line-end="1112">Common Error: GCD calculation</li>
<li class="has-line-data" data-line-start="1112" data-line-end="1114">Optimization: Factor map</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1114 data-line-end=1115 ><a id="Advanced_Reconstruction_1114"></a>Advanced Reconstruction</h3>
<ol start="17">
<li class="has-line-data" data-line-start="1115" data-line-end="1122">
<p class="has-line-data" data-line-start="1115" data-line-end="1116">Check if String Can Break Another String</p>
<ul>
<li class="has-line-data" data-line-start="1116" data-line-end="1117"><a href="https://leetcode.com/problems/check-if-string-can-break-another-string/">LeetCode: 1433 - Check if String Can Break Another String</a> </li>
<li class="has-line-data" data-line-start="1117" data-line-end="1118">Base Pattern: Character rearrangement</li>
<li class="has-line-data" data-line-start="1118" data-line-end="1119">Key Operation: <code>all(s1[i] &gt;= s2[i] for i in range(n))</code></li>
<li class="has-line-data" data-line-start="1119" data-line-end="1120">Common Error: Wrong comparison order</li>
<li class="has-line-data" data-line-start="1120" data-line-end="1122">Optimization: Count sort</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1122" data-line-end="1129">
<p class="has-line-data" data-line-start="1122" data-line-end="1123">Maximum Number of Eaten Apples</p>
<ul>
<li class="has-line-data" data-line-start="1123" data-line-end="1124"><a href="https://leetcode.com/problems/maximum-number-of-eaten-apples/">LeetCode: 1705 - Maximum Number of Eaten Apples</a> </li>
<li class="has-line-data" data-line-start="1124" data-line-end="1125">Builds on #17: Timeline reconstruction</li>
<li class="has-line-data" data-line-start="1125" data-line-end="1126">Key Difference: Expiration tracking</li>
<li class="has-line-data" data-line-start="1126" data-line-end="1127">Common Error: Priority management</li>
<li class="has-line-data" data-line-start="1127" data-line-end="1129">Optimization: Heap cleanup</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1129" data-line-end="1136">
<p class="has-line-data" data-line-start="1129" data-line-end="1130">Maximum Value After Insertion</p>
<ul>
<li class="has-line-data" data-line-start="1130" data-line-end="1131"><a href="https://leetcode.com/problems/maximum-value-after-insertion/">LeetCode: 1881 - Maximum Value After Insertion</a> </li>
<li class="has-line-data" data-line-start="1131" data-line-end="1132">Builds on #18: Optimal insertion</li>
<li class="has-line-data" data-line-start="1132" data-line-end="1133">Key Difference: Sign handling</li>
<li class="has-line-data" data-line-start="1133" data-line-end="1134">Common Error: Leading zeros</li>
<li class="has-line-data" data-line-start="1134" data-line-end="1136">Optimization: Early termination</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1136" data-line-end="1143">
<p class="has-line-data" data-line-start="1136" data-line-end="1137">Maximum Number of Groups Getting Fresh Donuts</p>
<ul>
<li class="has-line-data" data-line-start="1137" data-line-end="1138"><a href="https://leetcode.com/problems/maximum-number-of-groups-getting-fresh-donuts/">LeetCode: 2136 - Maximum Number of Groups Getting Fresh Donuts</a> </li>
<li class="has-line-data" data-line-start="1138" data-line-end="1139">Builds on #19: Group optimization</li>
<li class="has-line-data" data-line-start="1139" data-line-end="1140">Key Difference: Modulo grouping</li>
<li class="has-line-data" data-line-start="1140" data-line-end="1141">Common Error: State encoding</li>
<li class="has-line-data" data-line-start="1141" data-line-end="1143">Optimization: State compression</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1143 data-line-end=1144 ><a id="Implementation_Guidelines_1143"></a>Implementation Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="1145" data-line-end="1146">Basic Meet-in-Middle Template:</li>
</ol>
<pre><code class="has-line-data" data-line-start="1147" data-line-end="1179" class="language-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">meet_in_middle</span><span class="hljs-params">(arr)</span>:</span>
    n = len(arr)
    mid = n // <span class="hljs-number">2</span>
    
    <span class="hljs-comment"># Generate subsets for first half</span>
    left_sums = generate_subsets(arr[:mid])
    right_sums = generate_subsets(arr[mid:])
    
    <span class="hljs-comment"># Process combinations</span>
    result = process_combinations(left_sums, right_sums)
    <span class="hljs-keyword">return</span> result

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">generate_subsets</span><span class="hljs-params">(arr)</span>:</span>
    n = len(arr)
    sums = []
    <span class="hljs-keyword">for</span> mask <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span> &lt;&lt; n):
        curr_sum = <span class="hljs-number">0</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(n):
            <span class="hljs-keyword">if</span> mask &amp; (<span class="hljs-number">1</span> &lt;&lt; i):
                curr_sum += arr[i]
        sums.append(curr_sum)
    <span class="hljs-keyword">return</span> sorted(sums)  <span class="hljs-comment"># Sort for binary search</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_combinations</span><span class="hljs-params">(left, right)</span>:</span>
    result = float(<span class="hljs-string">'inf'</span>)
    <span class="hljs-keyword">for</span> sum1 <span class="hljs-keyword">in</span> left:
        <span class="hljs-comment"># Binary search in right half</span>
        idx = binary_search(right, target - sum1)
        <span class="hljs-keyword">if</span> idx &gt;= <span class="hljs-number">0</span>:
            result = min(result, abs(target - (sum1 + right[idx])))
    <span class="hljs-keyword">return</span> result
</code></pre>
<ol start="2">
<li class="has-line-data" data-line-start="1180" data-line-end="1181">K-Way Split Template:</li>
</ol>
<pre><code class="has-line-data" data-line-start="1182" data-line-end="1205" class="language-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">k_way_split</span><span class="hljs-params">(arr, k)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">can_split</span><span class="hljs-params">(target)</span>:</span>
        groups = <span class="hljs-number">0</span>
        curr_sum = <span class="hljs-number">0</span>
        <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> arr:
            curr_sum += num
            <span class="hljs-keyword">if</span> curr_sum &gt; target:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">False</span>
            <span class="hljs-keyword">if</span> curr_sum == target:
                groups += <span class="hljs-number">1</span>
                curr_sum = <span class="hljs-number">0</span>
        <span class="hljs-keyword">return</span> groups &gt;= k

    left = max(arr)
    right = sum(arr)
    <span class="hljs-keyword">while</span> left &lt; right:
        mid = (left + right) // <span class="hljs-number">2</span>
        <span class="hljs-keyword">if</span> can_split(mid):
            right = mid
        <span class="hljs-keyword">else</span>:
            left = mid + <span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> left
</code></pre>
<ol start="3">
<li class="has-line-data" data-line-start="1206" data-line-end="1207">Product-based Division Template:</li>
</ol>
<pre><code class="has-line-data" data-line-start="1208" data-line-end="1228" class="language-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">max_product_division</span><span class="hljs-params">(arr)</span>:</span>
    n = len(arr)
    best = <span class="hljs-number">0</span>
    
    <span class="hljs-comment"># Try all possible divisions</span>
    <span class="hljs-keyword">for</span> mask <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span> &lt;&lt; n):
        set1 = []
        set2 = []
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(n):
            <span class="hljs-keyword">if</span> mask &amp; (<span class="hljs-number">1</span> &lt;&lt; i):
                set1.append(arr[i])
            <span class="hljs-keyword">else</span>:
                set2.append(arr[i])
        
        <span class="hljs-comment"># Check validity and update result</span>
        <span class="hljs-keyword">if</span> is_valid(set1) <span class="hljs-keyword">and</span> is_valid(set2):
            best = max(best, calculate_score(set1) * calculate_score(set2))
    
    <span class="hljs-keyword">return</span> best
</code></pre>
<h3 class="code-line" data-line-start=1229 data-line-end=1230 ><a id="Optimization_Guidelines_1229"></a>Optimization Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="1231" data-line-end="1238">
<p class="has-line-data" data-line-start="1231" data-line-end="1232">Meet-in-Middle Optimizations:</p>
<ul>
<li class="has-line-data" data-line-start="1232" data-line-end="1233">Use sorting + binary search for matching</li>
<li class="has-line-data" data-line-start="1233" data-line-end="1234">Hash tables for quick lookup</li>
<li class="has-line-data" data-line-start="1234" data-line-end="1235">Prune impossible combinations early</li>
<li class="has-line-data" data-line-start="1235" data-line-end="1236">Consider bit manipulation for subset generation</li>
<li class="has-line-data" data-line-start="1236" data-line-end="1238">Memory-time tradeoffs</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1238" data-line-end="1245">
<p class="has-line-data" data-line-start="1238" data-line-end="1239">K-Way Split Optimizations:</p>
<ul>
<li class="has-line-data" data-line-start="1239" data-line-end="1240">Sort input for better pruning</li>
<li class="has-line-data" data-line-start="1240" data-line-end="1241">Use prefix sums for range calculations</li>
<li class="has-line-data" data-line-start="1241" data-line-end="1242">Implement efficient state compression</li>
<li class="has-line-data" data-line-start="1242" data-line-end="1243">Consider greedy approaches when possible</li>
<li class="has-line-data" data-line-start="1243" data-line-end="1245">Cache intermediate results</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1245" data-line-end="1252">
<p class="has-line-data" data-line-start="1245" data-line-end="1246">Advanced Reconstruction:</p>
<ul>
<li class="has-line-data" data-line-start="1246" data-line-end="1247">Precompute expensive operations</li>
<li class="has-line-data" data-line-start="1247" data-line-end="1248">Use appropriate data structures (heap, tree)</li>
<li class="has-line-data" data-line-start="1248" data-line-end="1249">Consider problem-specific properties</li>
<li class="has-line-data" data-line-start="1249" data-line-end="1250">Implement early termination checks</li>
<li class="has-line-data" data-line-start="1250" data-line-end="1252">Use bit manipulation for states</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1252 data-line-end=1253 ><a id="Common_Pitfalls_1252"></a>Common Pitfalls</h3>
<ol>
<li class="has-line-data" data-line-start="1253" data-line-end="1254">Not handling edge cases (empty sets, single element)</li>
<li class="has-line-data" data-line-start="1254" data-line-end="1255">Integer overflow in calculations</li>
<li class="has-line-data" data-line-start="1255" data-line-end="1256">Wrong binary search implementation</li>
<li class="has-line-data" data-line-start="1256" data-line-end="1257">Memory limit exceeded in subset generation</li>
<li class="has-line-data" data-line-start="1257" data-line-end="1258">Incorrect pruning conditions</li>
</ol>
<h2 class="code-line" data-line-start=1260 data-line-end=1261 ><a id="Pattern_6_MOs_Algorithm_Pattern_1260"></a>Pattern 6: MOs Algorithm Pattern</h2>
<h3 class="code-line" data-line-start=1261 data-line-end=1262 ><a id="Basic_Range_Query_Operations_1261"></a>Basic Range Query Operations</h3>
<ol>
<li class="has-line-data" data-line-start="1262" data-line-end="1269">
<p class="has-line-data" data-line-start="1262" data-line-end="1263">Range Sum Query - Mutable</p>
<ul>
<li class="has-line-data" data-line-start="1263" data-line-end="1264"><a href="https://leetcode.com/problems/range-sum-query-mutable/">LeetCode: 307 - Range Sum Query - Mutable</a> </li>
<li class="has-line-data" data-line-start="1264" data-line-end="1265">Base Pattern: Square root decomposition</li>
<li class="has-line-data" data-line-start="1265" data-line-end="1266">Key Operation: <code>blocks[block_id] += diff</code></li>
<li class="has-line-data" data-line-start="1266" data-line-end="1267">Common Error: Block size calculation</li>
<li class="has-line-data" data-line-start="1267" data-line-end="1269">Optimization: Lazy propagation</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1269" data-line-end="1276">
<p class="has-line-data" data-line-start="1269" data-line-end="1270">XOR Queries of a Subarray</p>
<ul>
<li class="has-line-data" data-line-start="1270" data-line-end="1271"><a href="https://leetcode.com/problems/xor-queries-of-a-subarray/">LeetCode: 1310 - XOR Queries of a Subarray</a> </li>
<li class="has-line-data" data-line-start="1271" data-line-end="1272">Builds on #1: XOR property usage</li>
<li class="has-line-data" data-line-start="1272" data-line-end="1273">Key Difference: XOR instead of sum</li>
<li class="has-line-data" data-line-start="1273" data-line-end="1274">Common Error: Prefix XOR handling</li>
<li class="has-line-data" data-line-start="1274" data-line-end="1276">Optimization: Pre-compute prefix XORs</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1276" data-line-end="1283">
<p class="has-line-data" data-line-start="1276" data-line-end="1277">Range GCD Queries</p>
<ul>
<li class="has-line-data" data-line-start="1277" data-line-end="1278"><a href="https://practice.geeksforgeeks.org/problems/range-gcd-queries/1">GeeksForGeeks: Range GCD Queries</a> </li>
<li class="has-line-data" data-line-start="1278" data-line-end="1279">Builds on #2: GCD property</li>
<li class="has-line-data" data-line-start="1279" data-line-end="1280">Key Difference: Segment merging logic</li>
<li class="has-line-data" data-line-start="1280" data-line-end="1281">Common Error: Empty range GCD</li>
<li class="has-line-data" data-line-start="1281" data-line-end="1283">Optimization: Sparse table possible</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1283" data-line-end="1290">
<p class="has-line-data" data-line-start="1283" data-line-end="1284">Range LCM Queries</p>
<ul>
<li class="has-line-data" data-line-start="1284" data-line-end="1285"><a href="https://practice.geeksforgeeks.org/problems/range-lcm-queries/1">GeeksForGeeks: Range LCM Queries</a> </li>
<li class="has-line-data" data-line-start="1285" data-line-end="1286">Builds on #3: LCM computation</li>
<li class="has-line-data" data-line-start="1286" data-line-end="1287">Key Difference: Overflow handling</li>
<li class="has-line-data" data-line-start="1287" data-line-end="1288">Common Error: GCD-LCM relationship</li>
<li class="has-line-data" data-line-start="1288" data-line-end="1290">Optimization: Prime factorization</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1290 data-line-end=1291 ><a id="FrequencyBased_Queries_1290"></a>Frequency-Based Queries</h3>
<ol start="5">
<li class="has-line-data" data-line-start="1291" data-line-end="1298">
<p class="has-line-data" data-line-start="1291" data-line-end="1292">Number of Distinct Elements</p>
<ul>
<li class="has-line-data" data-line-start="1292" data-line-end="1293"><a href="https://leetcode.com/problems/count-number-of-distinct-integers-after-reverse-operations/">LeetCode: 2442 - Count Number of Distinct Integers</a> </li>
<li class="has-line-data" data-line-start="1293" data-line-end="1294">Base Pattern: Window distinct counting</li>
<li class="has-line-data" data-line-start="1294" data-line-end="1295">Key Operation: <code>frequency[num] += 1</code></li>
<li class="has-line-data" data-line-start="1295" data-line-end="1296">Common Error: Add/remove window updates</li>
<li class="has-line-data" data-line-start="1296" data-line-end="1298">Optimization: Rolling hash</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1298" data-line-end="1305">
<p class="has-line-data" data-line-start="1298" data-line-end="1299">Range Mode Query</p>
<ul>
<li class="has-line-data" data-line-start="1299" data-line-end="1300"><a href="https://practice.geeksforgeeks.org/problems/mode-in-range/1">GeeksForGeeks: Mode in Range</a> </li>
<li class="has-line-data" data-line-start="1300" data-line-end="1301">Builds on #5: Frequency tracking</li>
<li class="has-line-data" data-line-start="1301" data-line-end="1302">Key Difference: Maximum frequency maintenance</li>
<li class="has-line-data" data-line-start="1302" data-line-end="1303">Common Error: Multiple modes</li>
<li class="has-line-data" data-line-start="1303" data-line-end="1305">Optimization: Frequency table reuse</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1305" data-line-end="1312">
<p class="has-line-data" data-line-start="1305" data-line-end="1306">K-Frequent Elements Query</p>
<ul>
<li class="has-line-data" data-line-start="1306" data-line-end="1307"><a href="https://leetcode.com/problems/top-k-frequent-elements/">LeetCode: 347 - Top K Frequent Elements</a> </li>
<li class="has-line-data" data-line-start="1307" data-line-end="1308">Builds on #6: K-elements extension</li>
<li class="has-line-data" data-line-start="1308" data-line-end="1309">Key Difference: Priority queue usage</li>
<li class="has-line-data" data-line-start="1309" data-line-end="1310">Common Error: Frequency collisions</li>
<li class="has-line-data" data-line-start="1310" data-line-end="1312">Optimization: Bucket sort approach</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1312" data-line-end="1319">
<p class="has-line-data" data-line-start="1312" data-line-end="1313">Range Distinct Pairs</p>
<ul>
<li class="has-line-data" data-line-start="1313" data-line-end="1314"><a href="https://practice.geeksforgeeks.org/problems/count-distinct-pairs/1">GeeksForGeeks: Count Distinct Pairs</a> </li>
<li class="has-line-data" data-line-start="1314" data-line-end="1315">Builds on #7: Pair counting</li>
<li class="has-line-data" data-line-start="1315" data-line-end="1316">Key Difference: Two-element combinations</li>
<li class="has-line-data" data-line-start="1316" data-line-end="1317">Common Error: Double counting</li>
<li class="has-line-data" data-line-start="1317" data-line-end="1319">Optimization: Hash table for pairs</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1319 data-line-end=1320 ><a id="Update_Operations_1319"></a>Update Operations</h3>
<ol start="9">
<li class="has-line-data" data-line-start="1320" data-line-end="1327">
<p class="has-line-data" data-line-start="1320" data-line-end="1321">Range Product Updates</p>
<ul>
<li class="has-line-data" data-line-start="1321" data-line-end="1322"><a href="https://practice.geeksforgeeks.org/problems/product-array-puzzle4525/1">GeeksForGeeks: Product Array Puzzle</a> </li>
<li class="has-line-data" data-line-start="1322" data-line-end="1323">Base Pattern: Range multiplication</li>
<li class="has-line-data" data-line-start="1323" data-line-end="1324">Key Operation: <code>blocks[block_id] *= val</code></li>
<li class="has-line-data" data-line-start="1324" data-line-end="1325">Common Error: Overflow in products</li>
<li class="has-line-data" data-line-start="1325" data-line-end="1327">Optimization: Logarithmic space</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1327" data-line-end="1334">
<p class="has-line-data" data-line-start="1327" data-line-end="1328">Range XOR Updates</p>
<ul>
<li class="has-line-data" data-line-start="1328" data-line-end="1329"><a href="https://practice.geeksforgeeks.org/problems/xor-operation/1">GeeksForGeeks: XOR Operation</a> </li>
<li class="has-line-data" data-line-start="1329" data-line-end="1330">Builds on #9: XOR update rules</li>
<li class="has-line-data" data-line-start="1330" data-line-end="1331">Key Difference: XOR properties</li>
<li class="has-line-data" data-line-start="1331" data-line-end="1332">Common Error: Multiple XOR applications</li>
<li class="has-line-data" data-line-start="1332" data-line-end="1334">Optimization: Bit manipulation</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1334" data-line-end="1341">
<p class="has-line-data" data-line-start="1334" data-line-end="1335">Range AND Updates</p>
<ul>
<li class="has-line-data" data-line-start="1335" data-line-end="1336"><a href="https://www.hackerearth.com/practice/data-structures/advanced-data-structures/segment-trees/practice-problems/algorithm/and-queries-3/">HackerEarth: AND Queries</a> </li>
<li class="has-line-data" data-line-start="1336" data-line-end="1337">Builds on #10: AND operation rules</li>
<li class="has-line-data" data-line-start="1337" data-line-end="1338">Key Difference: Bit masking</li>
<li class="has-line-data" data-line-start="1338" data-line-end="1339">Common Error: Lazy propagation</li>
<li class="has-line-data" data-line-start="1339" data-line-end="1341">Optimization: Bit-level updates</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1341" data-line-end="1348">
<p class="has-line-data" data-line-start="1341" data-line-end="1342">Range OR Updates</p>
<ul>
<li class="has-line-data" data-line-start="1342" data-line-end="1343"><a href="https://www.hackerearth.com/practice/data-structures/advanced-data-structures/segment-trees/practice-problems/algorithm/or-queries/">HackerEarth: OR Queries</a> </li>
<li class="has-line-data" data-line-start="1343" data-line-end="1344">Builds on #11: OR operation rules</li>
<li class="has-line-data" data-line-start="1344" data-line-end="1345">Key Difference: Bit merging</li>
<li class="has-line-data" data-line-start="1345" data-line-end="1346">Common Error: Update order</li>
<li class="has-line-data" data-line-start="1346" data-line-end="1348">Optimization: Segment merging</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1348 data-line-end=1349 ><a id="Advanced_Range_Operations_1348"></a>Advanced Range Operations</h3>
<ol start="13">
<li class="has-line-data" data-line-start="1349" data-line-end="1356">
<p class="has-line-data" data-line-start="1349" data-line-end="1350">Count of Range Sum</p>
<ul>
<li class="has-line-data" data-line-start="1350" data-line-end="1351"><a href="https://leetcode.com/problems/count-of-range-sum/">LeetCode: 327 - Count of Range Sum</a> </li>
<li class="has-line-data" data-line-start="1351" data-line-end="1352">Base Pattern: Prefix sum ranges</li>
<li class="has-line-data" data-line-start="1352" data-line-end="1353">Key Operation: <code>count += right_sum - left_sum</code></li>
<li class="has-line-data" data-line-start="1353" data-line-end="1354">Common Error: Overflow in sums</li>
<li class="has-line-data" data-line-start="1354" data-line-end="1356">Optimization: Merge sort approach</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1356" data-line-end="1363">
<p class="has-line-data" data-line-start="1356" data-line-end="1357">Range Sum Frequency</p>
<ul>
<li class="has-line-data" data-line-start="1357" data-line-end="1358"><a href="https://practice.geeksforgeeks.org/problems/frequency-of-array-elements-1587115620/1">GeeksForGeeks: Frequencies of Limited Range Array Elements</a> </li>
<li class="has-line-data" data-line-start="1358" data-line-end="1359">Builds on #13: Frequency counting</li>
<li class="has-line-data" data-line-start="1359" data-line-end="1360">Key Difference: Range-based frequency</li>
<li class="has-line-data" data-line-start="1360" data-line-end="1361">Common Error: Index mapping</li>
<li class="has-line-data" data-line-start="1361" data-line-end="1363">Optimization: Block compression</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1363" data-line-end="1370">
<p class="has-line-data" data-line-start="1363" data-line-end="1364">Range Product Count</p>
<ul>
<li class="has-line-data" data-line-start="1364" data-line-end="1365"><a href="https://www.hackerearth.com/practice/data-structures/advanced-data-structures/segment-trees/practice-problems/algorithm/product-in-range-7/">HackerEarth: Product in Range</a> </li>
<li class="has-line-data" data-line-start="1365" data-line-end="1366">Builds on #14: Product tracking</li>
<li class="has-line-data" data-line-start="1366" data-line-end="1367">Key Difference: Modular arithmetic</li>
<li class="has-line-data" data-line-start="1367" data-line-end="1368">Common Error: Zero handling</li>
<li class="has-line-data" data-line-start="1368" data-line-end="1370">Optimization: Prime factorization</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1370" data-line-end="1377">
<p class="has-line-data" data-line-start="1370" data-line-end="1371">Range GCD Count</p>
<ul>
<li class="has-line-data" data-line-start="1371" data-line-end="1372"><a href="https://practice.geeksforgeeks.org/problems/gcd-in-range/1">GeeksForGeeks: GCD in Range</a> </li>
<li class="has-line-data" data-line-start="1372" data-line-end="1373">Builds on #15: GCD frequency</li>
<li class="has-line-data" data-line-start="1373" data-line-end="1374">Key Difference: Factor counting</li>
<li class="has-line-data" data-line-start="1374" data-line-end="1375">Common Error: Prime factorization</li>
<li class="has-line-data" data-line-start="1375" data-line-end="1377">Optimization: Sieve preprocessing</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1377 data-line-end=1378 ><a id="Special_Range_Operations_1377"></a>Special Range Operations</h3>
<ol start="17">
<li class="has-line-data" data-line-start="1378" data-line-end="1385">
<p class="has-line-data" data-line-start="1378" data-line-end="1379">Range Median Query</p>
<ul>
<li class="has-line-data" data-line-start="1379" data-line-end="1380"><a href="https://practice.geeksforgeeks.org/problems/find-the-median0527/1">GeeksForGeeks: Find the Median</a> </li>
<li class="has-line-data" data-line-start="1380" data-line-end="1381">Base Pattern: Order statistics</li>
<li class="has-line-data" data-line-start="1381" data-line-end="1382">Key Operation: <code>quick_select(k)</code></li>
<li class="has-line-data" data-line-start="1382" data-line-end="1383">Common Error: Partition strategy</li>
<li class="has-line-data" data-line-start="1383" data-line-end="1385">Optimization: Weighted medians</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1385" data-line-end="1392">
<p class="has-line-data" data-line-start="1385" data-line-end="1386">Range OR Queries</p>
<ul>
<li class="has-line-data" data-line-start="1386" data-line-end="1387"><a href="https://practice.geeksforgeeks.org/problems/range-or-queries/1">GeeksForGeeks: Range OR Queries</a> </li>
<li class="has-line-data" data-line-start="1387" data-line-end="1388">Builds on #17: Bitwise operations</li>
<li class="has-line-data" data-line-start="1388" data-line-end="1389">Key Difference: OR optimizations</li>
<li class="has-line-data" data-line-start="1389" data-line-end="1390">Common Error: Bit propagation</li>
<li class="has-line-data" data-line-start="1390" data-line-end="1392">Optimization: Bit parallelism</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1392" data-line-end="1399">
<p class="has-line-data" data-line-start="1392" data-line-end="1393">Range AND Queries</p>
<ul>
<li class="has-line-data" data-line-start="1393" data-line-end="1394"><a href="https://practice.geeksforgeeks.org/problems/range-and-queries/1">GeeksForGeeks: Range AND Queries</a> </li>
<li class="has-line-data" data-line-start="1394" data-line-end="1395">Builds on #18: AND properties</li>
<li class="has-line-data" data-line-start="1395" data-line-end="1396">Key Difference: AND optimizations</li>
<li class="has-line-data" data-line-start="1396" data-line-end="1397">Common Error: Neutral elements</li>
<li class="has-line-data" data-line-start="1397" data-line-end="1399">Optimization: Sparse table</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1399" data-line-end="1406">
<p class="has-line-data" data-line-start="1399" data-line-end="1400">Range LCM Count</p>
<ul>
<li class="has-line-data" data-line-start="1400" data-line-end="1401"><a href="https://practice.geeksforgeeks.org/problems/lcm-in-range/1">GeeksForGeeks: LCM in Range</a> </li>
<li class="has-line-data" data-line-start="1401" data-line-end="1402">Builds on #19: LCM properties</li>
<li class="has-line-data" data-line-start="1402" data-line-end="1403">Key Difference: Prime power counting</li>
<li class="has-line-data" data-line-start="1403" data-line-end="1404">Common Error: GCD relationship</li>
<li class="has-line-data" data-line-start="1404" data-line-end="1406">Optimization: Factor memoization</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1406 data-line-end=1407 ><a id="Implementation_Templates_1406"></a>Implementation Templates</h3>
<ol>
<li class="has-line-data" data-line-start="1408" data-line-end="1409">Basic MOs Algorithm Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="1410" data-line-end="1454" class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MOQuery</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, left, right, index)</span>:</span>
        self.left = left
        self.right = right
        self.index = index

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MOSolver</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, arr)</span>:</span>
        self.arr = arr
        self.n = len(arr)
        self.block_size = int(math.sqrt(self.n))
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">compare_queries</span><span class="hljs-params">(self, q1, q2)</span>:</span>
        <span class="hljs-keyword">if</span> q1.left // self.block_size != q2.left // self.block_size:
            <span class="hljs-keyword">return</span> q1.left // self.block_size - q2.left // self.block_size
        <span class="hljs-keyword">return</span> q1.right - q2.right
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_queries</span><span class="hljs-params">(self, queries)</span>:</span>
        <span class="hljs-comment"># Sort queries by block and right endpoint</span>
        queries.sort(key=functools.cmp_to_key(self.compare_queries))
        
        results = [<span class="hljs-number">0</span>] * len(queries)
        curr_l, curr_r = <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>
        curr_answer = <span class="hljs-number">0</span>
        
        <span class="hljs-keyword">for</span> q <span class="hljs-keyword">in</span> queries:
            <span class="hljs-comment"># Add/remove elements to match current query range</span>
            <span class="hljs-keyword">while</span> curr_l &gt; q.left:
                curr_l -= <span class="hljs-number">1</span>
                self.add(curr_l)
            <span class="hljs-keyword">while</span> curr_r &lt; q.right:
                curr_r += <span class="hljs-number">1</span>
                self.add(curr_r)
            <span class="hljs-keyword">while</span> curr_l &lt; q.left:
                self.remove(curr_l)
                curr_l += <span class="hljs-number">1</span>
            <span class="hljs-keyword">while</span> curr_r &gt; q.right:
                self.remove(curr_r)
                curr_r -= <span class="hljs-number">1</span>
                
            results[q.index] = self.get_answer()
        
        <span class="hljs-keyword">return</span> results
</code></pre>
<ol start="2">
<li class="has-line-data" data-line-start="1455" data-line-end="1456">Range Update Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="1457" data-line-end="1480" class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RangeUpdateSolver</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, arr)</span>:</span>
        self.arr = arr
        self.n = len(arr)
        self.block_size = int(math.sqrt(self.n))
        self.blocks = [<span class="hljs-number">0</span>] * ((self.n + self.block_size - <span class="hljs-number">1</span>) // self.block_size)
        self.lazy = [<span class="hljs-number">0</span>] * len(self.blocks)
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_range</span><span class="hljs-params">(self, left, right, val)</span>:</span>
        left_block = left // self.block_size
        right_block = right // self.block_size
        
        <span class="hljs-keyword">if</span> left_block == right_block:
            self.update_single_block(left, right, val)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-comment"># Update partial blocks</span>
            self.update_single_block(left, (left_block + <span class="hljs-number">1</span>) * self.block_size - <span class="hljs-number">1</span>, val)
            self.update_single_block(right_block * self.block_size, right, val)
            
            <span class="hljs-comment"># Update complete blocks</span>
            <span class="hljs-keyword">for</span> block <span class="hljs-keyword">in</span> range(left_block + <span class="hljs-number">1</span>, right_block):
                self.lazy[block] += val
</code></pre>
<h3 class="code-line" data-line-start=1481 data-line-end=1482 ><a id="Optimization_Guidelines_1481"></a>Optimization Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="1483" data-line-end="1488">
<p class="has-line-data" data-line-start="1483" data-line-end="1484">Query Ordering:</p>
<ul>
<li class="has-line-data" data-line-start="1484" data-line-end="1485">Sort queries by block ID first</li>
<li class="has-line-data" data-line-start="1485" data-line-end="1486">Consider hilbert curve ordering for better cache performance</li>
<li class="has-line-data" data-line-start="1486" data-line-end="1488">Use different block sizes based on query distribution</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1488" data-line-end="1493">
<p class="has-line-data" data-line-start="1488" data-line-end="1489">Block Size Selection:</p>
<ul>
<li class="has-line-data" data-line-start="1489" data-line-end="1490">Default to sqrt(N) for balanced performance</li>
<li class="has-line-data" data-line-start="1490" data-line-end="1491">Adjust based on actual query patterns</li>
<li class="has-line-data" data-line-start="1491" data-line-end="1493">Consider different block sizes for updates vs queries</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1493" data-line-end="1498">
<p class="has-line-data" data-line-start="1493" data-line-end="1494">Memory Management:</p>
<ul>
<li class="has-line-data" data-line-start="1494" data-line-end="1495">Use sparse data structures for large ranges</li>
<li class="has-line-data" data-line-start="1495" data-line-end="1496">Implement lazy propagation when appropriate</li>
<li class="has-line-data" data-line-start="1496" data-line-end="1498">Clear temporary storage between query batches</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1498 data-line-end=1499 ><a id="Common_Pitfalls_1498"></a>Common Pitfalls</h3>
<ol>
<li class="has-line-data" data-line-start="1499" data-line-end="1500">Not handling corner cases in block boundaries</li>
<li class="has-line-data" data-line-start="1500" data-line-end="1501">Incorrect order of add/remove operations</li>
<li class="has-line-data" data-line-start="1501" data-line-end="1502">Integer overflow in cumulative operations</li>
<li class="has-line-data" data-line-start="1502" data-line-end="1503">Inefficient data structure choices for specific operations</li>
<li class="has-line-data" data-line-start="1503" data-line-end="1505">Not considering query order optimization</li>
</ol>
<h3 class="code-line" data-line-start=1505 data-line-end=1506 ><a id="Additional_Notes_1505"></a>Additional Notes</h3>
<ul>
<li class="has-line-data" data-line-start="1506" data-line-end="1507">Consider using coordinate compression for large value ranges</li>
<li class="has-line-data" data-line-start="1507" data-line-end="1508">Implement binary lifting for certain range operations</li>
<li class="has-line-data" data-line-start="1508" data-line-end="1509">Use sliding window techniques within blocks</li>
<li class="has-line-data" data-line-start="1509" data-line-end="1510">Cache frequently accessed block computations</li>
<li class="has-line-data" data-line-start="1510" data-line-end="1511">Consider parallel processing for independent blocks</li>
</ul>
<h2 class="code-line" data-line-start=1514 data-line-end=1515 ><a id="Pattern_7_SerializeDeserialize_1514"></a>Pattern 7: Serialize/Deserialize</h2>
<h3 class="code-line" data-line-start=1515 data-line-end=1516 ><a id="Basic_String_Encoding_1515"></a>Basic String Encoding</h3>
<ol>
<li class="has-line-data" data-line-start="1516" data-line-end="1523">
<p class="has-line-data" data-line-start="1516" data-line-end="1517">Encode and Decode Strings</p>
<ul>
<li class="has-line-data" data-line-start="1517" data-line-end="1518"><a href="https://leetcode.com/problems/encode-and-decode-strings/">LeetCode: 271 - Encode and Decode Strings</a> </li>
<li class="has-line-data" data-line-start="1518" data-line-end="1519">Base Pattern: Length prefix encoding</li>
<li class="has-line-data" data-line-start="1519" data-line-end="1520">Key Operation: <code>encoded += f&quot;{len(s)}#{s}&quot;</code></li>
<li class="has-line-data" data-line-start="1520" data-line-end="1521">Common Error: Delimiter collision</li>
<li class="has-line-data" data-line-start="1521" data-line-end="1523">Optimization: Fixed-width length field</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1523" data-line-end="1530">
<p class="has-line-data" data-line-start="1523" data-line-end="1524">String Compression</p>
<ul>
<li class="has-line-data" data-line-start="1524" data-line-end="1525"><a href="https://leetcode.com/problems/string-compression/">LeetCode: 443 - String Compression</a> </li>
<li class="has-line-data" data-line-start="1525" data-line-end="1526">Builds on #1: Run-length encoding</li>
<li class="has-line-data" data-line-start="1526" data-line-end="1527">Key Difference: Consecutive character counting</li>
<li class="has-line-data" data-line-start="1527" data-line-end="1528">Common Error: Single character handling</li>
<li class="has-line-data" data-line-start="1528" data-line-end="1530">Optimization: In-place modification</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1530" data-line-end="1537">
<p class="has-line-data" data-line-start="1530" data-line-end="1531">Run Length Encoding</p>
<ul>
<li class="has-line-data" data-line-start="1531" data-line-end="1532"><a href="https://practice.geeksforgeeks.org/problems/run-length-encoding/1">GeeksForGeeks: Run Length Encoding</a> </li>
<li class="has-line-data" data-line-start="1532" data-line-end="1533">Builds on #2: General compression</li>
<li class="has-line-data" data-line-start="1533" data-line-end="1534">Key Difference: All character compression</li>
<li class="has-line-data" data-line-start="1534" data-line-end="1535">Common Error: Count overflow</li>
<li class="has-line-data" data-line-start="1535" data-line-end="1537">Optimization: StringBuilder usage</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1537" data-line-end="1544">
<p class="has-line-data" data-line-start="1537" data-line-end="1538">Check if String is Valid</p>
<ul>
<li class="has-line-data" data-line-start="1538" data-line-end="1539"><a href="https://practice.geeksforgeeks.org/problems/check-if-string-is-valid/1">GeeksForGeeks: Check if string is valid</a> </li>
<li class="has-line-data" data-line-start="1539" data-line-end="1540">Builds on #3: Validation rules</li>
<li class="has-line-data" data-line-start="1540" data-line-end="1541">Key Difference: Format checking</li>
<li class="has-line-data" data-line-start="1541" data-line-end="1542">Common Error: Edge case handling</li>
<li class="has-line-data" data-line-start="1542" data-line-end="1544">Optimization: Early termination</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1544 data-line-end=1545 ><a id="Binary_Tree_Serialization_1544"></a>Binary Tree Serialization</h3>
<ol start="5">
<li class="has-line-data" data-line-start="1545" data-line-end="1552">
<p class="has-line-data" data-line-start="1545" data-line-end="1546">Serialize Binary Tree</p>
<ul>
<li class="has-line-data" data-line-start="1546" data-line-end="1547"><a href="https://leetcode.com/problems/serialize-and-deserialize-binary-tree/">LeetCode: 297 - Serialize and Deserialize Binary Tree</a> </li>
<li class="has-line-data" data-line-start="1547" data-line-end="1548">Base Pattern: Preorder traversal</li>
<li class="has-line-data" data-line-start="1548" data-line-end="1549">Key Operation: <code>serialize(node.left) + serialize(node.right)</code></li>
<li class="has-line-data" data-line-start="1549" data-line-end="1550">Common Error: Null handling</li>
<li class="has-line-data" data-line-start="1550" data-line-end="1552">Optimization: Level-order for balanced trees</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1552" data-line-end="1559">
<p class="has-line-data" data-line-start="1552" data-line-end="1553">Binary Tree to String</p>
<ul>
<li class="has-line-data" data-line-start="1553" data-line-end="1554"><a href="https://practice.geeksforgeeks.org/problems/binary-tree-to-string/1">GeeksForGeeks: Binary Tree to String</a> </li>
<li class="has-line-data" data-line-start="1554" data-line-end="1555">Builds on #5: Parentheses notation</li>
<li class="has-line-data" data-line-start="1555" data-line-end="1556">Key Difference: Bracket matching</li>
<li class="has-line-data" data-line-start="1556" data-line-end="1557">Common Error: Empty subtree representation</li>
<li class="has-line-data" data-line-start="1557" data-line-end="1559">Optimization: Skip unnecessary brackets</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1559" data-line-end="1566">
<p class="has-line-data" data-line-start="1559" data-line-end="1560">Recover Binary Search Tree</p>
<ul>
<li class="has-line-data" data-line-start="1560" data-line-end="1561"><a href="https://practice.geeksforgeeks.org/problems/recover-binary-search-tree/1">GeeksForGeeks: Recover Binary Search Tree</a> </li>
<li class="has-line-data" data-line-start="1561" data-line-end="1562">Builds on #6: BST properties</li>
<li class="has-line-data" data-line-start="1562" data-line-end="1563">Key Difference: Violation detection</li>
<li class="has-line-data" data-line-start="1563" data-line-end="1564">Common Error: Multiple swaps</li>
<li class="has-line-data" data-line-start="1564" data-line-end="1566">Optimization: Morris traversal</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1566" data-line-end="1573">
<p class="has-line-data" data-line-start="1566" data-line-end="1567">Level Order Spiral Traversal</p>
<ul>
<li class="has-line-data" data-line-start="1567" data-line-end="1568"><a href="https://practice.geeksforgeeks.org/problems/level-order-traversal-in-spiral-form/1">GeeksForGeeks: Level order traversal in spiral form</a> </li>
<li class="has-line-data" data-line-start="1568" data-line-end="1569">Builds on #7: Level tracking</li>
<li class="has-line-data" data-line-start="1569" data-line-end="1570">Key Difference: Direction alternation</li>
<li class="has-line-data" data-line-start="1570" data-line-end="1571">Common Error: Level boundary</li>
<li class="has-line-data" data-line-start="1571" data-line-end="1573">Optimization: Double-ended queue</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1573 data-line-end=1574 ><a id="Graph_Serialization_1573"></a>Graph Serialization</h3>
<ol start="9">
<li class="has-line-data" data-line-start="1574" data-line-end="1581">
<p class="has-line-data" data-line-start="1574" data-line-end="1575">Clone Graph</p>
<ul>
<li class="has-line-data" data-line-start="1575" data-line-end="1576"><a href="https://leetcode.com/problems/clone-graph/">LeetCode: 133 - Clone Graph</a> </li>
<li class="has-line-data" data-line-start="1576" data-line-end="1577">Base Pattern: Node mapping</li>
<li class="has-line-data" data-line-start="1577" data-line-end="1578">Key Operation: <code>visited[node] = Node(node.val)</code></li>
<li class="has-line-data" data-line-start="1578" data-line-end="1579">Common Error: Cycle detection</li>
<li class="has-line-data" data-line-start="1579" data-line-end="1581">Optimization: DFS vs BFS choice</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1581" data-line-end="1588">
<p class="has-line-data" data-line-start="1581" data-line-end="1582">Clone Directed Graph</p>
<ul>
<li class="has-line-data" data-line-start="1582" data-line-end="1583"><a href="https://practice.geeksforgeeks.org/problems/clone-graph/1">GeeksForGeeks: Clone a Directed Graph</a> </li>
<li class="has-line-data" data-line-start="1583" data-line-end="1584">Builds on #9: Direction handling</li>
<li class="has-line-data" data-line-start="1584" data-line-end="1585">Key Difference: Edge direction preservation</li>
<li class="has-line-data" data-line-start="1585" data-line-end="1586">Common Error: Back edge handling</li>
<li class="has-line-data" data-line-start="1586" data-line-end="1588">Optimization: Adjacency list representation</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1588" data-line-end="1595">
<p class="has-line-data" data-line-start="1588" data-line-end="1589">Clone Binary Tree with Random Pointer</p>
<ul>
<li class="has-line-data" data-line-start="1589" data-line-end="1590"><a href="https://practice.geeksforgeeks.org/problems/clone-a-linked-list-with-next-and-random-pointer/1">GeeksForGeeks: Clone a linked list with next and random pointer</a> </li>
<li class="has-line-data" data-line-start="1590" data-line-end="1591">Builds on #10: Extra pointer</li>
<li class="has-line-data" data-line-start="1591" data-line-end="1592">Key Difference: Random connection</li>
<li class="has-line-data" data-line-start="1592" data-line-end="1593">Common Error: Pointer mapping</li>
<li class="has-line-data" data-line-start="1593" data-line-end="1595">Optimization: Three-pass solution</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1595" data-line-end="1602">
<p class="has-line-data" data-line-start="1595" data-line-end="1596">Clone Weighted Graph</p>
<ul>
<li class="has-line-data" data-line-start="1596" data-line-end="1597"><a href="https://practice.geeksforgeeks.org/problems/clone-a-binary-tree/1">GeeksForGeeks: Clone a Binary Tree</a> </li>
<li class="has-line-data" data-line-start="1597" data-line-end="1598">Builds on #11: Edge weights</li>
<li class="has-line-data" data-line-start="1598" data-line-end="1599">Key Difference: Weight preservation</li>
<li class="has-line-data" data-line-start="1599" data-line-end="1600">Common Error: Weight type handling</li>
<li class="has-line-data" data-line-start="1600" data-line-end="1602">Optimization: Weight map compression</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1602 data-line-end=1603 ><a id="Nary_Structure_Serialization_1602"></a>N-ary Structure Serialization</h3>
<ol start="13">
<li class="has-line-data" data-line-start="1603" data-line-end="1610">
<p class="has-line-data" data-line-start="1603" data-line-end="1604">Serialize and Deserialize N-ary Tree</p>
<ul>
<li class="has-line-data" data-line-start="1604" data-line-end="1605"><a href="https://leetcode.com/problems/serialize-and-deserialize-n-ary-tree/">LeetCode: 428 - Serialize and Deserialize N-ary Tree</a> </li>
<li class="has-line-data" data-line-start="1605" data-line-end="1606">Base Pattern: Child count encoding</li>
<li class="has-line-data" data-line-start="1606" data-line-end="1607">Key Operation: <code>serialize(children) + f&quot;{len(children)}#&quot;</code></li>
<li class="has-line-data" data-line-start="1607" data-line-end="1608">Common Error: Children count tracking</li>
<li class="has-line-data" data-line-start="1608" data-line-end="1610">Optimization: Variable length encoding</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1610" data-line-end="1617">
<p class="has-line-data" data-line-start="1610" data-line-end="1611">Encode N-ary Tree to Binary</p>
<ul>
<li class="has-line-data" data-line-start="1611" data-line-end="1612"><a href="https://leetcode.com/problems/encode-n-ary-tree-to-binary-tree/">LeetCode: 431 - Encode N-ary Tree to Binary Tree</a> </li>
<li class="has-line-data" data-line-start="1612" data-line-end="1613">Builds on #13: Structure transformation</li>
<li class="has-line-data" data-line-start="1613" data-line-end="1614">Key Difference: First child-next sibling</li>
<li class="has-line-data" data-line-start="1614" data-line-end="1615">Common Error: Relationship preservation</li>
<li class="has-line-data" data-line-start="1615" data-line-end="1617">Optimization: Height balancing</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1617" data-line-end="1624">
<p class="has-line-data" data-line-start="1617" data-line-end="1618">Convert Graph to Tree</p>
<ul>
<li class="has-line-data" data-line-start="1618" data-line-end="1619"><a href="https://practice.geeksforgeeks.org/problems/convert-graph-to-tree/1">GeeksForGeeks: Convert Graph to Tree</a> </li>
<li class="has-line-data" data-line-start="1619" data-line-end="1620">Builds on #14: Cycle elimination</li>
<li class="has-line-data" data-line-start="1620" data-line-end="1621">Key Difference: Root selection</li>
<li class="has-line-data" data-line-start="1621" data-line-end="1622">Common Error: Disconnected components</li>
<li class="has-line-data" data-line-start="1622" data-line-end="1624">Optimization: Union-find approach</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1624" data-line-end="1631">
<p class="has-line-data" data-line-start="1624" data-line-end="1625">Multiple Graphs Serialization</p>
<ul>
<li class="has-line-data" data-line-start="1625" data-line-end="1626"><a href="https://www.hackerearth.com/practice/algorithms/graphs/graph-representation/practice-problems/">HackerEarth: Multiple Graphs</a> </li>
<li class="has-line-data" data-line-start="1626" data-line-end="1627">Builds on #15: Multi-graph handling</li>
<li class="has-line-data" data-line-start="1627" data-line-end="1628">Key Difference: Graph separation</li>
<li class="has-line-data" data-line-start="1628" data-line-end="1629">Common Error: Cross-graph references</li>
<li class="has-line-data" data-line-start="1629" data-line-end="1631">Optimization: Shared node pool</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1631 data-line-end=1632 ><a id="Advanced_Encoding_Techniques_1631"></a>Advanced Encoding Techniques</h3>
<ol start="17">
<li class="has-line-data" data-line-start="1632" data-line-end="1639">
<p class="has-line-data" data-line-start="1632" data-line-end="1633">Encode with Checksum</p>
<ul>
<li class="has-line-data" data-line-start="1633" data-line-end="1634"><a href="https://practice.geeksforgeeks.org/problems/check-sum-string/1">GeeksForGeeks: Check Sum String</a> </li>
<li class="has-line-data" data-line-start="1634" data-line-end="1635">Base Pattern: Data validation</li>
<li class="has-line-data" data-line-start="1635" data-line-end="1636">Key Operation: <code>checksum = hash(data)</code></li>
<li class="has-line-data" data-line-start="1636" data-line-end="1637">Common Error: Hash collision</li>
<li class="has-line-data" data-line-start="1637" data-line-end="1639">Optimization: Rolling hash</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1639" data-line-end="1646">
<p class="has-line-data" data-line-start="1639" data-line-end="1640">Encode with Length Prefix</p>
<ul>
<li class="has-line-data" data-line-start="1640" data-line-end="1641"><a href="https://www.hackerrank.com/challenges/string-construction/">HackerRank: String Construction</a> </li>
<li class="has-line-data" data-line-start="1641" data-line-end="1642">Builds on #17: Size encoding</li>
<li class="has-line-data" data-line-start="1642" data-line-end="1643">Key Difference: Variable length fields</li>
<li class="has-line-data" data-line-start="1643" data-line-end="1644">Common Error: Length overflow</li>
<li class="has-line-data" data-line-start="1644" data-line-end="1646">Optimization: Varint encoding</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1646" data-line-end="1653">
<p class="has-line-data" data-line-start="1646" data-line-end="1647">Encode with Metadata</p>
<ul>
<li class="has-line-data" data-line-start="1647" data-line-end="1648"><a href="https://practice.geeksforgeeks.org/problems/serialize-and-deserialize-a-string/1">GeeksForGeeks: Serialize and Deserialize a String</a> </li>
<li class="has-line-data" data-line-start="1648" data-line-end="1649">Builds on #18: Header information</li>
<li class="has-line-data" data-line-start="1649" data-line-end="1650">Key Difference: Metadata section</li>
<li class="has-line-data" data-line-start="1650" data-line-end="1651">Common Error: Version compatibility</li>
<li class="has-line-data" data-line-start="1651" data-line-end="1653">Optimization: Metadata compression</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1653" data-line-end="1660">
<p class="has-line-data" data-line-start="1653" data-line-end="1654">Encode with Error Recovery</p>
<ul>
<li class="has-line-data" data-line-start="1654" data-line-end="1655"><a href="https://practice.geeksforgeeks.org/problems/check-if-string-is-valid/1">GeeksForGeeks: Check if string is valid</a> </li>
<li class="has-line-data" data-line-start="1655" data-line-end="1656">Builds on #19: Error handling</li>
<li class="has-line-data" data-line-start="1656" data-line-end="1657">Key Difference: Recovery mechanisms</li>
<li class="has-line-data" data-line-start="1657" data-line-end="1658">Common Error: State corruption</li>
<li class="has-line-data" data-line-start="1658" data-line-end="1660">Optimization: Checkpoint frequency</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1660 data-line-end=1661 ><a id="Implementation_Templates_1660"></a>Implementation Templates</h3>
<ol>
<li class="has-line-data" data-line-start="1662" data-line-end="1663">Basic String Encoding Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="1664" data-line-end="1681" class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Codec</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">encode</span><span class="hljs-params">(self, strs)</span>:</span>
        <span class="hljs-string">"""Encodes a list of strings to a single string"""</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> strs:
            <span class="hljs-keyword">return</span> chr(<span class="hljs-number">258</span>)
        
        <span class="hljs-comment"># Join using character outside ASCII range</span>
        <span class="hljs-keyword">return</span> chr(<span class="hljs-number">257</span>).join(s.replace(chr(<span class="hljs-number">257</span>), chr(<span class="hljs-number">257</span>) + chr(<span class="hljs-number">257</span>)) <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> strs)
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">decode</span><span class="hljs-params">(self, s)</span>:</span>
        <span class="hljs-string">"""Decodes a single string to a list of strings"""</span>
        <span class="hljs-keyword">if</span> s == chr(<span class="hljs-number">258</span>):
            <span class="hljs-keyword">return</span> []
        
        <span class="hljs-comment"># Split and restore original strings</span>
        <span class="hljs-keyword">return</span> [t.replace(chr(<span class="hljs-number">257</span>) + chr(<span class="hljs-number">257</span>), chr(<span class="hljs-number">257</span>)) <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> s.split(chr(<span class="hljs-number">257</span>))]
</code></pre>
<ol start="2">
<li class="has-line-data" data-line-start="1682" data-line-end="1683">Binary Tree Serialization Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="1684" data-line-end="1705" class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Codec</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">serialize</span><span class="hljs-params">(self, root)</span>:</span>
        <span class="hljs-string">"""Serialize a binary tree to a string"""</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> root:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"null"</span>
        <span class="hljs-keyword">return</span> f<span class="hljs-string">"{root.val},{self.serialize(root.left)},{self.serialize(root.right)}"</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deserialize</span><span class="hljs-params">(self, data)</span>:</span>
        <span class="hljs-string">"""Deserialize a string to a binary tree"""</span>
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dfs</span><span class="hljs-params">()</span>:</span>
            val = next(vals)
            <span class="hljs-keyword">if</span> val == <span class="hljs-string">"null"</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">None</span>
            node = TreeNode(int(val))
            node.left = dfs()
            node.right = dfs()
            <span class="hljs-keyword">return</span> node
        
        vals = iter(data.split(<span class="hljs-string">","</span>))
        <span class="hljs-keyword">return</span> dfs()
</code></pre>
<ol start="3">
<li class="has-line-data" data-line-start="1706" data-line-end="1707">Graph Serialization Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="1708" data-line-end="1735" class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Codec</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">encode</span><span class="hljs-params">(self, graph)</span>:</span>
        <span class="hljs-string">"""Encode a graph to a string"""</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> graph:
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>
        
        <span class="hljs-comment"># Format: nodes_count#node1,adj1|node2,adj2|...</span>
        encoded = [str(len(graph))]
        <span class="hljs-keyword">for</span> node, adj <span class="hljs-keyword">in</span> graph.items():
            encoded.append(f<span class="hljs-string">"{node}:{','.join(map(str, adj))}"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"#"</span>.join(encoded)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">decode</span><span class="hljs-params">(self, data)</span>:</span>
        <span class="hljs-string">"""Decode a string to a graph"""</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> data:
            <span class="hljs-keyword">return</span> {}
        
        parts = data.split(<span class="hljs-string">"#"</span>)
        nodes_count = int(parts[<span class="hljs-number">0</span>])
        graph = {}
        
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(parts)):
            node, adj = parts[i].split(<span class="hljs-string">":"</span>)
            graph[int(node)] = [int(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> adj.split(<span class="hljs-string">","</span>) <span class="hljs-keyword">if</span> x]
        
        <span class="hljs-keyword">return</span> graph
</code></pre>
<h3 class="code-line" data-line-start=1736 data-line-end=1737 ><a id="Optimization_Guidelines_1736"></a>Optimization Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="1738" data-line-end="1744">
<p class="has-line-data" data-line-start="1738" data-line-end="1739">Encoding Efficiency:</p>
<ul>
<li class="has-line-data" data-line-start="1739" data-line-end="1740">Use variable-length encoding for numbers</li>
<li class="has-line-data" data-line-start="1740" data-line-end="1741">Consider compression for repetitive patterns</li>
<li class="has-line-data" data-line-start="1741" data-line-end="1742">Minimize delimiter usage</li>
<li class="has-line-data" data-line-start="1742" data-line-end="1744">Use bit-level operations when possible</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1744" data-line-end="1750">
<p class="has-line-data" data-line-start="1744" data-line-end="1745">Memory Management:</p>
<ul>
<li class="has-line-data" data-line-start="1745" data-line-end="1746">Implement streaming for large structures</li>
<li class="has-line-data" data-line-start="1746" data-line-end="1747">Use buffer pools for frequent allocations</li>
<li class="has-line-data" data-line-start="1747" data-line-end="1748">Clear temporary storage early</li>
<li class="has-line-data" data-line-start="1748" data-line-end="1750">Consider memory-mapped files</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1750" data-line-end="1756">
<p class="has-line-data" data-line-start="1750" data-line-end="1751">Error Handling:</p>
<ul>
<li class="has-line-data" data-line-start="1751" data-line-end="1752">Implement checksums for data integrity</li>
<li class="has-line-data" data-line-start="1752" data-line-end="1753">Add version information for compatibility</li>
<li class="has-line-data" data-line-start="1753" data-line-end="1754">Include error correction codes</li>
<li class="has-line-data" data-line-start="1754" data-line-end="1756">Support partial recovery</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1756 data-line-end=1757 ><a id="Common_Pitfalls_1756"></a>Common Pitfalls</h3>
<ol>
<li class="has-line-data" data-line-start="1757" data-line-end="1758">Not handling special characters in strings</li>
<li class="has-line-data" data-line-start="1758" data-line-end="1759">Incorrect cycle detection in graphs</li>
<li class="has-line-data" data-line-start="1759" data-line-end="1760">Memory leaks in recursive serialization</li>
<li class="has-line-data" data-line-start="1760" data-line-end="1761">Loss of precision in floating-point values</li>
<li class="has-line-data" data-line-start="1761" data-line-end="1763">Incorrect handling of empty/null values</li>
</ol>
<h3 class="code-line" data-line-start=1763 data-line-end=1764 ><a id="Additional_Notes_1763"></a>Additional Notes</h3>
<ul>
<li class="has-line-data" data-line-start="1764" data-line-end="1765">Consider using protocol buffers for complex structures</li>
<li class="has-line-data" data-line-start="1765" data-line-end="1766">Implement versioning for backward compatibility</li>
<li class="has-line-data" data-line-start="1766" data-line-end="1767">Use canonical forms when possible</li>
<li class="has-line-data" data-line-start="1767" data-line-end="1768">Cache frequently used objects</li>
<li class="has-line-data" data-line-start="1768" data-line-end="1769">Consider security implications of serialization</li>
</ul>
<h2 class="code-line" data-line-start=1771 data-line-end=1772 ><a id="Pattern_8_Clone_Pattern_1771"></a>Pattern 8: Clone Pattern</h2>
<h3 class="code-line" data-line-start=1772 data-line-end=1773 ><a id="Basic_Object_Cloning_1772"></a>Basic Object Cloning</h3>
<ol>
<li class="has-line-data" data-line-start="1773" data-line-end="1780">
<p class="has-line-data" data-line-start="1773" data-line-end="1774">Copy List with Random Pointer</p>
<ul>
<li class="has-line-data" data-line-start="1774" data-line-end="1775"><a href="https://leetcode.com/problems/copy-list-with-random-pointer/">LeetCode: 138 - Copy List with Random Pointer</a> </li>
<li class="has-line-data" data-line-start="1775" data-line-end="1776">Base Pattern: HashMap-based node mapping</li>
<li class="has-line-data" data-line-start="1776" data-line-end="1777">Key Operation: <code>mapping[old] = new</code></li>
<li class="has-line-data" data-line-start="1777" data-line-end="1778">Common Error: Not handling null pointers</li>
<li class="has-line-data" data-line-start="1778" data-line-end="1780">Optimization: O(1) space with interweaving</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1780" data-line-end="1787">
<p class="has-line-data" data-line-start="1780" data-line-end="1781">Clone Graph</p>
<ul>
<li class="has-line-data" data-line-start="1781" data-line-end="1782"><a href="https://leetcode.com/problems/clone-graph/">LeetCode: 133 - Clone Graph</a> </li>
<li class="has-line-data" data-line-start="1782" data-line-end="1783">Builds on #1: Graph traversal with mapping</li>
<li class="has-line-data" data-line-start="1783" data-line-end="1784">Key Difference: Cyclic reference handling</li>
<li class="has-line-data" data-line-start="1784" data-line-end="1785">Common Error: Infinite recursion</li>
<li class="has-line-data" data-line-start="1785" data-line-end="1787">Optimization: DFS vs BFS choice</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1787" data-line-end="1794">
<p class="has-line-data" data-line-start="1787" data-line-end="1788">Clone Binary Tree</p>
<ul>
<li class="has-line-data" data-line-start="1788" data-line-end="1789"><a href="https://leetcode.com/problems/find-a-corresponding-node-of-a-binary-tree-in-a-clone-of-that-tree/">LeetCode: 1379 - Find a Corresponding Node of a Binary Tree in a Clone of That Tree</a> </li>
<li class="has-line-data" data-line-start="1789" data-line-end="1790">Builds on #2: Simpler structure</li>
<li class="has-line-data" data-line-start="1790" data-line-end="1791">Key Difference: No cycles possible</li>
<li class="has-line-data" data-line-start="1791" data-line-end="1792">Common Error: Reference comparison</li>
<li class="has-line-data" data-line-start="1792" data-line-end="1794">Optimization: Parallel traversal</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1794" data-line-end="1801">
<p class="has-line-data" data-line-start="1794" data-line-end="1795">Clone Binary Tree With Random Pointer</p>
<ul>
<li class="has-line-data" data-line-start="1795" data-line-end="1796"><a href="https://leetcode.com/problems/clone-binary-tree-with-random-pointer/">LeetCode: 1485 - Clone Binary Tree With Random Pointer</a> </li>
<li class="has-line-data" data-line-start="1796" data-line-end="1797">Builds on #3: Additional pointer handling</li>
<li class="has-line-data" data-line-start="1797" data-line-end="1798">Key Difference: Two-phase cloning</li>
<li class="has-line-data" data-line-start="1798" data-line-end="1799">Common Error: Missing random links</li>
<li class="has-line-data" data-line-start="1799" data-line-end="1801">Optimization: Combine phases</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1801 data-line-end=1802 ><a id="Treebased_Cloning_1801"></a>Tree-based Cloning</h3>
<ol start="5">
<li class="has-line-data" data-line-start="1802" data-line-end="1809">
<p class="has-line-data" data-line-start="1802" data-line-end="1803">Clone N-ary Tree</p>
<ul>
<li class="has-line-data" data-line-start="1803" data-line-end="1804"><a href="https://leetcode.com/problems/clone-n-ary-tree/">LeetCode: 1490 - Clone N-ary Tree</a> </li>
<li class="has-line-data" data-line-start="1804" data-line-end="1805">Base Pattern: Vector-based children</li>
<li class="has-line-data" data-line-start="1805" data-line-end="1806">Key Operation: <code>new_node.children = [clone(child) for child]</code></li>
<li class="has-line-data" data-line-start="1806" data-line-end="1807">Common Error: Shallow copy of children</li>
<li class="has-line-data" data-line-start="1807" data-line-end="1809">Optimization: Level-order cloning</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1809" data-line-end="1816">
<p class="has-line-data" data-line-start="1809" data-line-end="1810">Clone Binary Search Tree</p>
<ul>
<li class="has-line-data" data-line-start="1810" data-line-end="1811"><a href="https://leetcode.com/problems/construct-binary-search-tree-from-preorder-traversal/">LeetCode: 1008 - Construct Binary Search Tree from Preorder Traversal</a> </li>
<li class="has-line-data" data-line-start="1811" data-line-end="1812">Builds on #5: BST properties</li>
<li class="has-line-data" data-line-start="1812" data-line-end="1813">Key Difference: Ordered structure</li>
<li class="has-line-data" data-line-start="1813" data-line-end="1814">Common Error: Not maintaining BST invariant</li>
<li class="has-line-data" data-line-start="1814" data-line-end="1816">Optimization: Use value constraints</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1816" data-line-end="1823">
<p class="has-line-data" data-line-start="1816" data-line-end="1817">Clone Perfect Binary Tree</p>
<ul>
<li class="has-line-data" data-line-start="1817" data-line-end="1818"><a href="https://practice.geeksforgeeks.org/problems/perfect-binary-tree/1">GeeksforGeeks: Clone a Perfect Binary Tree</a> </li>
<li class="has-line-data" data-line-start="1818" data-line-end="1819">Builds on #6: Level completeness</li>
<li class="has-line-data" data-line-start="1819" data-line-end="1820">Key Difference: Fixed shape</li>
<li class="has-line-data" data-line-start="1820" data-line-end="1821">Common Error: Level counting</li>
<li class="has-line-data" data-line-start="1821" data-line-end="1823">Optimization: Level-wise copy</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1823" data-line-end="1830">
<p class="has-line-data" data-line-start="1823" data-line-end="1824">Clone Complete Binary Tree</p>
<ul>
<li class="has-line-data" data-line-start="1824" data-line-end="1825"><a href="https://leetcode.com/problems/complete-binary-tree-inserter/">LeetCode: 919 - Complete Binary Tree Inserter</a> </li>
<li class="has-line-data" data-line-start="1825" data-line-end="1826">Builds on #7: Relaxed constraints</li>
<li class="has-line-data" data-line-start="1826" data-line-end="1827">Key Difference: Last level filling</li>
<li class="has-line-data" data-line-start="1827" data-line-end="1828">Common Error: Node indexing</li>
<li class="has-line-data" data-line-start="1828" data-line-end="1830">Optimization: Array representation</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1830 data-line-end=1831 ><a id="Advanced_Structure_Cloning_1830"></a>Advanced Structure Cloning</h3>
<ol start="9">
<li class="has-line-data" data-line-start="1831" data-line-end="1838">
<p class="has-line-data" data-line-start="1831" data-line-end="1832">Deep Clone Linked List with Arbitrary Nodes</p>
<ul>
<li class="has-line-data" data-line-start="1832" data-line-end="1833"><a href="https://leetcode.com/problems/longest-uploaded-prefix/">LeetCode: 2424 - Longest Uploaded Prefix</a> </li>
<li class="has-line-data" data-line-start="1833" data-line-end="1834">Base Pattern: Multi-pointer structure</li>
<li class="has-line-data" data-line-start="1834" data-line-end="1835">Key Operation: <code>mapping[curr.arb] = new_curr</code></li>
<li class="has-line-data" data-line-start="1835" data-line-end="1836">Common Error: Circular references</li>
<li class="has-line-data" data-line-start="1836" data-line-end="1838">Optimization: Three-pass solution</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1838" data-line-end="1845">
<p class="has-line-data" data-line-start="1838" data-line-end="1839">Clone Doubly Linked List</p>
<ul>
<li class="has-line-data" data-line-start="1839" data-line-end="1840"><a href="https://practice.geeksforgeeks.org/problems/clone-a-linked-list-with-next-and-random-pointer/1">GeeksforGeeks: Clone a doubly linked list</a> </li>
<li class="has-line-data" data-line-start="1840" data-line-end="1841">Builds on #9: Backward links</li>
<li class="has-line-data" data-line-start="1841" data-line-end="1842">Key Difference: Bidirectional pointers</li>
<li class="has-line-data" data-line-start="1842" data-line-end="1843">Common Error: Previous pointer sync</li>
<li class="has-line-data" data-line-start="1843" data-line-end="1845">Optimization: Single pass possible</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1845" data-line-end="1852">
<p class="has-line-data" data-line-start="1845" data-line-end="1846">Clone Skiplist</p>
<ul>
<li class="has-line-data" data-line-start="1846" data-line-end="1847"><a href="https://leetcode.com/problems/design-skiplist/">LeetCode: 1206 - Design Skiplist</a> </li>
<li class="has-line-data" data-line-start="1847" data-line-end="1848">Builds on #10: Level-based links</li>
<li class="has-line-data" data-line-start="1848" data-line-end="1849">Key Difference: Probabilistic structure</li>
<li class="has-line-data" data-line-start="1849" data-line-end="1850">Common Error: Level probability</li>
<li class="has-line-data" data-line-start="1850" data-line-end="1852">Optimization: Optimize level count</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1852" data-line-end="1859">
<p class="has-line-data" data-line-start="1852" data-line-end="1853">Clone Stack</p>
<ul>
<li class="has-line-data" data-line-start="1853" data-line-end="1854"><a href="https://leetcode.com/problems/implement-stack-using-queues/">LeetCode: 225 - Implement Stack using Queues</a> </li>
<li class="has-line-data" data-line-start="1854" data-line-end="1855">Base Pattern: LIFO structure</li>
<li class="has-line-data" data-line-start="1855" data-line-end="1856">Key Operation: <code>new_stack.push(old_stack.top())</code></li>
<li class="has-line-data" data-line-start="1856" data-line-end="1857">Common Error: Reference vs value</li>
<li class="has-line-data" data-line-start="1857" data-line-end="1859">Optimization: Iterative vs recursive</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1859 data-line-end=1860 ><a id="Statebased_Cloning_continued_1859"></a>State-based Cloning (continued)</h3>
<ol start="13">
<li class="has-line-data" data-line-start="1860" data-line-end="1867">
<p class="has-line-data" data-line-start="1860" data-line-end="1861">Clone Queue</p>
<ul>
<li class="has-line-data" data-line-start="1861" data-line-end="1862"><a href="https://leetcode.com/problems/implement-queue-using-stacks/">LeetCode: 232 - Implement Queue using Stacks</a> </li>
<li class="has-line-data" data-line-start="1862" data-line-end="1863">Builds on #12: FIFO structure</li>
<li class="has-line-data" data-line-start="1863" data-line-end="1864">Key Difference: Order preservation</li>
<li class="has-line-data" data-line-start="1864" data-line-end="1865">Common Error: Element ordering</li>
<li class="has-line-data" data-line-start="1865" data-line-end="1867">Optimization: Batch processing</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1867" data-line-end="1874">
<p class="has-line-data" data-line-start="1867" data-line-end="1868">Clone Deque</p>
<ul>
<li class="has-line-data" data-line-start="1868" data-line-end="1869"><a href="https://leetcode.com/problems/design-circular-deque/">LeetCode: 641 - Design Circular Deque</a> </li>
<li class="has-line-data" data-line-start="1869" data-line-end="1870">Builds on #13: Dual-ended operations</li>
<li class="has-line-data" data-line-start="1870" data-line-end="1871">Key Difference: Front/back access</li>
<li class="has-line-data" data-line-start="1871" data-line-end="1872">Common Error: Boundary conditions</li>
<li class="has-line-data" data-line-start="1872" data-line-end="1874">Optimization: Circular array</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1874 data-line-end=1875 ><a id="Complex_Data_Structure_Cloning_1874"></a>Complex Data Structure Cloning</h3>
<ol start="15">
<li class="has-line-data" data-line-start="1875" data-line-end="1882">
<p class="has-line-data" data-line-start="1875" data-line-end="1876">Clone Priority Queue</p>
<ul>
<li class="has-line-data" data-line-start="1876" data-line-end="1877"><a href="https://leetcode.com/problems/seat-reservation-manager/">LeetCode: 1845 - Seat Reservation Manager</a> </li>
<li class="has-line-data" data-line-start="1877" data-line-end="1878">Base Pattern: Heap structure</li>
<li class="has-line-data" data-line-start="1878" data-line-end="1879">Key Operation: <code>heapify(elements)</code></li>
<li class="has-line-data" data-line-start="1879" data-line-end="1880">Common Error: Comparator copying</li>
<li class="has-line-data" data-line-start="1880" data-line-end="1882">Optimization: Bottom-up construction</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1882" data-line-end="1889">
<p class="has-line-data" data-line-start="1882" data-line-end="1883">Clone HashMap</p>
<ul>
<li class="has-line-data" data-line-start="1883" data-line-end="1884"><a href="https://leetcode.com/problems/design-hashmap/">LeetCode: 706 - Design HashMap</a> </li>
<li class="has-line-data" data-line-start="1884" data-line-end="1885">Builds on #15: Key-value mapping</li>
<li class="has-line-data" data-line-start="1885" data-line-end="1886">Key Difference: Collision handling</li>
<li class="has-line-data" data-line-start="1886" data-line-end="1887">Common Error: Hash function copying</li>
<li class="has-line-data" data-line-start="1887" data-line-end="1889">Optimization: Capacity planning</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1889" data-line-end="1896">
<p class="has-line-data" data-line-start="1889" data-line-end="1890">Clone LRU Cache</p>
<ul>
<li class="has-line-data" data-line-start="1890" data-line-end="1891"><a href="https://leetcode.com/problems/lru-cache/">LeetCode: 146 - LRU Cache</a> </li>
<li class="has-line-data" data-line-start="1891" data-line-end="1892">Builds on #16: Access ordering</li>
<li class="has-line-data" data-line-start="1892" data-line-end="1893">Key Difference: Eviction policy</li>
<li class="has-line-data" data-line-start="1893" data-line-end="1894">Common Error: Order updates</li>
<li class="has-line-data" data-line-start="1894" data-line-end="1896">Optimization: Update-get ratio</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1896" data-line-end="1903">
<p class="has-line-data" data-line-start="1896" data-line-end="1897">Clone LFU Cache</p>
<ul>
<li class="has-line-data" data-line-start="1897" data-line-end="1898"><a href="https://leetcode.com/problems/lfu-cache/">LeetCode: 460 - LFU Cache</a> </li>
<li class="has-line-data" data-line-start="1898" data-line-end="1899">Builds on #17: Frequency counting</li>
<li class="has-line-data" data-line-start="1899" data-line-end="1900">Key Difference: Multi-level ordering</li>
<li class="has-line-data" data-line-start="1900" data-line-end="1901">Common Error: Frequency updates</li>
<li class="has-line-data" data-line-start="1901" data-line-end="1903">Optimization: Frequency bucketing</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1903 data-line-end=1904 ><a id="Special_Cases_1903"></a>Special Cases</h3>
<ol start="19">
<li class="has-line-data" data-line-start="1904" data-line-end="1911">
<p class="has-line-data" data-line-start="1904" data-line-end="1905">Clone Circular Linked List</p>
<ul>
<li class="has-line-data" data-line-start="1905" data-line-end="1906"><a href="https://leetcode.com/problems/insert-into-a-sorted-circular-linked-list/">LeetCode: 708 - Insert into a Sorted Circular Linked List</a> </li>
<li class="has-line-data" data-line-start="1906" data-line-end="1907">Base Pattern: Cycle handling</li>
<li class="has-line-data" data-line-start="1907" data-line-end="1908">Key Operation: <code>detect_and_break_cycle()</code></li>
<li class="has-line-data" data-line-start="1908" data-line-end="1909">Common Error: Infinite loops</li>
<li class="has-line-data" data-line-start="1909" data-line-end="1911">Optimization: Cycle detection</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1911" data-line-end="1918">
<p class="has-line-data" data-line-start="1911" data-line-end="1912">Clone Thread-Safe Data Structure</p>
<ul>
<li class="has-line-data" data-line-start="1912" data-line-end="1913"><a href="https://leetcode.com/problems/print-in-order/">LeetCode: 1114 - Print in Order</a> </li>
<li class="has-line-data" data-line-start="1913" data-line-end="1914">Builds on all previous: Synchronization</li>
<li class="has-line-data" data-line-start="1914" data-line-end="1915">Key Difference: Lock handling</li>
<li class="has-line-data" data-line-start="1915" data-line-end="1916">Common Error: Deadlock potential</li>
<li class="has-line-data" data-line-start="1916" data-line-end="1918">Optimization: Lock granularity</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1918 data-line-end=1919 ><a id="Implementation_Guidelines_1918"></a>Implementation Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="1920" data-line-end="1921">Basic Object Cloning Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="1922" data-line-end="1944" class="language-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">clone_with_mapping</span><span class="hljs-params">(head)</span>:</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> head:
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">None</span>
        
    <span class="hljs-comment"># Phase 1: Create nodes</span>
    mapping = {}
    curr = head
    <span class="hljs-keyword">while</span> curr:
        mapping[curr] = Node(curr.val)
        curr = curr.next
        
    <span class="hljs-comment"># Phase 2: Connect pointers</span>
    curr = head
    <span class="hljs-keyword">while</span> curr:
        <span class="hljs-keyword">if</span> curr.next:
            mapping[curr].next = mapping[curr.next]
        <span class="hljs-keyword">if</span> curr.random:  <span class="hljs-comment"># For structures with extra pointers</span>
            mapping[curr].random = mapping[curr.random]
        curr = curr.next
        
    <span class="hljs-keyword">return</span> mapping[head]
</code></pre>
<ol start="2">
<li class="has-line-data" data-line-start="1945" data-line-end="1946">Tree-based Cloning Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="1947" data-line-end="1970" class="language-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">clone_tree</span><span class="hljs-params">(root)</span>:</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> root:
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">None</span>
        
    <span class="hljs-comment"># Create new node</span>
    new_root = TreeNode(root.val)
    
    <span class="hljs-comment"># Recursively clone children</span>
    new_root.left = clone_tree(root.left)
    new_root.right = clone_tree(root.right)
    
    <span class="hljs-keyword">return</span> new_root

<span class="hljs-comment"># For N-ary trees</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">clone_nary_tree</span><span class="hljs-params">(root)</span>:</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> root:
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">None</span>
        
    new_root = Node(root.val)
    new_root.children = [clone_nary_tree(child) <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> root.children]
    
    <span class="hljs-keyword">return</span> new_root
</code></pre>
<ol start="3">
<li class="has-line-data" data-line-start="1971" data-line-end="1972">Complex Structure Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="1973" data-line-end="1993" class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CloneableStructure</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.data = {}
        self.metadata = {}
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deep_copy</span><span class="hljs-params">(self)</span>:</span>
        new_instance = CloneableStructure()
        
        <span class="hljs-comment"># Copy main data</span>
        <span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> self.data.items():
            <span class="hljs-keyword">if</span> hasattr(value, <span class="hljs-string">'deep_copy'</span>):
                new_instance.data[key] = value.deep_copy()
            <span class="hljs-keyword">else</span>:
                new_instance.data[key] = copy.deepcopy(value)
                
        <span class="hljs-comment"># Copy metadata</span>
        new_instance.metadata = copy.deepcopy(self.metadata)
        
        <span class="hljs-keyword">return</span> new_instance
</code></pre>
<h3 class="code-line" data-line-start=1994 data-line-end=1995 ><a id="Optimization_Guidelines_1994"></a>Optimization Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="1996" data-line-end="2002">
<p class="has-line-data" data-line-start="1996" data-line-end="1997">Memory Optimization:</p>
<ul>
<li class="has-line-data" data-line-start="1997" data-line-end="1998">Use iterative over recursive when possible</li>
<li class="has-line-data" data-line-start="1998" data-line-end="1999">Consider interleaving technique for O(1) space</li>
<li class="has-line-data" data-line-start="1999" data-line-end="2000">Batch pointer updates to reduce memory pressure</li>
<li class="has-line-data" data-line-start="2000" data-line-end="2002">Use memory pools for frequent allocations</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2002" data-line-end="2008">
<p class="has-line-data" data-line-start="2002" data-line-end="2003">Time Optimization:</p>
<ul>
<li class="has-line-data" data-line-start="2003" data-line-end="2004">Pre-allocate capacity when size is known</li>
<li class="has-line-data" data-line-start="2004" data-line-end="2005">Use specialized methods for known structures</li>
<li class="has-line-data" data-line-start="2005" data-line-end="2006">Combine multiple passes into single pass</li>
<li class="has-line-data" data-line-start="2006" data-line-end="2008">Cache frequently accessed nodes</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2008" data-line-end="2014">
<p class="has-line-data" data-line-start="2008" data-line-end="2009">Special Considerations:</p>
<ul>
<li class="has-line-data" data-line-start="2009" data-line-end="2010">Handle cycles explicitly</li>
<li class="has-line-data" data-line-start="2010" data-line-end="2011">Preserve object identity</li>
<li class="has-line-data" data-line-start="2011" data-line-end="2012">Consider thread safety requirements</li>
<li class="has-line-data" data-line-start="2012" data-line-end="2014">Maintain invariants during cloning</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2014" data-line-end="2021">
<p class="has-line-data" data-line-start="2014" data-line-end="2015">Common Pitfalls:</p>
<ul>
<li class="has-line-data" data-line-start="2015" data-line-end="2016">Shallow vs deep copy confusion</li>
<li class="has-line-data" data-line-start="2016" data-line-end="2017">Missing edge cases (null, single node)</li>
<li class="has-line-data" data-line-start="2017" data-line-end="2018">Circular reference infinite loops</li>
<li class="has-line-data" data-line-start="2018" data-line-end="2019">Lost metadata during cloning</li>
<li class="has-line-data" data-line-start="2019" data-line-end="2021">Broken invariants after cloning</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2021" data-line-end="2027">
<p class="has-line-data" data-line-start="2021" data-line-end="2022">Testing Strategies:</p>
<ul>
<li class="has-line-data" data-line-start="2022" data-line-end="2023">Test with circular structures</li>
<li class="has-line-data" data-line-start="2023" data-line-end="2024">Verify identical structure layout</li>
<li class="has-line-data" data-line-start="2024" data-line-end="2025">Check all pointer connections</li>
<li class="has-line-data" data-line-start="2025" data-line-end="2026">Validate special properties</li>
<li class="has-line-data" data-line-start="2026" data-line-end="2027">Stress test with large structures</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=2030 data-line-end=2031 ><a id="Pattern_9_Articulation_Points_and_Bridges_2030"></a>Pattern 9: Articulation Points and Bridges</h2>
<h3 class="code-line" data-line-start=2031 data-line-end=2032 ><a id="Basic_Graph_Connectivity_2031"></a>Basic Graph Connectivity</h3>
<ol>
<li class="has-line-data" data-line-start="2032" data-line-end="2039">
<p class="has-line-data" data-line-start="2032" data-line-end="2033">Number of Connected Components</p>
<ul>
<li class="has-line-data" data-line-start="2033" data-line-end="2034"><a href="https://leetcode.com/problems/number-of-connected-components-in-an-undirected-graph/">LeetCode: 323 - Number of Connected Components in an Undirected Graph</a> </li>
<li class="has-line-data" data-line-start="2034" data-line-end="2035">Base Pattern: DFS/Union-Find</li>
<li class="has-line-data" data-line-start="2035" data-line-end="2036">Key Operation: <code>count -= 1 on union</code></li>
<li class="has-line-data" data-line-start="2036" data-line-end="2037">Common Error: Count initialization</li>
<li class="has-line-data" data-line-start="2037" data-line-end="2039">Optimization: Path compression</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2039" data-line-end="2046">
<p class="has-line-data" data-line-start="2039" data-line-end="2040">Redundant Connection</p>
<ul>
<li class="has-line-data" data-line-start="2040" data-line-end="2041"><a href="https://leetcode.com/problems/redundant-connection/">LeetCode: 684 - Redundant Connection</a> </li>
<li class="has-line-data" data-line-start="2041" data-line-end="2042">Builds on #1: Cycle detection</li>
<li class="has-line-data" data-line-start="2042" data-line-end="2043">Key Difference: Edge identification</li>
<li class="has-line-data" data-line-start="2043" data-line-end="2044">Common Error: Multiple answers</li>
<li class="has-line-data" data-line-start="2044" data-line-end="2046">Optimization: Union by rank</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2046" data-line-end="2053">
<p class="has-line-data" data-line-start="2046" data-line-end="2047">Find Cut Vertices</p>
<ul>
<li class="has-line-data" data-line-start="2047" data-line-end="2048"><a href="https://leetcode.com/problems/critical-connections-in-a-network/">LeetCode: 1192 - Critical Connections in a Network</a> </li>
<li class="has-line-data" data-line-start="2048" data-line-end="2049">Builds on #2: Articulation points</li>
<li class="has-line-data" data-line-start="2049" data-line-end="2050">Key Difference: Vertex importance</li>
<li class="has-line-data" data-line-start="2050" data-line-end="2051">Common Error: Root case</li>
<li class="has-line-data" data-line-start="2051" data-line-end="2053">Optimization: Early termination</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2053" data-line-end="2060">
<p class="has-line-data" data-line-start="2053" data-line-end="2054">Critical Connections</p>
<ul>
<li class="has-line-data" data-line-start="2054" data-line-end="2055"><a href="https://leetcode.com/problems/critical-connections-in-a-network/">LeetCode: 1192 - Critical Connections in a Network</a> </li>
<li class="has-line-data" data-line-start="2055" data-line-end="2056">Builds on #3: Bridge finding</li>
<li class="has-line-data" data-line-start="2056" data-line-end="2057">Key Difference: Edge vs vertex</li>
<li class="has-line-data" data-line-start="2057" data-line-end="2058">Common Error: Back edge handling</li>
<li class="has-line-data" data-line-start="2058" data-line-end="2060">Optimization: Skip redundant DFS</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2060 data-line-end=2061 ><a id="Grid_Connectivity_Natural_2D_Extension_2060"></a>Grid Connectivity (Natural 2D Extension)</h3>
<ol start="5">
<li class="has-line-data" data-line-start="2061" data-line-end="2068">
<p class="has-line-data" data-line-start="2061" data-line-end="2062">Number of Islands</p>
<ul>
<li class="has-line-data" data-line-start="2062" data-line-end="2063"><a href="https://leetcode.com/problems/number-of-islands/">LeetCode: 200 - Number of Islands</a> </li>
<li class="has-line-data" data-line-start="2063" data-line-end="2064">Base Pattern: Grid DFS/BFS</li>
<li class="has-line-data" data-line-start="2064" data-line-end="2065">Key Operation: <code>flood_fill(grid, i, j)</code></li>
<li class="has-line-data" data-line-start="2065" data-line-end="2066">Common Error: Boundary checking</li>
<li class="has-line-data" data-line-start="2066" data-line-end="2068">Optimization: Direction array</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2068" data-line-end="2075">
<p class="has-line-data" data-line-start="2068" data-line-end="2069">Number of Islands II</p>
<ul>
<li class="has-line-data" data-line-start="2069" data-line-end="2070"><a href="https://leetcode.com/problems/number-of-islands-ii/">LeetCode: 305 - Number of Islands II</a> </li>
<li class="has-line-data" data-line-start="2070" data-line-end="2071">Builds on #5: Dynamic changes</li>
<li class="has-line-data" data-line-start="2071" data-line-end="2072">Key Difference: Online updates</li>
<li class="has-line-data" data-line-start="2072" data-line-end="2073">Common Error: Count tracking</li>
<li class="has-line-data" data-line-start="2073" data-line-end="2075">Optimization: Path compression</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2075" data-line-end="2082">
<p class="has-line-data" data-line-start="2075" data-line-end="2076">Making A Large Island</p>
<ul>
<li class="has-line-data" data-line-start="2076" data-line-end="2077"><a href="https://leetcode.com/problems/making-a-large-island/">LeetCode: 827 - Making A Large Island</a> </li>
<li class="has-line-data" data-line-start="2077" data-line-end="2078">Builds on #6: Size optimization</li>
<li class="has-line-data" data-line-start="2078" data-line-end="2079">Key Difference: Component merging</li>
<li class="has-line-data" data-line-start="2079" data-line-end="2080">Common Error: Border cells</li>
<li class="has-line-data" data-line-start="2080" data-line-end="2082">Optimization: Size caching</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2082" data-line-end="2089">
<p class="has-line-data" data-line-start="2082" data-line-end="2083">Minimum Days to Disconnect Island</p>
<ul>
<li class="has-line-data" data-line-start="2083" data-line-end="2084"><a href="https://leetcode.com/problems/minimum-number-of-days-to-disconnect-island/">LeetCode: 1568 - Minimum Number of Days to Disconnect Island</a> </li>
<li class="has-line-data" data-line-start="2084" data-line-end="2085">Builds on #7: Minimal cuts</li>
<li class="has-line-data" data-line-start="2085" data-line-end="2086">Key Difference: Optimization goal</li>
<li class="has-line-data" data-line-start="2086" data-line-end="2087">Common Error: Two-cell property</li>
<li class="has-line-data" data-line-start="2087" data-line-end="2089">Optimization: Early termination</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2089 data-line-end=2090 ><a id="Directed_Graph_Extensions_2089"></a>Directed Graph Extensions</h3>
<ol start="9">
<li class="has-line-data" data-line-start="2090" data-line-end="2097">
<p class="has-line-data" data-line-start="2090" data-line-end="2091">Find Eventual Safe States</p>
<ul>
<li class="has-line-data" data-line-start="2091" data-line-end="2092"><a href="https://leetcode.com/problems/find-eventual-safe-states/">LeetCode: 802 - Find Eventual Safe States</a> </li>
<li class="has-line-data" data-line-start="2092" data-line-end="2093">Base Pattern: Cycle detection</li>
<li class="has-line-data" data-line-start="2093" data-line-end="2094">Key Operation: <code>state[node] = UNSAFE</code></li>
<li class="has-line-data" data-line-start="2094" data-line-end="2095">Common Error: State tracking</li>
<li class="has-line-data" data-line-start="2095" data-line-end="2097">Optimization: Memoization</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2097" data-line-end="2104">
<p class="has-line-data" data-line-start="2097" data-line-end="2098">Redundant Connection II</p>
<ul>
<li class="has-line-data" data-line-start="2098" data-line-end="2099"><a href="https://leetcode.com/problems/redundant-connection-ii/">LeetCode: 685 - Redundant Connection II</a> </li>
<li class="has-line-data" data-line-start="2099" data-line-end="2100">Builds on #9: In-degree handling</li>
<li class="has-line-data" data-line-start="2100" data-line-end="2101">Key Difference: Parent constraints</li>
<li class="has-line-data" data-line-start="2101" data-line-end="2102">Common Error: Case separation</li>
<li class="has-line-data" data-line-start="2102" data-line-end="2104">Optimization: Early detection</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2104" data-line-end="2111">
<p class="has-line-data" data-line-start="2104" data-line-end="2105">Critical Pseudo-Critical Edges</p>
<ul>
<li class="has-line-data" data-line-start="2105" data-line-end="2106"><a href="https://leetcode.com/problems/find-critical-and-pseudo-critical-edges-in-minimum-spanning-tree/">LeetCode: 1489 - Find Critical and Pseudo-Critical Edges in MST</a> </li>
<li class="has-line-data" data-line-start="2106" data-line-end="2107">Builds on #10: Weight consideration</li>
<li class="has-line-data" data-line-start="2107" data-line-end="2108">Key Difference: MST properties</li>
<li class="has-line-data" data-line-start="2108" data-line-end="2109">Common Error: Edge classification</li>
<li class="has-line-data" data-line-start="2109" data-line-end="2111">Optimization: Kruskals modified</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2111" data-line-end="2117">
<p class="has-line-data" data-line-start="2111" data-line-end="2112">Minimize Malware Spread</p>
<ul>
<li class="has-line-data" data-line-start="2112" data-line-end="2113"><a href="https://leetcode.com/problems/minimize-malware-spread/">LeetCode: 924 - Minimize Malware Spread</a> </li>
<li class="has-line-data" data-line-start="2113" data-line-end="2114">Builds on #11: Component importance</li>
<li class="has-line-data" data-line-start="2114" data-line-end="2115">Key Difference: Size impact</li>
<li class="has-line-data" data-line-start="2115" data-line-end="2116">Common Error: Multiple sources</li>
<li class="has-line-data" data-line-start="2116" data-line-end="2117">Optimization: Component tracking</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2117 data-line-end=2118 ><a id="Advanced_Component_Analysis_2117"></a>Advanced Component Analysis</h3>
<ol start="13">
<li class="has-line-data" data-line-start="2118" data-line-end="2125">
<p class="has-line-data" data-line-start="2118" data-line-end="2119">Server Network Reliability</p>
<ul>
<li class="has-line-data" data-line-start="2119" data-line-end="2120"><a href="https://leetcode.com/problems/count-unreachable-pairs-of-nodes-in-an-undirected-graph/">LeetCode: 2316 - Count Unreachable Pairs of Nodes in an Undirected Graph</a> </li>
<li class="has-line-data" data-line-start="2120" data-line-end="2121">Builds on #12: Component pairs</li>
<li class="has-line-data" data-line-start="2121" data-line-end="2122">Key Difference: Pair counting</li>
<li class="has-line-data" data-line-start="2122" data-line-end="2123">Common Error: Size combinations</li>
<li class="has-line-data" data-line-start="2123" data-line-end="2125">Optimization: Running sum</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2125" data-line-end="2132">
<p class="has-line-data" data-line-start="2125" data-line-end="2126">Network Stability Score</p>
<ul>
<li class="has-line-data" data-line-start="2126" data-line-end="2127"><a href="https://leetcode.com/problems/maximum-score-of-a-node-sequence/">LeetCode: 2242 - Maximum Score of a Node Sequence</a> </li>
<li class="has-line-data" data-line-start="2127" data-line-end="2128">Builds on #13: Path scoring</li>
<li class="has-line-data" data-line-start="2128" data-line-end="2129">Key Difference: Value optimization</li>
<li class="has-line-data" data-line-start="2129" data-line-end="2130">Common Error: Path validation</li>
<li class="has-line-data" data-line-start="2130" data-line-end="2132">Optimization: Priority-based selection</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2132" data-line-end="2139">
<p class="has-line-data" data-line-start="2132" data-line-end="2133">Strongly Connected Components</p>
<ul>
<li class="has-line-data" data-line-start="2133" data-line-end="2134"><a href="https://leetcode.com/problems/critical-connections-in-a-network/">LeetCode: 1192 - Critical Connections in a Network</a> </li>
<li class="has-line-data" data-line-start="2134" data-line-end="2135">Builds on #14: Directed components</li>
<li class="has-line-data" data-line-start="2135" data-line-end="2136">Key Difference: Two-pass algorithm</li>
<li class="has-line-data" data-line-start="2136" data-line-end="2137">Common Error: Component tracking</li>
<li class="has-line-data" data-line-start="2137" data-line-end="2139">Optimization: Stack usage</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2139 data-line-end=2140 ><a id="Dynamic_Network_Modifications_2139"></a>Dynamic Network Modifications</h3>
<ol start="16">
<li class="has-line-data" data-line-start="2140" data-line-end="2147">
<p class="has-line-data" data-line-start="2140" data-line-end="2141">Remove Max Number of Edges</p>
<ul>
<li class="has-line-data" data-line-start="2141" data-line-end="2142"><a href="https://leetcode.com/problems/remove-max-number-of-edges-to-keep-graph-fully-traversable/">LeetCode: 1579 - Remove Max Number of Edges to Keep Graph Fully Traversable</a> </li>
<li class="has-line-data" data-line-start="2142" data-line-end="2143">Base Pattern: Edge removal</li>
<li class="has-line-data" data-line-start="2143" data-line-end="2144">Key Operation: <code>redundant_edge_check()</code></li>
<li class="has-line-data" data-line-start="2144" data-line-end="2145">Common Error: Connectivity preservation</li>
<li class="has-line-data" data-line-start="2145" data-line-end="2147">Optimization: Type prioritization</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2147" data-line-end="2154">
<p class="has-line-data" data-line-start="2147" data-line-end="2148">Reachable Nodes After Removal</p>
<ul>
<li class="has-line-data" data-line-start="2148" data-line-end="2149"><a href="https://leetcode.com/problems/reachable-nodes-with-restrictions/">LeetCode: 2368 - Reachable Nodes With Restrictions</a> </li>
<li class="has-line-data" data-line-start="2149" data-line-end="2150">Builds on #16: Node restrictions</li>
<li class="has-line-data" data-line-start="2150" data-line-end="2151">Key Difference: Forbidden nodes</li>
<li class="has-line-data" data-line-start="2151" data-line-end="2152">Common Error: Visit tracking</li>
<li class="has-line-data" data-line-start="2152" data-line-end="2154">Optimization: Set-based checking</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2154" data-line-end="2161">
<p class="has-line-data" data-line-start="2154" data-line-end="2155">Critical and Pseudo-Critical Edges</p>
<ul>
<li class="has-line-data" data-line-start="2155" data-line-end="2156"><a href="https://leetcode.com/problems/find-critical-and-pseudo-critical-edges-in-minimum-spanning-tree/">LeetCode: 1489 - Find Critical and Pseudo-Critical Edges in MST</a> </li>
<li class="has-line-data" data-line-start="2156" data-line-end="2157">Builds on #17: Edge classification</li>
<li class="has-line-data" data-line-start="2157" data-line-end="2158">Key Difference: MST variations</li>
<li class="has-line-data" data-line-start="2158" data-line-end="2159">Common Error: Edge ordering</li>
<li class="has-line-data" data-line-start="2159" data-line-end="2161">Optimization: Skip redundant checks</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2161 data-line-end=2162 ><a id="Multilayer_Analysis_2161"></a>Multi-layer Analysis</h3>
<ol start="19">
<li class="has-line-data" data-line-start="2162" data-line-end="2169">
<p class="has-line-data" data-line-start="2162" data-line-end="2163">Hierarchical Network Components</p>
<ul>
<li class="has-line-data" data-line-start="2163" data-line-end="2164"><a href="https://leetcode.com/problems/count-subtrees-with-max-distance-between-cities/">LeetCode: 1617 - Count Subtrees With Max Distance Between Cities</a> </li>
<li class="has-line-data" data-line-start="2164" data-line-end="2165">Base Pattern: Tree components</li>
<li class="has-line-data" data-line-start="2165" data-line-end="2166">Key Operation: <code>max_distance_in_subtree()</code></li>
<li class="has-line-data" data-line-start="2166" data-line-end="2167">Common Error: Distance calculation</li>
<li class="has-line-data" data-line-start="2167" data-line-end="2169">Optimization: Bit manipulation</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2169" data-line-end="2176">
<p class="has-line-data" data-line-start="2169" data-line-end="2170">Network Layer Optimization</p>
<ul>
<li class="has-line-data" data-line-start="2170" data-line-end="2171"><a href="https://leetcode.com/problems/count-pairs-of-nodes/">LeetCode: 1782 - Count Pairs Of Nodes</a> </li>
<li class="has-line-data" data-line-start="2171" data-line-end="2172">Builds on #19: Layer constraints</li>
<li class="has-line-data" data-line-start="2172" data-line-end="2173">Key Difference: Multi-criteria</li>
<li class="has-line-data" data-line-start="2173" data-line-end="2174">Common Error: Edge weight handling</li>
<li class="has-line-data" data-line-start="2174" data-line-end="2176">Optimization: Two-pointer technique</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2176 data-line-end=2177 ><a id="Implementation_Guidelines_2176"></a>Implementation Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="2178" data-line-end="2179">Basic Articulation Points Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="2180" data-line-end="2212" class="language-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find_articulation_points</span><span class="hljs-params">(graph)</span>:</span>
    n = len(graph)
    disc = [-<span class="hljs-number">1</span>] * n
    low = [-<span class="hljs-number">1</span>] * n
    articulation = [<span class="hljs-keyword">False</span>] * n
    time = [<span class="hljs-number">0</span>]  <span class="hljs-comment"># Mutable time reference</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dfs</span><span class="hljs-params">(u, parent)</span>:</span>
        children = <span class="hljs-number">0</span>
        disc[u] = low[u] = time[<span class="hljs-number">0</span>]
        time[<span class="hljs-number">0</span>] += <span class="hljs-number">1</span>
        
        <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> graph[u]:
            <span class="hljs-keyword">if</span> disc[v] == -<span class="hljs-number">1</span>:  <span class="hljs-comment"># Unvisited</span>
                children += <span class="hljs-number">1</span>
                dfs(v, u)
                low[u] = min(low[u], low[v])
                
                <span class="hljs-comment"># Articulation point conditions</span>
                <span class="hljs-keyword">if</span> parent == -<span class="hljs-number">1</span> <span class="hljs-keyword">and</span> children &gt; <span class="hljs-number">1</span>:
                    articulation[u] = <span class="hljs-keyword">True</span>
                <span class="hljs-keyword">if</span> parent != -<span class="hljs-number">1</span> <span class="hljs-keyword">and</span> low[v] &gt;= disc[u]:
                    articulation[u] = <span class="hljs-keyword">True</span>
            <span class="hljs-keyword">elif</span> v != parent:  <span class="hljs-comment"># Back edge</span>
                low[u] = min(low[u], disc[v])
    
    <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> range(n):
        <span class="hljs-keyword">if</span> disc[u] == -<span class="hljs-number">1</span>:
            dfs(u, -<span class="hljs-number">1</span>)
            
    <span class="hljs-keyword">return</span> articulation
</code></pre>
<ol start="2">
<li class="has-line-data" data-line-start="2213" data-line-end="2214">Bridge Finding Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="2215" data-line-end="2245" class="language-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find_bridges</span><span class="hljs-params">(n, edges)</span>:</span>
    graph = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(n)]
    <span class="hljs-keyword">for</span> u, v <span class="hljs-keyword">in</span> edges:
        graph[u].append(v)
        graph[v].append(u)
        
    disc = [-<span class="hljs-number">1</span>] * n
    low = [-<span class="hljs-number">1</span>] * n
    time = [<span class="hljs-number">0</span>]
    bridges = []
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dfs</span><span class="hljs-params">(u, parent)</span>:</span>
        disc[u] = low[u] = time[<span class="hljs-number">0</span>]
        time[<span class="hljs-number">0</span>] += <span class="hljs-number">1</span>
        
        <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> graph[u]:
            <span class="hljs-keyword">if</span> disc[v] == -<span class="hljs-number">1</span>:
                dfs(v, u)
                low[u] = min(low[u], low[v])
                <span class="hljs-keyword">if</span> low[v] &gt; disc[u]:
                    bridges.append([u, v])
            <span class="hljs-keyword">elif</span> v != parent:
                low[u] = min(low[u], disc[v])
    
    <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> range(n):
        <span class="hljs-keyword">if</span> disc[u] == -<span class="hljs-number">1</span>:
            dfs(u, -<span class="hljs-number">1</span>)
            
    <span class="hljs-keyword">return</span> bridges
</code></pre>
<ol start="3">
<li class="has-line-data" data-line-start="2246" data-line-end="2247">Component Size Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="2248" data-line-end="2270" class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UnionFind</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, n)</span>:</span>
        self.parent = list(range(n))
        self.size = [<span class="hljs-number">1</span>] * n
        self.count = n
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find</span><span class="hljs-params">(self, x)</span>:</span>
        <span class="hljs-keyword">if</span> self.parent[x] != x:
            self.parent[x] = self.find(self.parent[x])
        <span class="hljs-keyword">return</span> self.parent[x]
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">union</span><span class="hljs-params">(self, x, y)</span>:</span>
        px, py = self.find(x), self.find(y)
        <span class="hljs-keyword">if</span> px == py:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">False</span>
        <span class="hljs-keyword">if</span> self.size[px] &lt; self.size[py]:
            px, py = py, px
        self.parent[py] = px
        self.size[px] += self.size[py]
        self.count -= <span class="hljs-number">1</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">True</span>
</code></pre>
<h3 class="code-line" data-line-start=2271 data-line-end=2272 ><a id="Optimization_Guidelines_2271"></a>Optimization Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="2273" data-line-end="2280">
<p class="has-line-data" data-line-start="2273" data-line-end="2274">Time Complexity Optimization:</p>
<ul>
<li class="has-line-data" data-line-start="2274" data-line-end="2275">Use Union-Find for dynamic connectivity</li>
<li class="has-line-data" data-line-start="2275" data-line-end="2276">Implement path compression</li>
<li class="has-line-data" data-line-start="2276" data-line-end="2277">Use DFS with pruning</li>
<li class="has-line-data" data-line-start="2277" data-line-end="2278">Cache component sizes</li>
<li class="has-line-data" data-line-start="2278" data-line-end="2280">Early termination checks</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2280" data-line-end="2287">
<p class="has-line-data" data-line-start="2280" data-line-end="2281">Memory Optimization:</p>
<ul>
<li class="has-line-data" data-line-start="2281" data-line-end="2282">Reuse arrays when possible</li>
<li class="has-line-data" data-line-start="2282" data-line-end="2283">Use adjacency lists over matrices</li>
<li class="has-line-data" data-line-start="2283" data-line-end="2284">Implement iterative over recursive</li>
<li class="has-line-data" data-line-start="2284" data-line-end="2285">Clear visited states between runs</li>
<li class="has-line-data" data-line-start="2285" data-line-end="2287">Bit manipulation for small graphs</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2287" data-line-end="2294">
<p class="has-line-data" data-line-start="2287" data-line-end="2288">Special Case Handling:</p>
<ul>
<li class="has-line-data" data-line-start="2288" data-line-end="2289">Check for disconnected components</li>
<li class="has-line-data" data-line-start="2289" data-line-end="2290">Handle self-loops carefully</li>
<li class="has-line-data" data-line-start="2290" data-line-end="2291">Process parallel edges</li>
<li class="has-line-data" data-line-start="2291" data-line-end="2292">Consider directed vs undirected</li>
<li class="has-line-data" data-line-start="2292" data-line-end="2294">Verify node numbering</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2294" data-line-end="2301">
<p class="has-line-data" data-line-start="2294" data-line-end="2295">Common Pitfalls:</p>
<ul>
<li class="has-line-data" data-line-start="2295" data-line-end="2296">Missing root node cases</li>
<li class="has-line-data" data-line-start="2296" data-line-end="2297">Incorrect parent tracking</li>
<li class="has-line-data" data-line-start="2297" data-line-end="2298">Wrong low-value updates</li>
<li class="has-line-data" data-line-start="2298" data-line-end="2299">Incomplete component merging</li>
<li class="has-line-data" data-line-start="2299" data-line-end="2301">Invalid bridge detection</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2301" data-line-end="2307">
<p class="has-line-data" data-line-start="2301" data-line-end="2302">Testing Strategies:</p>
<ul>
<li class="has-line-data" data-line-start="2302" data-line-end="2303">Test with single node</li>
<li class="has-line-data" data-line-start="2303" data-line-end="2304">Test with complete graphs</li>
<li class="has-line-data" data-line-start="2304" data-line-end="2305">Test with line graphs</li>
<li class="has-line-data" data-line-start="2305" data-line-end="2306">Test with cycles</li>
<li class="has-line-data" data-line-start="2306" data-line-end="2307">Test with disconnected components</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=2310 data-line-end=2311 ><a id="Pattern_10_Segment_Tree_Pattern_2310"></a>Pattern 10: Segment Tree Pattern</h2>
<h3 class="code-line" data-line-start=2312 data-line-end=2313 ><a id="Basic_Segment_Tree_Operations_2312"></a>Basic Segment Tree Operations</h3>
<ol>
<li class="has-line-data" data-line-start="2313" data-line-end="2319">
<p class="has-line-data" data-line-start="2313" data-line-end="2314">Range Minimum Query</p>
<ul>
<li class="has-line-data" data-line-start="2314" data-line-end="2315"><a href="https://leetcode.com/problems/online-majority-element-in-subarray/">LeetCode: 1157 - Online Majority Element In Subarray</a>  Hard</li>
<li class="has-line-data" data-line-start="2315" data-line-end="2316">Basic segment tree implementation</li>
<li class="has-line-data" data-line-start="2316" data-line-end="2317">Progression: Introduces efficient range-based querying</li>
<li class="has-line-data" data-line-start="2317" data-line-end="2319">Core Difference: Focuses on finding minimum value in a given range</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2319" data-line-end="2325">
<p class="has-line-data" data-line-start="2319" data-line-end="2320">Range Maximum Query</p>
<ul>
<li class="has-line-data" data-line-start="2320" data-line-end="2321"><a href="https://www.geeksforgeeks.org/segment-tree-set-1-range-minimum-query/">GeeksForGeeks: Range Maximum Query</a>  Medium</li>
<li class="has-line-data" data-line-start="2321" data-line-end="2322">Differs by changing min to max</li>
<li class="has-line-data" data-line-start="2322" data-line-end="2323">Progression: Adapts minimum query logic to maximum</li>
<li class="has-line-data" data-line-start="2323" data-line-end="2325">Core Difference: Requires adjusting comparison operations in the tree</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2325" data-line-end="2331">
<p class="has-line-data" data-line-start="2325" data-line-end="2326">Range Sum Query</p>
<ul>
<li class="has-line-data" data-line-start="2326" data-line-end="2327"><a href="https://leetcode.com/problems/range-sum-query-mutable/">LeetCode: 307 - Range Sum Query - Mutable</a>  Medium</li>
<li class="has-line-data" data-line-start="2327" data-line-end="2328">Differs by changing min to sum</li>
<li class="has-line-data" data-line-start="2328" data-line-end="2329">Progression: Extends from single value to cumulative operations</li>
<li class="has-line-data" data-line-start="2329" data-line-end="2331">Core Difference: Requires efficient update propagation for sums</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2331" data-line-end="2337">
<p class="has-line-data" data-line-start="2331" data-line-end="2332">Range Product Query</p>
<ul>
<li class="has-line-data" data-line-start="2332" data-line-end="2333"><a href="https://example.com/range-product-query">Custom: Range Product Query</a>  Medium</li>
<li class="has-line-data" data-line-start="2333" data-line-end="2334">Differs by changing sum to product</li>
<li class="has-line-data" data-line-start="2334" data-line-end="2335">Progression: Introduces multiplicative operations in ranges</li>
<li class="has-line-data" data-line-start="2335" data-line-end="2337">Core Difference: Handles potential overflow issues with products</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2337 data-line-end=2338 ><a id="Lazy_Propagation_2337"></a>Lazy Propagation</h3>
<ol start="5">
<li class="has-line-data" data-line-start="2338" data-line-end="2344">
<p class="has-line-data" data-line-start="2338" data-line-end="2339">Range Update Operation</p>
<ul>
<li class="has-line-data" data-line-start="2339" data-line-end="2340"><a href="https://www.geeksforgeeks.org/lazy-propagation-in-segment-tree/">GeeksForGeeks: Lazy Propagation in Segment Tree</a>  Hard</li>
<li class="has-line-data" data-line-start="2340" data-line-end="2341">Basic lazy propagation</li>
<li class="has-line-data" data-line-start="2341" data-line-end="2342">Progression: Introduces concept of deferred updates</li>
<li class="has-line-data" data-line-start="2342" data-line-end="2344">Core Difference: Optimizes multiple updates by delaying propagation</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2344" data-line-end="2350">
<p class="has-line-data" data-line-start="2344" data-line-end="2345">Range Addition Query</p>
<ul>
<li class="has-line-data" data-line-start="2345" data-line-end="2346"><a href="https://leetcode.com/problems/range-addition/">LeetCode: 370 - Range Addition</a>  Medium</li>
<li class="has-line-data" data-line-start="2346" data-line-end="2347">Differs by handling range additions</li>
<li class="has-line-data" data-line-start="2347" data-line-end="2348">Progression: Applies lazy propagation to additive updates</li>
<li class="has-line-data" data-line-start="2348" data-line-end="2350">Core Difference: Efficiently handles bulk modifications to ranges</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2350" data-line-end="2356">
<p class="has-line-data" data-line-start="2350" data-line-end="2351">Range Multiplication Query</p>
<ul>
<li class="has-line-data" data-line-start="2351" data-line-end="2352"><a href="https://example.com/range-multiplication-query">Custom: Range Multiplication Query</a>  Hard</li>
<li class="has-line-data" data-line-start="2352" data-line-end="2353">Extends range operations to multiplication</li>
<li class="has-line-data" data-line-start="2353" data-line-end="2354">Progression: Adapts lazy propagation for multiplicative updates</li>
<li class="has-line-data" data-line-start="2354" data-line-end="2356">Core Difference: Requires careful handling of identity elements and zero values</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2356" data-line-end="2362">
<p class="has-line-data" data-line-start="2356" data-line-end="2357">Range XOR Query</p>
<ul>
<li class="has-line-data" data-line-start="2357" data-line-end="2358"><a href="https://leetcode.com/problems/xor-queries-of-a-subarray/">LeetCode: 1310 - XOR Queries of a Subarray</a>  Medium</li>
<li class="has-line-data" data-line-start="2358" data-line-end="2359">Differs by using XOR operation</li>
<li class="has-line-data" data-line-start="2359" data-line-end="2360">Progression: Applies segment tree to bitwise operations</li>
<li class="has-line-data" data-line-start="2360" data-line-end="2362">Core Difference: Leverages XOR properties for efficient range updates</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2362 data-line-end=2363 ><a id="Advanced_Range_Operations_2362"></a>Advanced Range Operations</h3>
<ol start="9">
<li class="has-line-data" data-line-start="2363" data-line-end="2369">
<p class="has-line-data" data-line-start="2363" data-line-end="2364">Count of Range Sum</p>
<ul>
<li class="has-line-data" data-line-start="2364" data-line-end="2365"><a href="https://leetcode.com/problems/count-of-range-sum/">LeetCode: 327 - Count of Range Sum</a>  Hard</li>
<li class="has-line-data" data-line-start="2365" data-line-end="2366">Counting within range</li>
<li class="has-line-data" data-line-start="2366" data-line-end="2367">Progression: Introduces counting queries in segment trees</li>
<li class="has-line-data" data-line-start="2367" data-line-end="2369">Core Difference: Combines range sums with counting operations</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2369" data-line-end="2375">
<p class="has-line-data" data-line-start="2369" data-line-end="2370">Range Bitwise AND</p>
<ul>
<li class="has-line-data" data-line-start="2370" data-line-end="2371"><a href="https://leetcode.com/problems/bitwise-and-of-numbers-range/">LeetCode: 201 - Bitwise AND of Numbers Range</a>  Medium</li>
<li class="has-line-data" data-line-start="2371" data-line-end="2372">Applying bitwise operations</li>
<li class="has-line-data" data-line-start="2372" data-line-end="2373">Progression: Extends bitwise operations to ranges</li>
<li class="has-line-data" data-line-start="2373" data-line-end="2375">Core Difference: Requires understanding of AND behavior over ranges</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2375" data-line-end="2381">
<p class="has-line-data" data-line-start="2375" data-line-end="2376">Range Frequency Query</p>
<ul>
<li class="has-line-data" data-line-start="2376" data-line-end="2377"><a href="https://leetcode.com/problems/range-frequency-queries/">LeetCode: 2080 - Range Frequency Queries</a>  Medium</li>
<li class="has-line-data" data-line-start="2377" data-line-end="2378">Tracking element frequency</li>
<li class="has-line-data" data-line-start="2378" data-line-end="2379">Progression: Introduces frequency tracking in ranges</li>
<li class="has-line-data" data-line-start="2379" data-line-end="2381">Core Difference: Combines counting with specific element queries</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2381" data-line-end="2387">
<p class="has-line-data" data-line-start="2381" data-line-end="2382">Range Mode Query</p>
<ul>
<li class="has-line-data" data-line-start="2382" data-line-end="2383"><a href="https://example.com/range-mode-query">Custom: Range Mode Query</a>  Hard</li>
<li class="has-line-data" data-line-start="2383" data-line-end="2384">Finding most frequent element</li>
<li class="has-line-data" data-line-start="2384" data-line-end="2385">Progression: Extends frequency queries to mode finding</li>
<li class="has-line-data" data-line-start="2385" data-line-end="2387">Core Difference: Requires efficient updates to frequency counts and mode identification</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2387 data-line-end=2388 ><a id="2D_Applications_2387"></a>2D Applications</h3>
<ol start="13">
<li class="has-line-data" data-line-start="2388" data-line-end="2394">
<p class="has-line-data" data-line-start="2388" data-line-end="2389">2D Range Sum Query</p>
<ul>
<li class="has-line-data" data-line-start="2389" data-line-end="2390"><a href="https://leetcode.com/problems/range-sum-query-2d-immutable/">LeetCode: 304 - Range Sum Query 2D - Immutable</a>  Medium</li>
<li class="has-line-data" data-line-start="2390" data-line-end="2391">Extending to 2D space</li>
<li class="has-line-data" data-line-start="2391" data-line-end="2392">Progression: Applies segment tree concept to two dimensions</li>
<li class="has-line-data" data-line-start="2392" data-line-end="2394">Core Difference: Requires efficient handling of rectangular regions</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2394" data-line-end="2400">
<p class="has-line-data" data-line-start="2394" data-line-end="2395">2D Range Minimum Query</p>
<ul>
<li class="has-line-data" data-line-start="2395" data-line-end="2396"><a href="https://www.geeksforgeeks.org/two-dimensional-segment-tree-sub-matrix-sum/">GeeksForGeeks: 2D Range Minimum Query</a>  Hard</li>
<li class="has-line-data" data-line-start="2396" data-line-end="2397">2D version of problem #1</li>
<li class="has-line-data" data-line-start="2397" data-line-end="2398">Progression: Adapts minimum query to two-dimensional data</li>
<li class="has-line-data" data-line-start="2398" data-line-end="2400">Core Difference: Combines row and column operations for 2D regions</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2400" data-line-end="2406">
<p class="has-line-data" data-line-start="2400" data-line-end="2401">Matrix Block Sum</p>
<ul>
<li class="has-line-data" data-line-start="2401" data-line-end="2402"><a href="https://leetcode.com/problems/matrix-block-sum/">LeetCode: 1314 - Matrix Block Sum</a>  Medium</li>
<li class="has-line-data" data-line-start="2402" data-line-end="2403">Block-based range operations</li>
<li class="has-line-data" data-line-start="2403" data-line-end="2404">Progression: Introduces fixed-size block queries in 2D</li>
<li class="has-line-data" data-line-start="2404" data-line-end="2406">Core Difference: Optimizes for repeated queries of same-sized blocks</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2406" data-line-end="2412">
<p class="has-line-data" data-line-start="2406" data-line-end="2407">Rectangle Area Sum</p>
<ul>
<li class="has-line-data" data-line-start="2407" data-line-end="2408"><a href="https://example.com/rectangle-area-sum">Custom: Rectangle Area Sum</a>  Hard</li>
<li class="has-line-data" data-line-start="2408" data-line-end="2409">Optimized 2D range sums</li>
<li class="has-line-data" data-line-start="2409" data-line-end="2410">Progression: Extends 2D sum queries to arbitrary rectangles</li>
<li class="has-line-data" data-line-start="2410" data-line-end="2412">Core Difference: Requires efficient preprocessing for quick rectangular area calculations</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2412 data-line-end=2413 ><a id="Special_Applications_2412"></a>Special Applications</h3>
<ol start="17">
<li class="has-line-data" data-line-start="2413" data-line-end="2419">
<p class="has-line-data" data-line-start="2413" data-line-end="2414">Sliding Window Maximum</p>
<ul>
<li class="has-line-data" data-line-start="2414" data-line-end="2415"><a href="https://leetcode.com/problems/sliding-window-maximum/">LeetCode: 239 - Sliding Window Maximum</a>  Hard</li>
<li class="has-line-data" data-line-start="2415" data-line-end="2416">Dynamic range maximum</li>
<li class="has-line-data" data-line-start="2416" data-line-end="2417">Progression: Applies segment tree to sliding window problems</li>
<li class="has-line-data" data-line-start="2417" data-line-end="2419">Core Difference: Requires efficient updates as the window moves</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2419" data-line-end="2425">
<p class="has-line-data" data-line-start="2419" data-line-end="2420">Count of Smaller Numbers After Self</p>
<ul>
<li class="has-line-data" data-line-start="2420" data-line-end="2421"><a href="https://leetcode.com/problems/count-of-smaller-numbers-after-self/">LeetCode: 315 - Count of Smaller Numbers After Self</a>  Hard</li>
<li class="has-line-data" data-line-start="2421" data-line-end="2422">Range counting with updates</li>
<li class="has-line-data" data-line-start="2422" data-line-end="2423">Progression: Combines counting with dynamic insertions</li>
<li class="has-line-data" data-line-start="2423" data-line-end="2425">Core Difference: Requires maintaining sorted order during insertions</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2425" data-line-end="2431">
<p class="has-line-data" data-line-start="2425" data-line-end="2426">Range Sum with Updates</p>
<ul>
<li class="has-line-data" data-line-start="2426" data-line-end="2427"><a href="https://leetcode.com/problems/range-sum-query-mutable/">LeetCode: 307 - Range Sum Query - Mutable</a>  Medium</li>
<li class="has-line-data" data-line-start="2427" data-line-end="2428">Handling dynamic updates</li>
<li class="has-line-data" data-line-start="2428" data-line-end="2429">Progression: Introduces mutable elements in range queries</li>
<li class="has-line-data" data-line-start="2429" data-line-end="2431">Core Difference: Balances between query efficiency and update speed</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2431" data-line-end="2436">
<p class="has-line-data" data-line-start="2431" data-line-end="2432">Range Query with Multiple Operations</p>
<ul>
<li class="has-line-data" data-line-start="2432" data-line-end="2433"><a href="https://example.com/multi-op-range-query">Custom: Range Query with Multiple Operations</a>  Hard</li>
<li class="has-line-data" data-line-start="2433" data-line-end="2434">Combining different operations</li>
<li class="has-line-data" data-line-start="2434" data-line-end="2435">Progression: Integrates various range operations in a single structure</li>
<li class="has-line-data" data-line-start="2435" data-line-end="2436">Core Difference: Requires flexible tree structure to handle diverse query types</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2439 data-line-end=2440 ><a id="Implementation_Templates_2439"></a>Implementation Templates</h3>
<ol>
<li class="has-line-data" data-line-start="2440" data-line-end="2441">Basic Segment Tree Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="2442" data-line-end="2478" class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SegmentTree</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, arr)</span>:</span>
        self.n = len(arr)
        self.tree = [<span class="hljs-number">0</span>] * (<span class="hljs-number">4</span> * self.n)
        self.build(arr, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, self.n - <span class="hljs-number">1</span>)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">build</span><span class="hljs-params">(self, arr, node, start, end)</span>:</span>
        <span class="hljs-keyword">if</span> start == end:
            self.tree[node] = arr[start]
            <span class="hljs-keyword">return</span>
        mid = (start + end) // <span class="hljs-number">2</span>
        self.build(arr, <span class="hljs-number">2</span>*node+<span class="hljs-number">1</span>, start, mid)
        self.build(arr, <span class="hljs-number">2</span>*node+<span class="hljs-number">2</span>, mid+<span class="hljs-number">1</span>, end)
        self.tree[node] = self.tree[<span class="hljs-number">2</span>*node+<span class="hljs-number">1</span>] + self.tree[<span class="hljs-number">2</span>*node+<span class="hljs-number">2</span>]
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update</span><span class="hljs-params">(self, node, start, end, index, value)</span>:</span>
        <span class="hljs-keyword">if</span> start == end:
            self.tree[node] = value
            <span class="hljs-keyword">return</span>
        mid = (start + end) // <span class="hljs-number">2</span>
        <span class="hljs-keyword">if</span> index &lt;= mid:
            self.update(<span class="hljs-number">2</span>*node+<span class="hljs-number">1</span>, start, mid, index, value)
        <span class="hljs-keyword">else</span>:
            self.update(<span class="hljs-number">2</span>*node+<span class="hljs-number">2</span>, mid+<span class="hljs-number">1</span>, end, index, value)
        self.tree[node] = self.tree[<span class="hljs-number">2</span>*node+<span class="hljs-number">1</span>] + self.tree[<span class="hljs-number">2</span>*node+<span class="hljs-number">2</span>]
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">query</span><span class="hljs-params">(self, node, start, end, l, r)</span>:</span>
        <span class="hljs-keyword">if</span> r &lt; start <span class="hljs-keyword">or</span> end &lt; l:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
        <span class="hljs-keyword">if</span> l &lt;= start <span class="hljs-keyword">and</span> end &lt;= r:
            <span class="hljs-keyword">return</span> self.tree[node]
        mid = (start + end) // <span class="hljs-number">2</span>
        left_sum = self.query(<span class="hljs-number">2</span>*node+<span class="hljs-number">1</span>, start, mid, l, r)
        right_sum = self.query(<span class="hljs-number">2</span>*node+<span class="hljs-number">2</span>, mid+<span class="hljs-number">1</span>, end, l, r)
        <span class="hljs-keyword">return</span> left_sum + right_sum
</code></pre>
<ol start="2">
<li class="has-line-data" data-line-start="2479" data-line-end="2480">Lazy Propagation Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="2481" data-line-end="2529" class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LazySegmentTree</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, arr)</span>:</span>
        self.n = len(arr)
        self.tree = [<span class="hljs-number">0</span>] * (<span class="hljs-number">4</span> * self.n)
        self.lazy = [<span class="hljs-number">0</span>] * (<span class="hljs-number">4</span> * self.n)
        self.build(arr, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, self.n - <span class="hljs-number">1</span>)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">build</span><span class="hljs-params">(self, arr, node, start, end)</span>:</span>
        <span class="hljs-keyword">if</span> start == end:
            self.tree[node] = arr[start]
            <span class="hljs-keyword">return</span>
        mid = (start + end) // <span class="hljs-number">2</span>
        self.build(arr, <span class="hljs-number">2</span>*node+<span class="hljs-number">1</span>, start, mid)
        self.build(arr, <span class="hljs-number">2</span>*node+<span class="hljs-number">2</span>, mid+<span class="hljs-number">1</span>, end)
        self.tree[node] = self.tree[<span class="hljs-number">2</span>*node+<span class="hljs-number">1</span>] + self.tree[<span class="hljs-number">2</span>*node+<span class="hljs-number">2</span>]
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">propagate</span><span class="hljs-params">(self, node, start, end)</span>:</span>
        <span class="hljs-keyword">if</span> self.lazy[node] != <span class="hljs-number">0</span>:
            self.tree[node] += (end - start + <span class="hljs-number">1</span>) * self.lazy[node]
            <span class="hljs-keyword">if</span> start != end:
                self.lazy[<span class="hljs-number">2</span>*node+<span class="hljs-number">1</span>] += self.lazy[node]
                self.lazy[<span class="hljs-number">2</span>*node+<span class="hljs-number">2</span>] += self.lazy[node]
            self.lazy[node] = <span class="hljs-number">0</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_range</span><span class="hljs-params">(self, node, start, end, l, r, value)</span>:</span>
        self.propagate(node, start, end)
        <span class="hljs-keyword">if</span> r &lt; start <span class="hljs-keyword">or</span> end &lt; l:
            <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">if</span> l &lt;= start <span class="hljs-keyword">and</span> end &lt;= r:
            self.lazy[node] += value
            self.propagate(node, start, end)
            <span class="hljs-keyword">return</span>
        mid = (start + end) // <span class="hljs-number">2</span>
        self.update_range(<span class="hljs-number">2</span>*node+<span class="hljs-number">1</span>, start, mid, l, r, value)
        self.update_range(<span class="hljs-number">2</span>*node+<span class="hljs-number">2</span>, mid+<span class="hljs-number">1</span>, end, l, r, value)
        self.tree[node] = self.tree[<span class="hljs-number">2</span>*node+<span class="hljs-number">1</span>] + self.tree[<span class="hljs-number">2</span>*node+<span class="hljs-number">2</span>]
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">query_range</span><span class="hljs-params">(self, node, start, end, l, r)</span>:</span>
        self.propagate(node, start, end)
        <span class="hljs-keyword">if</span> r &lt; start <span class="hljs-keyword">or</span> end &lt; l:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
        <span class="hljs-keyword">if</span> l &lt;= start <span class="hljs-keyword">and</span> end &lt;= r:
            <span class="hljs-keyword">return</span> self.tree[node]
        mid = (start + end) // <span class="hljs-number">2</span>
        left_sum = self.query_range(<span class="hljs-number">2</span>*node+<span class="hljs-number">1</span>, start, mid, l, r)
        right_sum = self.query_range(<span class="hljs-number">2</span>*node+<span class="hljs-number">2</span>, mid+<span class="hljs-number">1</span>, end, l, r)
        <span class="hljs-keyword">return</span> left_sum + right_sum
</code></pre>
<h3 class="code-line" data-line-start=2529 data-line-end=2530 ><a id="Optimization_Guidelines_2529"></a>Optimization Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="2531" data-line-end="2536">
<p class="has-line-data" data-line-start="2531" data-line-end="2532">Memory Optimization:</p>
<ul>
<li class="has-line-data" data-line-start="2532" data-line-end="2533">Use array-based implementation instead of nodes for better cache locality</li>
<li class="has-line-data" data-line-start="2533" data-line-end="2534">Implement memory pooling for dynamic segment trees</li>
<li class="has-line-data" data-line-start="2534" data-line-end="2536">Use sparse segment trees for large ranges with few updates</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2536" data-line-end="2541">
<p class="has-line-data" data-line-start="2536" data-line-end="2537">Query Optimization:</p>
<ul>
<li class="has-line-data" data-line-start="2537" data-line-end="2538">Implement binary search on segment tree for more complex queries</li>
<li class="has-line-data" data-line-start="2538" data-line-end="2539">Use fractional cascading for faster multi-level queries</li>
<li class="has-line-data" data-line-start="2539" data-line-end="2541">Implement parallel queries for independent ranges</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2541" data-line-end="2546">
<p class="has-line-data" data-line-start="2541" data-line-end="2542">Update Optimization:</p>
<ul>
<li class="has-line-data" data-line-start="2542" data-line-end="2543">Use lazy propagation for range updates</li>
<li class="has-line-data" data-line-start="2543" data-line-end="2544">Implement batch updates for multiple changes</li>
<li class="has-line-data" data-line-start="2544" data-line-end="2546">Use delta encoding for incremental updates</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2546 data-line-end=2547 ><a id="Common_Pitfalls_2546"></a>Common Pitfalls</h3>
<ol>
<li class="has-line-data" data-line-start="2547" data-line-end="2548">Off-by-one errors in range calculations</li>
<li class="has-line-data" data-line-start="2548" data-line-end="2549">Forgetting to propagate lazy values</li>
<li class="has-line-data" data-line-start="2549" data-line-end="2550">Integer overflow in large sum calculations</li>
<li class="has-line-data" data-line-start="2550" data-line-end="2551">Incorrect merging of node values for non-commutative operations</li>
<li class="has-line-data" data-line-start="2551" data-line-end="2553">Inefficient recursion leading to stack overflow for deep trees</li>
</ol>
<h3 class="code-line" data-line-start=2553 data-line-end=2554 ><a id="Additional_Notes_2553"></a>Additional Notes</h3>
<ul>
<li class="has-line-data" data-line-start="2554" data-line-end="2555">Consider using persistent segment trees for version control</li>
<li class="has-line-data" data-line-start="2555" data-line-end="2556">Implement 2D segment trees for matrix-based problems</li>
<li class="has-line-data" data-line-start="2556" data-line-end="2557">Use segment trees with fractional cascading for faster lower_bound/upper_bound queries</li>
<li class="has-line-data" data-line-start="2557" data-line-end="2558">Implement dynamic segment trees for problems with insertions/deletions</li>
<li class="has-line-data" data-line-start="2558" data-line-end="2560">Consider using segment trees with histogram for range minimum query (RMQ) problems</li>
</ul>
<h2 class="code-line" data-line-start=2560 data-line-end=2561 ><a id="Pattern_11Binary_Indexed_Tree_Fenwick_Tree_Pattern_2560"></a>Pattern 11:Binary Indexed Tree (Fenwick Tree) Pattern</h2>
<h3 class="code-line" data-line-start=2562 data-line-end=2563 ><a id="Basic_BIT_Operations_2562"></a>Basic BIT Operations</h3>
<ol>
<li class="has-line-data" data-line-start="2563" data-line-end="2569">
<p class="has-line-data" data-line-start="2563" data-line-end="2564">Range Sum Queries</p>
<ul>
<li class="has-line-data" data-line-start="2564" data-line-end="2565"><a href="https://leetcode.com/problems/range-sum-query-mutable/">LeetCode: 307 - Range Sum Query - Mutable</a>  Medium</li>
<li class="has-line-data" data-line-start="2565" data-line-end="2566">Basic BIT implementation</li>
<li class="has-line-data" data-line-start="2566" data-line-end="2567">Progression: Introduces efficient prefix sum structure</li>
<li class="has-line-data" data-line-start="2567" data-line-end="2569">Core Difference: Provides O(log n) updates and queries for cumulative data</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2569" data-line-end="2575">
<p class="has-line-data" data-line-start="2569" data-line-end="2570">Number of Longest Increasing Subsequence</p>
<ul>
<li class="has-line-data" data-line-start="2570" data-line-end="2571"><a href="https://leetcode.com/problems/number-of-longest-increasing-subsequence/">LeetCode: 673 - Number of Longest Increasing Subsequence</a>  Medium</li>
<li class="has-line-data" data-line-start="2571" data-line-end="2572">Application to LIS counting</li>
<li class="has-line-data" data-line-start="2572" data-line-end="2573">Progression: Applies BIT to sequence problems</li>
<li class="has-line-data" data-line-start="2573" data-line-end="2575">Core Difference: Uses BIT for dynamic programming optimization</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2575" data-line-end="2581">
<p class="has-line-data" data-line-start="2575" data-line-end="2576">Counting Inversions</p>
<ul>
<li class="has-line-data" data-line-start="2576" data-line-end="2577"><a href="https://www.geeksforgeeks.org/counting-inversions/">GeeksForGeeks: Count Inversions in an Array</a>  Hard</li>
<li class="has-line-data" data-line-start="2577" data-line-end="2578">Differs by counting inversions</li>
<li class="has-line-data" data-line-start="2578" data-line-end="2579">Progression: Applies BIT to element ordering problems</li>
<li class="has-line-data" data-line-start="2579" data-line-end="2581">Core Difference: Efficiently counts pairs satisfying specific order conditions</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2581" data-line-end="2587">
<p class="has-line-data" data-line-start="2581" data-line-end="2582">Count Smaller Numbers After Self</p>
<ul>
<li class="has-line-data" data-line-start="2582" data-line-end="2583"><a href="https://leetcode.com/problems/count-of-smaller-numbers-after-self/">LeetCode: 315 - Count of Smaller Numbers After Self</a>  Hard</li>
<li class="has-line-data" data-line-start="2583" data-line-end="2584">Extension of inversion counting</li>
<li class="has-line-data" data-line-start="2584" data-line-end="2585">Progression: Adapts inversion counting to specific elements</li>
<li class="has-line-data" data-line-start="2585" data-line-end="2587">Core Difference: Requires maintaining element order during processing</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2587 data-line-end=2588 ><a id="Prefixbased_Problems_2587"></a>Prefix-based Problems</h3>
<ol start="5">
<li class="has-line-data" data-line-start="2588" data-line-end="2594">
<p class="has-line-data" data-line-start="2588" data-line-end="2589">Create Sorted Array</p>
<ul>
<li class="has-line-data" data-line-start="2589" data-line-end="2590"><a href="https://leetcode.com/problems/create-sorted-array-through-instructions/">LeetCode: 1649 - Create Sorted Array through Instructions</a>  Hard</li>
<li class="has-line-data" data-line-start="2590" data-line-end="2591">Building sorted array using BIT</li>
<li class="has-line-data" data-line-start="2591" data-line-end="2592">Progression: Applies BIT to dynamic array construction</li>
<li class="has-line-data" data-line-start="2592" data-line-end="2594">Core Difference: Efficiently maintains sorted order during insertions</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2594" data-line-end="2600">
<p class="has-line-data" data-line-start="2594" data-line-end="2595">Maximum Profitable Triplets</p>
<ul>
<li class="has-line-data" data-line-start="2595" data-line-end="2596"><a href="https://example.com/max-profitable-triplets">Custom: Maximum Profitable Triplets</a>  Hard</li>
<li class="has-line-data" data-line-start="2596" data-line-end="2597">Price-based range queries</li>
<li class="has-line-data" data-line-start="2597" data-line-end="2598">Progression: Extends BIT to multi-element relationship problems</li>
<li class="has-line-data" data-line-start="2598" data-line-end="2600">Core Difference: Requires efficient handling of triplet conditions</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2600" data-line-end="2606">
<p class="has-line-data" data-line-start="2600" data-line-end="2601">Count Good Triplets</p>
<ul>
<li class="has-line-data" data-line-start="2601" data-line-end="2602"><a href="https://leetcode.com/problems/count-good-triplets/">LeetCode: 1534 - Count Good Triplets</a>  Easy</li>
<li class="has-line-data" data-line-start="2602" data-line-end="2603">Modified triplet counting</li>
<li class="has-line-data" data-line-start="2603" data-line-end="2604">Progression: Applies BIT to optimize brute force approaches</li>
<li class="has-line-data" data-line-start="2604" data-line-end="2606">Core Difference: Uses BIT for range-based condition checking</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2606" data-line-end="2612">
<p class="has-line-data" data-line-start="2606" data-line-end="2607">Range Frequency Queries</p>
<ul>
<li class="has-line-data" data-line-start="2607" data-line-end="2608"><a href="https://leetcode.com/problems/range-frequency-queries/">LeetCode: 2080 - Range Frequency Queries</a>  Medium</li>
<li class="has-line-data" data-line-start="2608" data-line-end="2609">Frequency tracking with BIT</li>
<li class="has-line-data" data-line-start="2609" data-line-end="2610">Progression: Adapts BIT for element frequency problems</li>
<li class="has-line-data" data-line-start="2610" data-line-end="2612">Core Difference: Combines frequency counting with range queries</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2612 data-line-end=2613 ><a id="2D_BIT_Applications_2612"></a>2D BIT Applications</h3>
<ol start="9">
<li class="has-line-data" data-line-start="2613" data-line-end="2619">
<p class="has-line-data" data-line-start="2613" data-line-end="2614">2D Range Sum Query</p>
<ul>
<li class="has-line-data" data-line-start="2614" data-line-end="2615"><a href="https://leetcode.com/problems/range-sum-query-2d-mutable/">LeetCode: 308 - Range Sum Query 2D - Mutable</a>  Hard</li>
<li class="has-line-data" data-line-start="2615" data-line-end="2616">Basic 2D BIT</li>
<li class="has-line-data" data-line-start="2616" data-line-end="2617">Progression: Extends BIT concept to two-dimensional data</li>
<li class="has-line-data" data-line-start="2617" data-line-end="2619">Core Difference: Requires efficient handling of rectangular regions</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2619" data-line-end="2625">
<p class="has-line-data" data-line-start="2619" data-line-end="2620">Rectangle Area Sum</p>
<ul>
<li class="has-line-data" data-line-start="2620" data-line-end="2621"><a href="https://example.com/rectangle-area-sum">Custom: Rectangle Area Sum</a>  Hard</li>
<li class="has-line-data" data-line-start="2621" data-line-end="2622">Optimized 2D queries</li>
<li class="has-line-data" data-line-start="2622" data-line-end="2623">Progression: Improves upon basic 2D range sum</li>
<li class="has-line-data" data-line-start="2623" data-line-end="2625">Core Difference: Focuses on optimizing for arbitrary rectangular areas</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2625" data-line-end="2631">
<p class="has-line-data" data-line-start="2625" data-line-end="2626">Count Points in Rectangles</p>
<ul>
<li class="has-line-data" data-line-start="2626" data-line-end="2627"><a href="https://leetcode.com/problems/count-number-of-rectangles-containing-each-point/">LeetCode: 2250 - Count Number of Rectangles Containing Each Point</a>  Medium</li>
<li class="has-line-data" data-line-start="2627" data-line-end="2628">Point counting in 2D</li>
<li class="has-line-data" data-line-start="2628" data-line-end="2629">Progression: Applies 2D BIT to geometric problems</li>
<li class="has-line-data" data-line-start="2629" data-line-end="2631">Core Difference: Efficiently handles point-in-rectangle queries</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2631" data-line-end="2637">
<p class="has-line-data" data-line-start="2631" data-line-end="2632">Maximum Points in Rectangle</p>
<ul>
<li class="has-line-data" data-line-start="2632" data-line-end="2633"><a href="https://example.com/max-points-rectangle">Custom: Maximum Points in Rectangle</a>  Hard</li>
<li class="has-line-data" data-line-start="2633" data-line-end="2634">Finding maximum in ranges</li>
<li class="has-line-data" data-line-start="2634" data-line-end="2635">Progression: Extends 2D range queries to maximum finding</li>
<li class="has-line-data" data-line-start="2635" data-line-end="2637">Core Difference: Combines range maximum with 2D BIT structure</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2637 data-line-end=2638 ><a id="Dynamic_Updates_2637"></a>Dynamic Updates</h3>
<ol start="13">
<li class="has-line-data" data-line-start="2638" data-line-end="2644">
<p class="has-line-data" data-line-start="2638" data-line-end="2639">Range Update Point Query</p>
<ul>
<li class="has-line-data" data-line-start="2639" data-line-end="2640"><a href="https://www.geeksforgeeks.org/range-update-point-query-using-bit/">GeeksForGeeks: Range update Point Query using BIT</a>  Hard</li>
<li class="has-line-data" data-line-start="2640" data-line-end="2641">Range updates with point queries</li>
<li class="has-line-data" data-line-start="2641" data-line-end="2642">Progression: Introduces concept of lazy propagation in BIT</li>
<li class="has-line-data" data-line-start="2642" data-line-end="2644">Core Difference: Efficiently handles bulk updates with single-point queries</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2644" data-line-end="2650">
<p class="has-line-data" data-line-start="2644" data-line-end="2645">Point Update Range Query</p>
<ul>
<li class="has-line-data" data-line-start="2645" data-line-end="2646"><a href="https://leetcode.com/problems/range-sum-query-mutable/">LeetCode: 307 - Range Sum Query - Mutable</a>  Medium</li>
<li class="has-line-data" data-line-start="2646" data-line-end="2647">Point updates with range queries</li>
<li class="has-line-data" data-line-start="2647" data-line-end="2648">Progression: Revisits basic BIT operations with focus on query optimization</li>
<li class="has-line-data" data-line-start="2648" data-line-end="2650">Core Difference: Balances update and query efficiency</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2650" data-line-end="2656">
<p class="has-line-data" data-line-start="2650" data-line-end="2651">Range Update Range Query</p>
<ul>
<li class="has-line-data" data-line-start="2651" data-line-end="2652"><a href="https://www.geeksforgeeks.org/range-update-range-query-using-bit/">GeeksForGeeks: Range Update Range Query using BIT</a>  Hard</li>
<li class="has-line-data" data-line-start="2652" data-line-end="2653">Both updates and queries on ranges</li>
<li class="has-line-data" data-line-start="2653" data-line-end="2654">Progression: Combines concepts from problems 13 and 14</li>
<li class="has-line-data" data-line-start="2654" data-line-end="2656">Core Difference: Requires sophisticated BIT structure for dual range operations</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2656" data-line-end="2662">
<p class="has-line-data" data-line-start="2656" data-line-end="2657">Dynamic Range Minimum Query</p>
<ul>
<li class="has-line-data" data-line-start="2657" data-line-end="2658"><a href="https://example.com/dynamic-range-min-query">Custom: Dynamic Range Minimum Query</a>  Hard</li>
<li class="has-line-data" data-line-start="2658" data-line-end="2659">Finding minimum with updates</li>
<li class="has-line-data" data-line-start="2659" data-line-end="2660">Progression: Adapts BIT for non-sum range problems</li>
<li class="has-line-data" data-line-start="2660" data-line-end="2662">Core Difference: Requires modification of BIT internals for minimum tracking</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2662 data-line-end=2663 ><a id="Advanced_Applications_2662"></a>Advanced Applications</h3>
<ol start="17">
<li class="has-line-data" data-line-start="2663" data-line-end="2669">
<p class="has-line-data" data-line-start="2663" data-line-end="2664">Sliding Window Median</p>
<ul>
<li class="has-line-data" data-line-start="2664" data-line-end="2665"><a href="https://leetcode.com/problems/sliding-window-median/">LeetCode: 480 - Sliding Window Median</a>  Hard</li>
<li class="has-line-data" data-line-start="2665" data-line-end="2666">Using BIT for median finding</li>
<li class="has-line-data" data-line-start="2666" data-line-end="2667">Progression: Applies BIT to sliding window problems</li>
<li class="has-line-data" data-line-start="2667" data-line-end="2669">Core Difference: Requires efficient insertion, deletion, and order statistics</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2669" data-line-end="2675">
<p class="has-line-data" data-line-start="2669" data-line-end="2670">Count of Range Sum</p>
<ul>
<li class="has-line-data" data-line-start="2670" data-line-end="2671"><a href="https://leetcode.com/problems/count-of-range-sum/">LeetCode: 327 - Count of Range Sum</a>  Hard</li>
<li class="has-line-data" data-line-start="2671" data-line-end="2672">Range sum counting</li>
<li class="has-line-data" data-line-start="2672" data-line-end="2673">Progression: Combines prefix sums with BIT for complex counting</li>
<li class="has-line-data" data-line-start="2673" data-line-end="2675">Core Difference: Efficiently handles cumulative sum range conditions</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2675" data-line-end="2681">
<p class="has-line-data" data-line-start="2675" data-line-end="2676">Maximum Sum Queries</p>
<ul>
<li class="has-line-data" data-line-start="2676" data-line-end="2677"><a href="https://leetcode.com/problems/maximum-sum-queries/">LeetCode: 2736 - Maximum Sum Queries</a>  Hard</li>
<li class="has-line-data" data-line-start="2677" data-line-end="2678">Finding maximum sums</li>
<li class="has-line-data" data-line-start="2678" data-line-end="2679">Progression: Extends BIT to handle maximum sum problems</li>
<li class="has-line-data" data-line-start="2679" data-line-end="2681">Core Difference: Requires sophisticated query processing for maximum sums</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2681" data-line-end="2687">
<p class="has-line-data" data-line-start="2681" data-line-end="2682">Optimal Range Modification</p>
<ul>
<li class="has-line-data" data-line-start="2682" data-line-end="2683"><a href="https://example.com/optimal-range-mod">Custom: Optimal Range Modification</a>  Hard</li>
<li class="has-line-data" data-line-start="2683" data-line-end="2684">Optimizing range operations</li>
<li class="has-line-data" data-line-start="2684" data-line-end="2685">Progression: Combines various BIT techniques for complex range problems</li>
<li class="has-line-data" data-line-start="2685" data-line-end="2687">Core Difference: Focuses on finding optimal modifications to satisfy range conditions</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2687 data-line-end=2688 ><a id="Implementation_Templates_2687"></a>Implementation Templates</h3>
<pre><code class="has-line-data" data-line-start="2689" data-line-end="2710" class="language-python"><span class="hljs-number">1.</span> Basic Binary Indexed Tree Template
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BinaryIndexedTree</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, n)</span>:</span>
        self.n = n
        self.tree = [<span class="hljs-number">0</span>] * (n + <span class="hljs-number">1</span>)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update</span><span class="hljs-params">(self, i, delta)</span>:</span>
        <span class="hljs-keyword">while</span> i &lt;= self.n:
            self.tree[i] += delta
            i += i &amp; (-i)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">query</span><span class="hljs-params">(self, i)</span>:</span>
        sum = <span class="hljs-number">0</span>
        <span class="hljs-keyword">while</span> i &gt; <span class="hljs-number">0</span>:
            sum += self.tree[i]
            i -= i &amp; (-i)
        <span class="hljs-keyword">return</span> sum
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">range_query</span><span class="hljs-params">(self, left, right)</span>:</span>
        <span class="hljs-keyword">return</span> self.query(right) - self.query(left - <span class="hljs-number">1</span>)
</code></pre>
<ol start="2">
<li class="has-line-data" data-line-start="2711" data-line-end="2713">2D Binary Indexed Tree Template</li>
</ol>
<pre><code class="has-line-data" data-line-start="2714" data-line-end="2744" class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BinaryIndexedTree2D</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, n, m)</span>:</span>
        self.n = n
        self.m = m
        self.tree = [[<span class="hljs-number">0</span>] * (m + <span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(n + <span class="hljs-number">1</span>)]
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update</span><span class="hljs-params">(self, x, y, delta)</span>:</span>
        i = x
        <span class="hljs-keyword">while</span> i &lt;= self.n:
            j = y
            <span class="hljs-keyword">while</span> j &lt;= self.m:
                self.tree[i][j] += delta
                j += j &amp; (-j)
            i += i &amp; (-i)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">query</span><span class="hljs-params">(self, x, y)</span>:</span>
        sum = <span class="hljs-number">0</span>
        i = x
        <span class="hljs-keyword">while</span> i &gt; <span class="hljs-number">0</span>:
            j = y
            <span class="hljs-keyword">while</span> j &gt; <span class="hljs-number">0</span>:
                sum += self.tree[i][j]
                j -= j &amp; (-j)
            i -= i &amp; (-i)
        <span class="hljs-keyword">return</span> sum
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">range_query</span><span class="hljs-params">(self, x1, y1, x2, y2)</span>:</span>
        <span class="hljs-keyword">return</span> (self.query(x2, y2) - self.query(x1-<span class="hljs-number">1</span>, y2) - 
                self.query(x2, y1-<span class="hljs-number">1</span>) + self.query(x1-<span class="hljs-number">1</span>, y1-<span class="hljs-number">1</span>))
</code></pre>
<h3 class="code-line" data-line-start=2745 data-line-end=2746 ><a id="Optimization_Guidelines_2745"></a>Optimization Guidelines</h3>
<ol>
<li class="has-line-data" data-line-start="2747" data-line-end="2752">
<p class="has-line-data" data-line-start="2747" data-line-end="2748">Memory Optimization:</p>
<ul>
<li class="has-line-data" data-line-start="2748" data-line-end="2749">Use compressed BIT for sparse updates</li>
<li class="has-line-data" data-line-start="2749" data-line-end="2750">Implement implicit BIT for large ranges with few elements</li>
<li class="has-line-data" data-line-start="2750" data-line-end="2752">Use delta encoding for range updates to reduce memory usage</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2752" data-line-end="2757">
<p class="has-line-data" data-line-start="2752" data-line-end="2753">Query Optimization:</p>
<ul>
<li class="has-line-data" data-line-start="2753" data-line-end="2754">Implement binary lifting for faster queries</li>
<li class="has-line-data" data-line-start="2754" data-line-end="2755">Use parallel prefix sum for batch queries</li>
<li class="has-line-data" data-line-start="2755" data-line-end="2757">Implement range mode query using BIT with coordinate compression</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2757" data-line-end="2762">
<p class="has-line-data" data-line-start="2757" data-line-end="2758">Update Optimization:</p>
<ul>
<li class="has-line-data" data-line-start="2758" data-line-end="2759">Use lazy propagation for range updates on BIT</li>
<li class="has-line-data" data-line-start="2759" data-line-end="2760">Implement batch updates for multiple changes</li>
<li class="has-line-data" data-line-start="2760" data-line-end="2762">Use difference arrays with BIT for efficient range updates</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2762 data-line-end=2763 ><a id="Common_Pitfalls_2762"></a>Common Pitfalls</h3>
<ol>
<li class="has-line-data" data-line-start="2763" data-line-end="2764">Using 0-based indexing instead of 1-based indexing</li>
<li class="has-line-data" data-line-start="2764" data-line-end="2765">Forgetting to update all affected positions in multi-dimensional BITs</li>
<li class="has-line-data" data-line-start="2765" data-line-end="2766">Integer overflow in cumulative frequency calculations</li>
<li class="has-line-data" data-line-start="2766" data-line-end="2767">Incorrect range calculations in query operations</li>
<li class="has-line-data" data-line-start="2767" data-line-end="2769">Not handling edge cases for empty ranges or out-of-bounds queries</li>
</ol>
<h3 class="code-line" data-line-start=2769 data-line-end=2770 ><a id="Additional_Notes_2769"></a>Additional Notes</h3>
<ul>
<li class="has-line-data" data-line-start="2770" data-line-end="2771">Consider using BIT for dynamic cumulative frequency problems</li>
<li class="has-line-data" data-line-start="2771" data-line-end="2772">Implement BIT with range update and range query using difference arrays</li>
<li class="has-line-data" data-line-start="2772" data-line-end="2773">Use BIT for fast inversions counting in sorting algorithms</li>
<li class="has-line-data" data-line-start="2773" data-line-end="2774">Implement persistent BIT for version control in dynamic problems</li>
<li class="has-line-data" data-line-start="2774" data-line-end="2775">Consider using BIT for problems involving discrete probability distributions</li>
</ul>

</body></html>
